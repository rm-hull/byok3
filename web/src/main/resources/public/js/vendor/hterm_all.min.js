'use strict';if('undefined'!=typeof lib)throw new Error('Global "lib" object already exists.');var lib={};if(lib.runtimeDependencies_={},lib.initCallbacks_=[],lib.rtdep=function(){var l;try{throw new Error}catch(_){var u=_.stack.split('\n');l=3<=u.length?u[2].replace(/^\s*at\s+/,''):u[1].replace(/^\s*global code@/,'')}for(var A=0,C;A<arguments.length;A++)if(C=arguments[A],C instanceof Array)lib.rtdep.apply(lib,C);else{var S=this.runtimeDependencies_[C];S||(S=this.runtimeDependencies_[C]=[]),S.push(l)}},lib.ensureRuntimeDependencies_=function(){var s=!0;for(var l in lib.runtimeDependencies_)for(var u=lib.runtimeDependencies_[l],A=l.split('.'),C=window||self,S=0;S<A.length;S++){if(!(A[S]in C)){console.warn('Missing "'+l+'" is needed by',u),s=!1;break}C=C[A[S]]}if(!s)throw new Error('Failed runtime dependency check')},lib.registerInit=function(s,l){return lib.initCallbacks_.push([s,l]),l},lib.init=function(s,l){var u=lib.initCallbacks_,A=function(){if(u.length){var C=u.shift();l&&l('init: '+C[0]),C[1](lib.f.alarm(A))}else s()};if('function'!=typeof s)throw new Error('Missing or invalid argument: onInit');lib.ensureRuntimeDependencies_(),setTimeout(A,0)},'use strict',String.prototype.padStart||(String.prototype.padStart=function(s,l){return(s-=this.length,0>=s)?this+'':(void 0===l&&(l=' '),s>l.length&&(l=l.repeat(s/l.length+1)),l.slice(0,s)+(this+''))}),String.prototype.padEnd||(String.prototype.padEnd=function(s,l){return(s-=this.length,0>=s)?this+'':(void 0===l&&(l=' '),s>l.length&&(l=l.repeat(s/l.length+1)),this+''+l.slice(0,s))}),!Object.values||!Object.entries){const s=Function.bind.call(Function.call,Array.prototype.reduce),l=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),u=Function.bind.call(Function.call,Array.prototype.concat);Object.values||(Object.values=function(C){return s(Reflect.ownKeys(C),(S,_)=>u(S,'string'==typeof _&&l(C,_)?[C[_]]:[]),[])}),Object.entries||(Object.entries=function(C){return s(Reflect.ownKeys(C),(S,_)=>u(S,'string'==typeof _&&l(C,_)?[[_,C[_]]]:[]),[])})}'use strict',lib.array={},lib.array.arrayBigEndianToUint32=function(s){const l=s[0]<<24|s[1]<<16|s[2]<<8|s[3]<<0;return l>>>0},lib.array.uint32ToArrayBigEndian=function(s){return[255&s>>>24,255&s>>>16,255&s>>>8,255&s>>>0]},lib.array.concatTyped=function(...s){let l=0;for(const C of s)l+=C.length;const u=new s[0].constructor(l);let A=0;for(const C of s)u.set(C,A),A+=C.length;return u},lib.array.compare=function(s,l){if(null===s||null===l)return null==s&&null==l;if(s.length!==l.length)return!1;for(let u=0;u<s.length;u++)if(s[u]!==l[u])return!1;return!0},'use strict',lib.colors={},lib.colors.re_={hex16:/#([a-f0-9])([a-f0-9])([a-f0-9])/i,hex24:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/i,rgb:new RegExp('^/s*rgb/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*/)/s*$'.replace(/\//g,'\\'),'i'),rgba:new RegExp('^/s*rgba/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*(?:,/s*(/d+(?:/./d+)?)/s*)/)/s*$'.replace(/\//g,'\\'),'i'),rgbx:new RegExp('^/s*rgba?/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*(?:,/s*(/d+(?:/./d+)?)/s*)?/)/s*$'.replace(/\//g,'\\'),'i'),x11rgb:/^\s*rgb:([a-f0-9]{1,4})\/([a-f0-9]{1,4})\/([a-f0-9]{1,4})\s*$/i,name:/[a-z][a-z0-9\s]+/},lib.colors.rgbToX11=function(s){function l(A){return A=(257*Math.min(A,255)).toString(16),lib.f.zpad(A,4)}var u=s.match(lib.colors.re_.rgbx);return u?'rgb:'+l(u[1])+'/'+l(u[2])+'/'+l(u[3]):null},lib.colors.x11HexToCSS=function(s){if(!s.startsWith('#'))return null;if(s=s.substr(1),-1==[3,6,9,12].indexOf(s.length))return null;if(s.match(/[^a-f0-9]/i))return null;var u=s.length/3,A=s.substr(0,u),C=s.substr(u,u),S=s.substr(u+u,u);return lib.colors.arrayToRGBA([A,C,S].map(function(_){return _=parseInt(_,16),2==u?_:1==u?_<<4:_>>4*(u-2)}))},lib.colors.x11ToCSS=function(s){var u=s.match(lib.colors.re_.x11rgb);return u?(u.splice(0,1),lib.colors.arrayToRGBA(u.map(function(A){return 1==A.length?parseInt(A+A,16):2==A.length?parseInt(A,16):(3==A.length&&(A+=A.substr(2)),Math.round(parseInt(A,16)/257))}))):s.startsWith('#')?lib.colors.x11HexToCSS(s):lib.colors.nameToRGB(s)},lib.colors.hexToRGB=function(s){function l(S){4==S.length&&(S=S.replace(u,function(T,F,V,P){return'#'+F+F+V+V+P+P}));var _=S.match(A);return _?'rgb('+parseInt(_[1],16)+', '+parseInt(_[2],16)+', '+parseInt(_[3],16)+')':null}var u=lib.colors.re_.hex16,A=lib.colors.re_.hex24;if(s instanceof Array)for(var C=0;C<s.length;C++)s[C]=l(s[C]);else s=l(s);return s},lib.colors.rgbToHex=function(s){function l(A){var C=lib.colors.crackRGB(A);return C?'#'+lib.f.zpad((parseInt(C[0])<<16|parseInt(C[1])<<8|parseInt(C[2])<<0).toString(16),6):null}if(s instanceof Array)for(var u=0;u<s.length;u++)s[u]=l(s[u]);else s=l(s);return s},lib.colors.normalizeCSS=function(s){return s.startsWith('#')?lib.colors.hexToRGB(s):lib.colors.re_.rgbx.test(s)?s:lib.colors.nameToRGB(s)},lib.colors.arrayToRGBA=function(s){var l=3<s.length?s[3]:1;return'rgba('+s[0]+', '+s[1]+', '+s[2]+', '+l+')'},lib.colors.setAlpha=function(s,l){var u=lib.colors.crackRGB(s);return u[3]=l,lib.colors.arrayToRGBA(u)},lib.colors.mix=function(s,l,u){for(var A=lib.colors.crackRGB(s),C=lib.colors.crackRGB(l),S=0,_;4>S;++S)_=C[S]-A[S],A[S]=Math.round(parseInt(A[S])+_*u);return lib.colors.arrayToRGBA(A)},lib.colors.crackRGB=function(s){if(s.startsWith('rgba')){var l=s.match(lib.colors.re_.rgba);if(l)return l.shift(),l}else{var l=s.match(lib.colors.re_.rgb);if(l)return l.shift(),l.push('1'),l}return console.error('Couldn\'t crack: '+s),null},lib.colors.nameToRGB=function(s){return s in lib.colors.colorNames?lib.colors.colorNames[s]:(s=s.toLowerCase(),s in lib.colors.colorNames)?lib.colors.colorNames[s]:(s=s.replace(/\s+/g,''),s in lib.colors.colorNames?lib.colors.colorNames[s]:null)},lib.colors.stockColorPalette=lib.colors.hexToRGB(['#000000','#CC0000','#4E9A06','#C4A000','#3465A4','#75507B','#06989A','#D3D7CF','#555753','#EF2929','#00BA13','#FCE94F','#729FCF','#F200CB','#00B5BD','#EEEEEC','#000000','#00005F','#000087','#0000AF','#0000D7','#0000FF','#005F00','#005F5F','#005F87','#005FAF','#005FD7','#005FFF','#008700','#00875F','#008787','#0087AF','#0087D7','#0087FF','#00AF00','#00AF5F','#00AF87','#00AFAF','#00AFD7','#00AFFF','#00D700','#00D75F','#00D787','#00D7AF','#00D7D7','#00D7FF','#00FF00','#00FF5F','#00FF87','#00FFAF','#00FFD7','#00FFFF','#5F0000','#5F005F','#5F0087','#5F00AF','#5F00D7','#5F00FF','#5F5F00','#5F5F5F','#5F5F87','#5F5FAF','#5F5FD7','#5F5FFF','#5F8700','#5F875F','#5F8787','#5F87AF','#5F87D7','#5F87FF','#5FAF00','#5FAF5F','#5FAF87','#5FAFAF','#5FAFD7','#5FAFFF','#5FD700','#5FD75F','#5FD787','#5FD7AF','#5FD7D7','#5FD7FF','#5FFF00','#5FFF5F','#5FFF87','#5FFFAF','#5FFFD7','#5FFFFF','#870000','#87005F','#870087','#8700AF','#8700D7','#8700FF','#875F00','#875F5F','#875F87','#875FAF','#875FD7','#875FFF','#878700','#87875F','#878787','#8787AF','#8787D7','#8787FF','#87AF00','#87AF5F','#87AF87','#87AFAF','#87AFD7','#87AFFF','#87D700','#87D75F','#87D787','#87D7AF','#87D7D7','#87D7FF','#87FF00','#87FF5F','#87FF87','#87FFAF','#87FFD7','#87FFFF','#AF0000','#AF005F','#AF0087','#AF00AF','#AF00D7','#AF00FF','#AF5F00','#AF5F5F','#AF5F87','#AF5FAF','#AF5FD7','#AF5FFF','#AF8700','#AF875F','#AF8787','#AF87AF','#AF87D7','#AF87FF','#AFAF00','#AFAF5F','#AFAF87','#AFAFAF','#AFAFD7','#AFAFFF','#AFD700','#AFD75F','#AFD787','#AFD7AF','#AFD7D7','#AFD7FF','#AFFF00','#AFFF5F','#AFFF87','#AFFFAF','#AFFFD7','#AFFFFF','#D70000','#D7005F','#D70087','#D700AF','#D700D7','#D700FF','#D75F00','#D75F5F','#D75F87','#D75FAF','#D75FD7','#D75FFF','#D78700','#D7875F','#D78787','#D787AF','#D787D7','#D787FF','#D7AF00','#D7AF5F','#D7AF87','#D7AFAF','#D7AFD7','#D7AFFF','#D7D700','#D7D75F','#D7D787','#D7D7AF','#D7D7D7','#D7D7FF','#D7FF00','#D7FF5F','#D7FF87','#D7FFAF','#D7FFD7','#D7FFFF','#FF0000','#FF005F','#FF0087','#FF00AF','#FF00D7','#FF00FF','#FF5F00','#FF5F5F','#FF5F87','#FF5FAF','#FF5FD7','#FF5FFF','#FF8700','#FF875F','#FF8787','#FF87AF','#FF87D7','#FF87FF','#FFAF00','#FFAF5F','#FFAF87','#FFAFAF','#FFAFD7','#FFAFFF','#FFD700','#FFD75F','#FFD787','#FFD7AF','#FFD7D7','#FFD7FF','#FFFF00','#FFFF5F','#FFFF87','#FFFFAF','#FFFFD7','#FFFFFF','#080808','#121212','#1C1C1C','#262626','#303030','#3A3A3A','#444444','#4E4E4E','#585858','#626262','#6C6C6C','#767676','#808080','#8A8A8A','#949494','#9E9E9E','#A8A8A8','#B2B2B2','#BCBCBC','#C6C6C6','#D0D0D0','#DADADA','#E4E4E4','#EEEEEE']),lib.colors.colorPalette=lib.colors.stockColorPalette,lib.colors.colorNames={aliceblue:'rgb(240, 248, 255)',antiquewhite:'rgb(250, 235, 215)',antiquewhite1:'rgb(255, 239, 219)',antiquewhite2:'rgb(238, 223, 204)',antiquewhite3:'rgb(205, 192, 176)',antiquewhite4:'rgb(139, 131, 120)',aquamarine:'rgb(127, 255, 212)',aquamarine1:'rgb(127, 255, 212)',aquamarine2:'rgb(118, 238, 198)',aquamarine3:'rgb(102, 205, 170)',aquamarine4:'rgb(69, 139, 116)',azure:'rgb(240, 255, 255)',azure1:'rgb(240, 255, 255)',azure2:'rgb(224, 238, 238)',azure3:'rgb(193, 205, 205)',azure4:'rgb(131, 139, 139)',beige:'rgb(245, 245, 220)',bisque:'rgb(255, 228, 196)',bisque1:'rgb(255, 228, 196)',bisque2:'rgb(238, 213, 183)',bisque3:'rgb(205, 183, 158)',bisque4:'rgb(139, 125, 107)',black:'rgb(0, 0, 0)',blanchedalmond:'rgb(255, 235, 205)',blue:'rgb(0, 0, 255)',blue1:'rgb(0, 0, 255)',blue2:'rgb(0, 0, 238)',blue3:'rgb(0, 0, 205)',blue4:'rgb(0, 0, 139)',blueviolet:'rgb(138, 43, 226)',brown:'rgb(165, 42, 42)',brown1:'rgb(255, 64, 64)',brown2:'rgb(238, 59, 59)',brown3:'rgb(205, 51, 51)',brown4:'rgb(139, 35, 35)',burlywood:'rgb(222, 184, 135)',burlywood1:'rgb(255, 211, 155)',burlywood2:'rgb(238, 197, 145)',burlywood3:'rgb(205, 170, 125)',burlywood4:'rgb(139, 115, 85)',cadetblue:'rgb(95, 158, 160)',cadetblue1:'rgb(152, 245, 255)',cadetblue2:'rgb(142, 229, 238)',cadetblue3:'rgb(122, 197, 205)',cadetblue4:'rgb(83, 134, 139)',chartreuse:'rgb(127, 255, 0)',chartreuse1:'rgb(127, 255, 0)',chartreuse2:'rgb(118, 238, 0)',chartreuse3:'rgb(102, 205, 0)',chartreuse4:'rgb(69, 139, 0)',chocolate:'rgb(210, 105, 30)',chocolate1:'rgb(255, 127, 36)',chocolate2:'rgb(238, 118, 33)',chocolate3:'rgb(205, 102, 29)',chocolate4:'rgb(139, 69, 19)',coral:'rgb(255, 127, 80)',coral1:'rgb(255, 114, 86)',coral2:'rgb(238, 106, 80)',coral3:'rgb(205, 91, 69)',coral4:'rgb(139, 62, 47)',cornflowerblue:'rgb(100, 149, 237)',cornsilk:'rgb(255, 248, 220)',cornsilk1:'rgb(255, 248, 220)',cornsilk2:'rgb(238, 232, 205)',cornsilk3:'rgb(205, 200, 177)',cornsilk4:'rgb(139, 136, 120)',cyan:'rgb(0, 255, 255)',cyan1:'rgb(0, 255, 255)',cyan2:'rgb(0, 238, 238)',cyan3:'rgb(0, 205, 205)',cyan4:'rgb(0, 139, 139)',darkblue:'rgb(0, 0, 139)',darkcyan:'rgb(0, 139, 139)',darkgoldenrod:'rgb(184, 134, 11)',darkgoldenrod1:'rgb(255, 185, 15)',darkgoldenrod2:'rgb(238, 173, 14)',darkgoldenrod3:'rgb(205, 149, 12)',darkgoldenrod4:'rgb(139, 101, 8)',darkgray:'rgb(169, 169, 169)',darkgreen:'rgb(0, 100, 0)',darkgrey:'rgb(169, 169, 169)',darkkhaki:'rgb(189, 183, 107)',darkmagenta:'rgb(139, 0, 139)',darkolivegreen:'rgb(85, 107, 47)',darkolivegreen1:'rgb(202, 255, 112)',darkolivegreen2:'rgb(188, 238, 104)',darkolivegreen3:'rgb(162, 205, 90)',darkolivegreen4:'rgb(110, 139, 61)',darkorange:'rgb(255, 140, 0)',darkorange1:'rgb(255, 127, 0)',darkorange2:'rgb(238, 118, 0)',darkorange3:'rgb(205, 102, 0)',darkorange4:'rgb(139, 69, 0)',darkorchid:'rgb(153, 50, 204)',darkorchid1:'rgb(191, 62, 255)',darkorchid2:'rgb(178, 58, 238)',darkorchid3:'rgb(154, 50, 205)',darkorchid4:'rgb(104, 34, 139)',darkred:'rgb(139, 0, 0)',darksalmon:'rgb(233, 150, 122)',darkseagreen:'rgb(143, 188, 143)',darkseagreen1:'rgb(193, 255, 193)',darkseagreen2:'rgb(180, 238, 180)',darkseagreen3:'rgb(155, 205, 155)',darkseagreen4:'rgb(105, 139, 105)',darkslateblue:'rgb(72, 61, 139)',darkslategray:'rgb(47, 79, 79)',darkslategray1:'rgb(151, 255, 255)',darkslategray2:'rgb(141, 238, 238)',darkslategray3:'rgb(121, 205, 205)',darkslategray4:'rgb(82, 139, 139)',darkslategrey:'rgb(47, 79, 79)',darkturquoise:'rgb(0, 206, 209)',darkviolet:'rgb(148, 0, 211)',debianred:'rgb(215, 7, 81)',deeppink:'rgb(255, 20, 147)',deeppink1:'rgb(255, 20, 147)',deeppink2:'rgb(238, 18, 137)',deeppink3:'rgb(205, 16, 118)',deeppink4:'rgb(139, 10, 80)',deepskyblue:'rgb(0, 191, 255)',deepskyblue1:'rgb(0, 191, 255)',deepskyblue2:'rgb(0, 178, 238)',deepskyblue3:'rgb(0, 154, 205)',deepskyblue4:'rgb(0, 104, 139)',dimgray:'rgb(105, 105, 105)',dimgrey:'rgb(105, 105, 105)',dodgerblue:'rgb(30, 144, 255)',dodgerblue1:'rgb(30, 144, 255)',dodgerblue2:'rgb(28, 134, 238)',dodgerblue3:'rgb(24, 116, 205)',dodgerblue4:'rgb(16, 78, 139)',firebrick:'rgb(178, 34, 34)',firebrick1:'rgb(255, 48, 48)',firebrick2:'rgb(238, 44, 44)',firebrick3:'rgb(205, 38, 38)',firebrick4:'rgb(139, 26, 26)',floralwhite:'rgb(255, 250, 240)',forestgreen:'rgb(34, 139, 34)',gainsboro:'rgb(220, 220, 220)',ghostwhite:'rgb(248, 248, 255)',gold:'rgb(255, 215, 0)',gold1:'rgb(255, 215, 0)',gold2:'rgb(238, 201, 0)',gold3:'rgb(205, 173, 0)',gold4:'rgb(139, 117, 0)',goldenrod:'rgb(218, 165, 32)',goldenrod1:'rgb(255, 193, 37)',goldenrod2:'rgb(238, 180, 34)',goldenrod3:'rgb(205, 155, 29)',goldenrod4:'rgb(139, 105, 20)',gray:'rgb(190, 190, 190)',gray0:'rgb(0, 0, 0)',gray1:'rgb(3, 3, 3)',gray10:'rgb(26, 26, 26)',gray100:'rgb(255, 255, 255)',gray11:'rgb(28, 28, 28)',gray12:'rgb(31, 31, 31)',gray13:'rgb(33, 33, 33)',gray14:'rgb(36, 36, 36)',gray15:'rgb(38, 38, 38)',gray16:'rgb(41, 41, 41)',gray17:'rgb(43, 43, 43)',gray18:'rgb(46, 46, 46)',gray19:'rgb(48, 48, 48)',gray2:'rgb(5, 5, 5)',gray20:'rgb(51, 51, 51)',gray21:'rgb(54, 54, 54)',gray22:'rgb(56, 56, 56)',gray23:'rgb(59, 59, 59)',gray24:'rgb(61, 61, 61)',gray25:'rgb(64, 64, 64)',gray26:'rgb(66, 66, 66)',gray27:'rgb(69, 69, 69)',gray28:'rgb(71, 71, 71)',gray29:'rgb(74, 74, 74)',gray3:'rgb(8, 8, 8)',gray30:'rgb(77, 77, 77)',gray31:'rgb(79, 79, 79)',gray32:'rgb(82, 82, 82)',gray33:'rgb(84, 84, 84)',gray34:'rgb(87, 87, 87)',gray35:'rgb(89, 89, 89)',gray36:'rgb(92, 92, 92)',gray37:'rgb(94, 94, 94)',gray38:'rgb(97, 97, 97)',gray39:'rgb(99, 99, 99)',gray4:'rgb(10, 10, 10)',gray40:'rgb(102, 102, 102)',gray41:'rgb(105, 105, 105)',gray42:'rgb(107, 107, 107)',gray43:'rgb(110, 110, 110)',gray44:'rgb(112, 112, 112)',gray45:'rgb(115, 115, 115)',gray46:'rgb(117, 117, 117)',gray47:'rgb(120, 120, 120)',gray48:'rgb(122, 122, 122)',gray49:'rgb(125, 125, 125)',gray5:'rgb(13, 13, 13)',gray50:'rgb(127, 127, 127)',gray51:'rgb(130, 130, 130)',gray52:'rgb(133, 133, 133)',gray53:'rgb(135, 135, 135)',gray54:'rgb(138, 138, 138)',gray55:'rgb(140, 140, 140)',gray56:'rgb(143, 143, 143)',gray57:'rgb(145, 145, 145)',gray58:'rgb(148, 148, 148)',gray59:'rgb(150, 150, 150)',gray6:'rgb(15, 15, 15)',gray60:'rgb(153, 153, 153)',gray61:'rgb(156, 156, 156)',gray62:'rgb(158, 158, 158)',gray63:'rgb(161, 161, 161)',gray64:'rgb(163, 163, 163)',gray65:'rgb(166, 166, 166)',gray66:'rgb(168, 168, 168)',gray67:'rgb(171, 171, 171)',gray68:'rgb(173, 173, 173)',gray69:'rgb(176, 176, 176)',gray7:'rgb(18, 18, 18)',gray70:'rgb(179, 179, 179)',gray71:'rgb(181, 181, 181)',gray72:'rgb(184, 184, 184)',gray73:'rgb(186, 186, 186)',gray74:'rgb(189, 189, 189)',gray75:'rgb(191, 191, 191)',gray76:'rgb(194, 194, 194)',gray77:'rgb(196, 196, 196)',gray78:'rgb(199, 199, 199)',gray79:'rgb(201, 201, 201)',gray8:'rgb(20, 20, 20)',gray80:'rgb(204, 204, 204)',gray81:'rgb(207, 207, 207)',gray82:'rgb(209, 209, 209)',gray83:'rgb(212, 212, 212)',gray84:'rgb(214, 214, 214)',gray85:'rgb(217, 217, 217)',gray86:'rgb(219, 219, 219)',gray87:'rgb(222, 222, 222)',gray88:'rgb(224, 224, 224)',gray89:'rgb(227, 227, 227)',gray9:'rgb(23, 23, 23)',gray90:'rgb(229, 229, 229)',gray91:'rgb(232, 232, 232)',gray92:'rgb(235, 235, 235)',gray93:'rgb(237, 237, 237)',gray94:'rgb(240, 240, 240)',gray95:'rgb(242, 242, 242)',gray96:'rgb(245, 245, 245)',gray97:'rgb(247, 247, 247)',gray98:'rgb(250, 250, 250)',gray99:'rgb(252, 252, 252)',green:'rgb(0, 255, 0)',green1:'rgb(0, 255, 0)',green2:'rgb(0, 238, 0)',green3:'rgb(0, 205, 0)',green4:'rgb(0, 139, 0)',greenyellow:'rgb(173, 255, 47)',grey:'rgb(190, 190, 190)',grey0:'rgb(0, 0, 0)',grey1:'rgb(3, 3, 3)',grey10:'rgb(26, 26, 26)',grey100:'rgb(255, 255, 255)',grey11:'rgb(28, 28, 28)',grey12:'rgb(31, 31, 31)',grey13:'rgb(33, 33, 33)',grey14:'rgb(36, 36, 36)',grey15:'rgb(38, 38, 38)',grey16:'rgb(41, 41, 41)',grey17:'rgb(43, 43, 43)',grey18:'rgb(46, 46, 46)',grey19:'rgb(48, 48, 48)',grey2:'rgb(5, 5, 5)',grey20:'rgb(51, 51, 51)',grey21:'rgb(54, 54, 54)',grey22:'rgb(56, 56, 56)',grey23:'rgb(59, 59, 59)',grey24:'rgb(61, 61, 61)',grey25:'rgb(64, 64, 64)',grey26:'rgb(66, 66, 66)',grey27:'rgb(69, 69, 69)',grey28:'rgb(71, 71, 71)',grey29:'rgb(74, 74, 74)',grey3:'rgb(8, 8, 8)',grey30:'rgb(77, 77, 77)',grey31:'rgb(79, 79, 79)',grey32:'rgb(82, 82, 82)',grey33:'rgb(84, 84, 84)',grey34:'rgb(87, 87, 87)',grey35:'rgb(89, 89, 89)',grey36:'rgb(92, 92, 92)',grey37:'rgb(94, 94, 94)',grey38:'rgb(97, 97, 97)',grey39:'rgb(99, 99, 99)',grey4:'rgb(10, 10, 10)',grey40:'rgb(102, 102, 102)',grey41:'rgb(105, 105, 105)',grey42:'rgb(107, 107, 107)',grey43:'rgb(110, 110, 110)',grey44:'rgb(112, 112, 112)',grey45:'rgb(115, 115, 115)',grey46:'rgb(117, 117, 117)',grey47:'rgb(120, 120, 120)',grey48:'rgb(122, 122, 122)',grey49:'rgb(125, 125, 125)',grey5:'rgb(13, 13, 13)',grey50:'rgb(127, 127, 127)',grey51:'rgb(130, 130, 130)',grey52:'rgb(133, 133, 133)',grey53:'rgb(135, 135, 135)',grey54:'rgb(138, 138, 138)',grey55:'rgb(140, 140, 140)',grey56:'rgb(143, 143, 143)',grey57:'rgb(145, 145, 145)',grey58:'rgb(148, 148, 148)',grey59:'rgb(150, 150, 150)',grey6:'rgb(15, 15, 15)',grey60:'rgb(153, 153, 153)',grey61:'rgb(156, 156, 156)',grey62:'rgb(158, 158, 158)',grey63:'rgb(161, 161, 161)',grey64:'rgb(163, 163, 163)',grey65:'rgb(166, 166, 166)',grey66:'rgb(168, 168, 168)',grey67:'rgb(171, 171, 171)',grey68:'rgb(173, 173, 173)',grey69:'rgb(176, 176, 176)',grey7:'rgb(18, 18, 18)',grey70:'rgb(179, 179, 179)',grey71:'rgb(181, 181, 181)',grey72:'rgb(184, 184, 184)',grey73:'rgb(186, 186, 186)',grey74:'rgb(189, 189, 189)',grey75:'rgb(191, 191, 191)',grey76:'rgb(194, 194, 194)',grey77:'rgb(196, 196, 196)',grey78:'rgb(199, 199, 199)',grey79:'rgb(201, 201, 201)',grey8:'rgb(20, 20, 20)',grey80:'rgb(204, 204, 204)',grey81:'rgb(207, 207, 207)',grey82:'rgb(209, 209, 209)',grey83:'rgb(212, 212, 212)',grey84:'rgb(214, 214, 214)',grey85:'rgb(217, 217, 217)',grey86:'rgb(219, 219, 219)',grey87:'rgb(222, 222, 222)',grey88:'rgb(224, 224, 224)',grey89:'rgb(227, 227, 227)',grey9:'rgb(23, 23, 23)',grey90:'rgb(229, 229, 229)',grey91:'rgb(232, 232, 232)',grey92:'rgb(235, 235, 235)',grey93:'rgb(237, 237, 237)',grey94:'rgb(240, 240, 240)',grey95:'rgb(242, 242, 242)',grey96:'rgb(245, 245, 245)',grey97:'rgb(247, 247, 247)',grey98:'rgb(250, 250, 250)',grey99:'rgb(252, 252, 252)',honeydew:'rgb(240, 255, 240)',honeydew1:'rgb(240, 255, 240)',honeydew2:'rgb(224, 238, 224)',honeydew3:'rgb(193, 205, 193)',honeydew4:'rgb(131, 139, 131)',hotpink:'rgb(255, 105, 180)',hotpink1:'rgb(255, 110, 180)',hotpink2:'rgb(238, 106, 167)',hotpink3:'rgb(205, 96, 144)',hotpink4:'rgb(139, 58, 98)',indianred:'rgb(205, 92, 92)',indianred1:'rgb(255, 106, 106)',indianred2:'rgb(238, 99, 99)',indianred3:'rgb(205, 85, 85)',indianred4:'rgb(139, 58, 58)',ivory:'rgb(255, 255, 240)',ivory1:'rgb(255, 255, 240)',ivory2:'rgb(238, 238, 224)',ivory3:'rgb(205, 205, 193)',ivory4:'rgb(139, 139, 131)',khaki:'rgb(240, 230, 140)',khaki1:'rgb(255, 246, 143)',khaki2:'rgb(238, 230, 133)',khaki3:'rgb(205, 198, 115)',khaki4:'rgb(139, 134, 78)',lavender:'rgb(230, 230, 250)',lavenderblush:'rgb(255, 240, 245)',lavenderblush1:'rgb(255, 240, 245)',lavenderblush2:'rgb(238, 224, 229)',lavenderblush3:'rgb(205, 193, 197)',lavenderblush4:'rgb(139, 131, 134)',lawngreen:'rgb(124, 252, 0)',lemonchiffon:'rgb(255, 250, 205)',lemonchiffon1:'rgb(255, 250, 205)',lemonchiffon2:'rgb(238, 233, 191)',lemonchiffon3:'rgb(205, 201, 165)',lemonchiffon4:'rgb(139, 137, 112)',lightblue:'rgb(173, 216, 230)',lightblue1:'rgb(191, 239, 255)',lightblue2:'rgb(178, 223, 238)',lightblue3:'rgb(154, 192, 205)',lightblue4:'rgb(104, 131, 139)',lightcoral:'rgb(240, 128, 128)',lightcyan:'rgb(224, 255, 255)',lightcyan1:'rgb(224, 255, 255)',lightcyan2:'rgb(209, 238, 238)',lightcyan3:'rgb(180, 205, 205)',lightcyan4:'rgb(122, 139, 139)',lightgoldenrod:'rgb(238, 221, 130)',lightgoldenrod1:'rgb(255, 236, 139)',lightgoldenrod2:'rgb(238, 220, 130)',lightgoldenrod3:'rgb(205, 190, 112)',lightgoldenrod4:'rgb(139, 129, 76)',lightgoldenrodyellow:'rgb(250, 250, 210)',lightgray:'rgb(211, 211, 211)',lightgreen:'rgb(144, 238, 144)',lightgrey:'rgb(211, 211, 211)',lightpink:'rgb(255, 182, 193)',lightpink1:'rgb(255, 174, 185)',lightpink2:'rgb(238, 162, 173)',lightpink3:'rgb(205, 140, 149)',lightpink4:'rgb(139, 95, 101)',lightsalmon:'rgb(255, 160, 122)',lightsalmon1:'rgb(255, 160, 122)',lightsalmon2:'rgb(238, 149, 114)',lightsalmon3:'rgb(205, 129, 98)',lightsalmon4:'rgb(139, 87, 66)',lightseagreen:'rgb(32, 178, 170)',lightskyblue:'rgb(135, 206, 250)',lightskyblue1:'rgb(176, 226, 255)',lightskyblue2:'rgb(164, 211, 238)',lightskyblue3:'rgb(141, 182, 205)',lightskyblue4:'rgb(96, 123, 139)',lightslateblue:'rgb(132, 112, 255)',lightslategray:'rgb(119, 136, 153)',lightslategrey:'rgb(119, 136, 153)',lightsteelblue:'rgb(176, 196, 222)',lightsteelblue1:'rgb(202, 225, 255)',lightsteelblue2:'rgb(188, 210, 238)',lightsteelblue3:'rgb(162, 181, 205)',lightsteelblue4:'rgb(110, 123, 139)',lightyellow:'rgb(255, 255, 224)',lightyellow1:'rgb(255, 255, 224)',lightyellow2:'rgb(238, 238, 209)',lightyellow3:'rgb(205, 205, 180)',lightyellow4:'rgb(139, 139, 122)',limegreen:'rgb(50, 205, 50)',linen:'rgb(250, 240, 230)',magenta:'rgb(255, 0, 255)',magenta1:'rgb(255, 0, 255)',magenta2:'rgb(238, 0, 238)',magenta3:'rgb(205, 0, 205)',magenta4:'rgb(139, 0, 139)',maroon:'rgb(176, 48, 96)',maroon1:'rgb(255, 52, 179)',maroon2:'rgb(238, 48, 167)',maroon3:'rgb(205, 41, 144)',maroon4:'rgb(139, 28, 98)',mediumaquamarine:'rgb(102, 205, 170)',mediumblue:'rgb(0, 0, 205)',mediumorchid:'rgb(186, 85, 211)',mediumorchid1:'rgb(224, 102, 255)',mediumorchid2:'rgb(209, 95, 238)',mediumorchid3:'rgb(180, 82, 205)',mediumorchid4:'rgb(122, 55, 139)',mediumpurple:'rgb(147, 112, 219)',mediumpurple1:'rgb(171, 130, 255)',mediumpurple2:'rgb(159, 121, 238)',mediumpurple3:'rgb(137, 104, 205)',mediumpurple4:'rgb(93, 71, 139)',mediumseagreen:'rgb(60, 179, 113)',mediumslateblue:'rgb(123, 104, 238)',mediumspringgreen:'rgb(0, 250, 154)',mediumturquoise:'rgb(72, 209, 204)',mediumvioletred:'rgb(199, 21, 133)',midnightblue:'rgb(25, 25, 112)',mintcream:'rgb(245, 255, 250)',mistyrose:'rgb(255, 228, 225)',mistyrose1:'rgb(255, 228, 225)',mistyrose2:'rgb(238, 213, 210)',mistyrose3:'rgb(205, 183, 181)',mistyrose4:'rgb(139, 125, 123)',moccasin:'rgb(255, 228, 181)',navajowhite:'rgb(255, 222, 173)',navajowhite1:'rgb(255, 222, 173)',navajowhite2:'rgb(238, 207, 161)',navajowhite3:'rgb(205, 179, 139)',navajowhite4:'rgb(139, 121, 94)',navy:'rgb(0, 0, 128)',navyblue:'rgb(0, 0, 128)',oldlace:'rgb(253, 245, 230)',olivedrab:'rgb(107, 142, 35)',olivedrab1:'rgb(192, 255, 62)',olivedrab2:'rgb(179, 238, 58)',olivedrab3:'rgb(154, 205, 50)',olivedrab4:'rgb(105, 139, 34)',orange:'rgb(255, 165, 0)',orange1:'rgb(255, 165, 0)',orange2:'rgb(238, 154, 0)',orange3:'rgb(205, 133, 0)',orange4:'rgb(139, 90, 0)',orangered:'rgb(255, 69, 0)',orangered1:'rgb(255, 69, 0)',orangered2:'rgb(238, 64, 0)',orangered3:'rgb(205, 55, 0)',orangered4:'rgb(139, 37, 0)',orchid:'rgb(218, 112, 214)',orchid1:'rgb(255, 131, 250)',orchid2:'rgb(238, 122, 233)',orchid3:'rgb(205, 105, 201)',orchid4:'rgb(139, 71, 137)',palegoldenrod:'rgb(238, 232, 170)',palegreen:'rgb(152, 251, 152)',palegreen1:'rgb(154, 255, 154)',palegreen2:'rgb(144, 238, 144)',palegreen3:'rgb(124, 205, 124)',palegreen4:'rgb(84, 139, 84)',paleturquoise:'rgb(175, 238, 238)',paleturquoise1:'rgb(187, 255, 255)',paleturquoise2:'rgb(174, 238, 238)',paleturquoise3:'rgb(150, 205, 205)',paleturquoise4:'rgb(102, 139, 139)',palevioletred:'rgb(219, 112, 147)',palevioletred1:'rgb(255, 130, 171)',palevioletred2:'rgb(238, 121, 159)',palevioletred3:'rgb(205, 104, 137)',palevioletred4:'rgb(139, 71, 93)',papayawhip:'rgb(255, 239, 213)',peachpuff:'rgb(255, 218, 185)',peachpuff1:'rgb(255, 218, 185)',peachpuff2:'rgb(238, 203, 173)',peachpuff3:'rgb(205, 175, 149)',peachpuff4:'rgb(139, 119, 101)',peru:'rgb(205, 133, 63)',pink:'rgb(255, 192, 203)',pink1:'rgb(255, 181, 197)',pink2:'rgb(238, 169, 184)',pink3:'rgb(205, 145, 158)',pink4:'rgb(139, 99, 108)',plum:'rgb(221, 160, 221)',plum1:'rgb(255, 187, 255)',plum2:'rgb(238, 174, 238)',plum3:'rgb(205, 150, 205)',plum4:'rgb(139, 102, 139)',powderblue:'rgb(176, 224, 230)',purple:'rgb(160, 32, 240)',purple1:'rgb(155, 48, 255)',purple2:'rgb(145, 44, 238)',purple3:'rgb(125, 38, 205)',purple4:'rgb(85, 26, 139)',red:'rgb(255, 0, 0)',red1:'rgb(255, 0, 0)',red2:'rgb(238, 0, 0)',red3:'rgb(205, 0, 0)',red4:'rgb(139, 0, 0)',rosybrown:'rgb(188, 143, 143)',rosybrown1:'rgb(255, 193, 193)',rosybrown2:'rgb(238, 180, 180)',rosybrown3:'rgb(205, 155, 155)',rosybrown4:'rgb(139, 105, 105)',royalblue:'rgb(65, 105, 225)',royalblue1:'rgb(72, 118, 255)',royalblue2:'rgb(67, 110, 238)',royalblue3:'rgb(58, 95, 205)',royalblue4:'rgb(39, 64, 139)',saddlebrown:'rgb(139, 69, 19)',salmon:'rgb(250, 128, 114)',salmon1:'rgb(255, 140, 105)',salmon2:'rgb(238, 130, 98)',salmon3:'rgb(205, 112, 84)',salmon4:'rgb(139, 76, 57)',sandybrown:'rgb(244, 164, 96)',seagreen:'rgb(46, 139, 87)',seagreen1:'rgb(84, 255, 159)',seagreen2:'rgb(78, 238, 148)',seagreen3:'rgb(67, 205, 128)',seagreen4:'rgb(46, 139, 87)',seashell:'rgb(255, 245, 238)',seashell1:'rgb(255, 245, 238)',seashell2:'rgb(238, 229, 222)',seashell3:'rgb(205, 197, 191)',seashell4:'rgb(139, 134, 130)',sienna:'rgb(160, 82, 45)',sienna1:'rgb(255, 130, 71)',sienna2:'rgb(238, 121, 66)',sienna3:'rgb(205, 104, 57)',sienna4:'rgb(139, 71, 38)',skyblue:'rgb(135, 206, 235)',skyblue1:'rgb(135, 206, 255)',skyblue2:'rgb(126, 192, 238)',skyblue3:'rgb(108, 166, 205)',skyblue4:'rgb(74, 112, 139)',slateblue:'rgb(106, 90, 205)',slateblue1:'rgb(131, 111, 255)',slateblue2:'rgb(122, 103, 238)',slateblue3:'rgb(105, 89, 205)',slateblue4:'rgb(71, 60, 139)',slategray:'rgb(112, 128, 144)',slategray1:'rgb(198, 226, 255)',slategray2:'rgb(185, 211, 238)',slategray3:'rgb(159, 182, 205)',slategray4:'rgb(108, 123, 139)',slategrey:'rgb(112, 128, 144)',snow:'rgb(255, 250, 250)',snow1:'rgb(255, 250, 250)',snow2:'rgb(238, 233, 233)',snow3:'rgb(205, 201, 201)',snow4:'rgb(139, 137, 137)',springgreen:'rgb(0, 255, 127)',springgreen1:'rgb(0, 255, 127)',springgreen2:'rgb(0, 238, 118)',springgreen3:'rgb(0, 205, 102)',springgreen4:'rgb(0, 139, 69)',steelblue:'rgb(70, 130, 180)',steelblue1:'rgb(99, 184, 255)',steelblue2:'rgb(92, 172, 238)',steelblue3:'rgb(79, 148, 205)',steelblue4:'rgb(54, 100, 139)',tan:'rgb(210, 180, 140)',tan1:'rgb(255, 165, 79)',tan2:'rgb(238, 154, 73)',tan3:'rgb(205, 133, 63)',tan4:'rgb(139, 90, 43)',thistle:'rgb(216, 191, 216)',thistle1:'rgb(255, 225, 255)',thistle2:'rgb(238, 210, 238)',thistle3:'rgb(205, 181, 205)',thistle4:'rgb(139, 123, 139)',tomato:'rgb(255, 99, 71)',tomato1:'rgb(255, 99, 71)',tomato2:'rgb(238, 92, 66)',tomato3:'rgb(205, 79, 57)',tomato4:'rgb(139, 54, 38)',turquoise:'rgb(64, 224, 208)',turquoise1:'rgb(0, 245, 255)',turquoise2:'rgb(0, 229, 238)',turquoise3:'rgb(0, 197, 205)',turquoise4:'rgb(0, 134, 139)',violet:'rgb(238, 130, 238)',violetred:'rgb(208, 32, 144)',violetred1:'rgb(255, 62, 150)',violetred2:'rgb(238, 58, 140)',violetred3:'rgb(205, 50, 120)',violetred4:'rgb(139, 34, 82)',wheat:'rgb(245, 222, 179)',wheat1:'rgb(255, 231, 186)',wheat2:'rgb(238, 216, 174)',wheat3:'rgb(205, 186, 150)',wheat4:'rgb(139, 126, 102)',white:'rgb(255, 255, 255)',whitesmoke:'rgb(245, 245, 245)',yellow:'rgb(255, 255, 0)',yellow1:'rgb(255, 255, 0)',yellow2:'rgb(238, 238, 0)',yellow3:'rgb(205, 205, 0)',yellow4:'rgb(139, 139, 0)',yellowgreen:'rgb(154, 205, 50)'},'use strict',lib.f={},lib.f.createEnum=function(s){return new String(s)},lib.f.replaceVars=function(s,l){return s.replace(/%([a-z]*)\(([^\)]+)\)/gi,function(u,A,C){if('undefined'==typeof l[C])throw'Unknown variable: '+C;var S=l[C];if(A in lib.f.replaceVars.functions)S=lib.f.replaceVars.functions[A](S);else if(A)throw'Unknown escape function: '+A;return S})},lib.f.replaceVars.functions={encodeURI:encodeURI,encodeURIComponent:encodeURIComponent,escapeHTML:function(s){var l={'<':'&lt;','>':'&gt;','&':'&amp;','"':'&quot;','\'':'&#39;'};return s.replace(/[<>&\"\']/g,u=>l[u])}},lib.f.getAcceptLanguages=function(s){lib.f.getAcceptLanguages.chromeSupported()?chrome.i18n.getAcceptLanguages(s):setTimeout(function(){s([navigator.language.replace(/-/g,'_')])},0)},lib.f.getAcceptLanguages.chromeSupported=function(){return window.chrome&&chrome.i18n},lib.f.parseQuery=function(s){s.startsWith('?')&&(s=s.substr(1));for(var l={},u=s.split('&'),A=0,C;A<u.length;A++)C=u[A].split('='),l[decodeURIComponent(C[0])]=decodeURIComponent(C[1]);return l},lib.f.getURL=function(s){return lib.f.getURL.chromeSupported()?chrome.runtime.getURL(s):s},lib.f.getURL.chromeSupported=function(){return window.chrome&&chrome.runtime&&chrome.runtime.getURL},lib.f.clamp=function(s,l,u){return s<l?l:s>u?u:s},lib.f.zpad=function(s,l){return(s+'').padStart(l,'0')},lib.f.getWhitespace=function(s){if(0>=s)return'';var l=this.getWhitespace;for(l.whitespace||(l.whitespace='          ');s>l.whitespace.length;)l.whitespace+=l.whitespace;return l.whitespace.substr(0,s)},lib.f.alarm=function(s,l){var u=l||5000,A=lib.f.getStack(1);return function(){var C=setTimeout(function(){var _='string'==typeof s?_:s.name;_=_?': '+_:'',console.warn('lib.f.alarm: timeout expired: '+u/1e3+'s'+_),console.log(A),C=null},u),S=function(_){return function(){return C&&(clearTimeout(C),C=null),_.apply(null,arguments)}};return'string'==typeof s?S:S(s)}()},lib.f.getStack=function(s){var l=s?s+2:2,u;try{throw new Error}catch(S){u=S.stack.split('\n')}for(var A={},C=l;C<u.length;C++)A[C-l]=u[C].replace(/^\s*at\s+/,'');return A},lib.f.smartFloorDivide=function(s,l){var u=s/l,A=Math.ceil(u);return 1e-4>A-u?A:Math.floor(u)},lib.f.randomInt=function(s,l){return Math.floor(Math.random()*(l-s+1))+s},'use strict',lib.MessageManager=function(s){this.languages_=s.map(l=>l.replace(/-/g,'_')),-1==this.languages_.indexOf('en')&&this.languages_.unshift('en'),this.messages={}},lib.MessageManager.prototype.addMessages=function(s){for(var l in s){var u=s[l];this.messages[l]=u.placeholders?u.message.replace(/\$([a-z][^\s\$]+)\$/ig,function(A,C){return s[l].placeholders[C.toLowerCase()].content}):u.message}},lib.MessageManager.prototype.findAndLoadMessages=function(s,l){function u(T){T?C=A.shift():S=A.shift(),A.length?_():l(C,S)}var A=this.languages_.concat(),C=[],S=[],_=function(){this.loadMessages(this.replaceReferences(s,A),u.bind(this,!0),u.bind(this,!1))}.bind(this);_()},lib.MessageManager.prototype.loadMessages=function(s,l,u){var A=new XMLHttpRequest;A.onloadend=function(){return 200==A.status?void(this.addMessages(JSON.parse(A.responseText)),l()):void(u&&u(A.status))}.bind(this),A.open('GET',s),A.send()},lib.MessageManager.replaceReferences=function(s,l){return s.replace(/\$(\d+)/g,function(u,A){return l[A-1]})},lib.MessageManager.prototype.replaceReferences=lib.MessageManager.replaceReferences,lib.MessageManager.prototype.get=function(s,l,u){var A;if(s in this.messages)A=this.messages[s];else if(window.chrome&&window.chrome.i18n&&(A=chrome.i18n.getMessage(s)),!A)return console.warn('Unknown message: '+s),'undefined'==typeof u?s:u;return l?(l instanceof Array||(l=[l]),this.replaceReferences(A,l)):A},lib.MessageManager.prototype.processI18nAttributes=function(s){for(var l=s.querySelectorAll('[i18n]'),u=0;u<l.length;u++)this.processI18nAttribute(l[u])},lib.MessageManager.prototype.processI18nAttribute=function(s){const l=T=>T.replace(/-/g,'_').toUpperCase();var u=s.getAttribute('i18n');if(u){try{u=JSON.parse(u)}catch(T){throw console.error('Can\'t parse '+s.tagName+'#'+s.id+': '+u),T}for(var A in u){var C=A,S=u[A];S.startsWith('=')&&(A=S.substr(1),S=u[A]),S.startsWith('$')&&(S=l(s.getAttribute(S.substr(1))+'_'+A));var _=this.get(S);'_'==C?s.textContent=_:s.setAttribute(C,_)}}},'use strict',lib.PreferenceManager=function(s,l){this.storage=s,this.storageObserver_=this.onStorageChange_.bind(this),this.isActive_=!1,this.activate(),this.trace=!1;var u=l||'/';u.endsWith('/')||(u+='/'),this.prefix=u,this.prefRecords_={},this.globalObservers_=[],this.childFactories_={},this.childLists_={}},lib.PreferenceManager.prototype.DEFAULT_VALUE=lib.f.createEnum('DEFAULT'),lib.PreferenceManager.Record=function(s,l){this.name=s,this.defaultValue=l,this.currentValue=this.DEFAULT_VALUE,this.observers=[]},lib.PreferenceManager.Record.prototype.DEFAULT_VALUE=lib.PreferenceManager.prototype.DEFAULT_VALUE,lib.PreferenceManager.Record.prototype.addObserver=function(s){this.observers.push(s)},lib.PreferenceManager.Record.prototype.removeObserver=function(s){var l=this.observers.indexOf(s);0<=l&&this.observers.splice(l,1)},lib.PreferenceManager.Record.prototype.get=function(){return this.currentValue===this.DEFAULT_VALUE?/^(string|number)$/.test(typeof this.defaultValue)?this.defaultValue:'object'==typeof this.defaultValue?JSON.parse(JSON.stringify(this.defaultValue)):this.defaultValue:this.currentValue},lib.PreferenceManager.prototype.deactivate=function(){if(!this.isActive_)throw new Error('Not activated');this.isActive_=!1,this.storage.removeObserver(this.storageObserver_)},lib.PreferenceManager.prototype.activate=function(){if(this.isActive_)throw new Error('Already activated');this.isActive_=!0,this.storage.addObserver(this.storageObserver_)},lib.PreferenceManager.prototype.readStorage=function(s){function l(){0==--u&&s&&s()}var u=0,A=Object.keys(this.prefRecords_).map(C=>this.prefix+C);this.trace&&console.log('Preferences read: '+this.prefix),this.storage.getItems(A,function(C){var S=this.prefix.length;for(var _ in C){var T=C[_],F=_.substr(S),V=F in this.childLists_&&JSON.stringify(T)!=JSON.stringify(this.prefRecords_[F].currentValue);this.prefRecords_[F].currentValue=T,V&&(u++,this.syncChildList(F,l))}0==u&&s&&setTimeout(s)}.bind(this))},lib.PreferenceManager.prototype.definePreference=function(s,l,u){var A=this.prefRecords_[s];A?this.changeDefault(s,l):A=this.prefRecords_[s]=new lib.PreferenceManager.Record(s,l),u&&A.addObserver(u)},lib.PreferenceManager.prototype.definePreferences=function(s){for(var l=0;l<s.length;l++)this.definePreference(s[l][0],s[l][1],s[l][2])},lib.PreferenceManager.prototype.defineChildren=function(s,l){this.definePreference(s,[],this.onChildListChange_.bind(this,s)),this.childFactories_[s]=l,this.childLists_[s]={}},lib.PreferenceManager.prototype.addObservers=function(s,l){if(s&&'function'!=typeof s)throw new Error('Invalid param: globals');if(s&&this.globalObservers_.push(s),!!l)for(var u in l){if(!(u in this.prefRecords_))throw new Error('Unknown preference: '+u);this.prefRecords_[u].addObserver(l[u])}},lib.PreferenceManager.prototype.notifyAll=function(){for(var s in this.prefRecords_)this.notifyChange_(s)},lib.PreferenceManager.prototype.notifyChange_=function(s){var l=this.prefRecords_[s];if(!l)throw new Error('Unknown preference: '+s);for(var u=l.get(),A=0;A<this.globalObservers_.length;A++)this.globalObservers_[A](s,u);for(var A=0;A<l.observers.length;A++)l.observers[A](u,s,this)},lib.PreferenceManager.prototype.createChild=function(s,l,u){var A=this.get(s),C;if(!u)for(;!C||-1!=A.indexOf(C);)C=lib.f.randomInt(1,65535).toString(16),C=lib.f.zpad(C,4),l&&(C=l+':'+C);else if(C=u,-1!=A.indexOf(C))throw new Error('Duplicate child: '+s+': '+C);var S=this.childFactories_[s](this,C);return S.trace=this.trace,S.resetAll(),this.childLists_[s][C]=S,A.push(C),this.set(s,A),S},lib.PreferenceManager.prototype.removeChild=function(s,l){var u=this.getChild(s,l);u.resetAll();var A=this.get(s),C=A.indexOf(l);-1!=C&&(A.splice(C,1),this.set(s,A)),delete this.childLists_[s][l]},lib.PreferenceManager.prototype.getChild=function(s,l,u){if(!(s in this.childLists_))throw new Error('Unknown child list: '+s);var A=this.childLists_[s];if(!(l in A)){if('undefined'==typeof u)throw new Error('Unknown "'+s+'" child: '+l);return u}return A[l]},lib.PreferenceManager.diffChildLists=function(s,l){for(var u={added:{},removed:{},common:{}},A=0;A<s.length;A++)-1==l.indexOf(s[A])?u.added[s[A]]=!0:u.common[s[A]]=!0;for(var A=0;A<l.length;A++)l[A]in u.added||l[A]in u.common||(u.removed[l[A]]=!0);return u},lib.PreferenceManager.prototype.syncChildList=function(s,l){function u(){0==--A&&l&&l()}for(var A=0,C=this.get(s),S=Object.keys(this.childLists_[s]),_=lib.PreferenceManager.diffChildLists(C,S),T=0;T<C.length;T++){var F=C[T],V=S.indexOf(F);if(0<=V&&S.splice(V,1),!this.childLists_[s][F]){var P=this.childFactories_[s](this,F);if(!P){console.warn('Unable to restore child: '+s+': '+F);continue}P.trace=this.trace,this.childLists_[s][F]=P,A++,P.readStorage(u)}}for(var T=0;T<S.length;T++)delete this.childLists_[s][S[T]];!A&&l&&setTimeout(l)},lib.PreferenceManager.prototype.reset=function(s){var l=this.prefRecords_[s];if(!l)throw new Error('Unknown preference: '+s);this.storage.removeItem(this.prefix+s),l.currentValue!==this.DEFAULT_VALUE&&(l.currentValue=this.DEFAULT_VALUE,this.notifyChange_(s))},lib.PreferenceManager.prototype.resetAll=function(){var s=[];for(var l in this.childLists_){var u=this.childLists_[l];for(var A in u)u[A].resetAll()}for(var C in this.prefRecords_)this.prefRecords_[C].currentValue!==this.DEFAULT_VALUE&&(this.prefRecords_[C].currentValue=this.DEFAULT_VALUE,s.push(C));var S=Object.keys(this.prefRecords_).map(function(_){return this.prefix+_}.bind(this));this.storage.removeItems(S),s.forEach(this.notifyChange_.bind(this))},lib.PreferenceManager.prototype.diff=function(s,l){return typeof s==typeof l&&/^(undefined|boolean|number|string)$/.test(typeof s)?s!==l:!0},lib.PreferenceManager.prototype.changeDefault=function(s,l){var u=this.prefRecords_[s];if(!u)throw new Error('Unknown preference: '+s);return this.diff(u.defaultValue,l)?u.currentValue===this.DEFAULT_VALUE?void(u.defaultValue=l,this.notifyChange_(s)):void(u.defaultValue=l):void 0},lib.PreferenceManager.prototype.changeDefaults=function(s){for(var l in s)this.changeDefault(l,s[l])},lib.PreferenceManager.prototype.set=function(s,l){var u=this.prefRecords_[s];if(!u)throw new Error('Unknown preference: '+s);var A=u.get();this.diff(A,l)&&(this.diff(u.defaultValue,l)?(u.currentValue=l,this.storage.setItem(this.prefix+s,l)):(u.currentValue=this.DEFAULT_VALUE,this.storage.removeItem(this.prefix+s)),setTimeout(this.notifyChange_.bind(this,s),0))},lib.PreferenceManager.prototype.get=function(s){var l=this.prefRecords_[s];if(!l)throw new Error('Unknown preference: '+s);return l.get()},lib.PreferenceManager.prototype.exportAsJson=function(){var s={};for(var l in this.prefRecords_)if(l in this.childLists_){s[l]=[];for(var u=this.get(l),A=0,C;A<u.length;A++)C=u[A],s[l].push({id:C,json:this.getChild(l,C).exportAsJson()})}else{var S=this.prefRecords_[l];S.currentValue!=this.DEFAULT_VALUE&&(s[l]=S.currentValue)}return s},lib.PreferenceManager.prototype.importFromJson=function(s,l){let u=0;const A=()=>{1>--u&&l&&l()};for(var C in s)if(C in this.childLists_)for(var S=s[C],_=0;_<S.length;_++){var T=S[_].id,F=this.childLists_[C][T];F||(F=this.createChild(C,null,T)),F.importFromJson(S[_].json,A),u++}else this.set(C,s[C],A),u++},lib.PreferenceManager.prototype.onChildListChange_=function(s){this.syncChildList(s)},lib.PreferenceManager.prototype.onStorageChange_=function(s){for(var l in s)if(!(this.prefix&&0!=l.lastIndexOf(this.prefix,0))){var u=l.substr(this.prefix.length);if(u in this.prefRecords_){var A=this.prefRecords_[u],C=s[l].newValue,S=A.currentValue;S===A.DEFAULT_VALUE&&(S=void 0),this.diff(S,C)&&(A.currentValue='undefined'==typeof C||null===C?A.DEFAULT_VALUE:C,this.notifyChange_(u))}}},'use strict',lib.resource={resources_:{}},lib.resource.add=function(s,l,u){lib.resource.resources_[s]={type:l,name:s,data:u}},lib.resource.get=function(s,l){if(!(s in lib.resource.resources_)){if('undefined'==typeof l)throw'Unknown resource: '+s;return l}return lib.resource.resources_[s]},lib.resource.getData=function(s,l){if(!(s in lib.resource.resources_)){if('undefined'==typeof l)throw'Unknown resource: '+s;return l}return lib.resource.resources_[s].data},lib.resource.getDataUrl=function(s,l){var u=lib.resource.get(s,l);return'data:'+u.type+','+u.data},'use strict',lib.Storage={},'use strict',lib.Storage.Chrome=function(s){this.storage_=s,this.observers_=[],chrome.storage.onChanged.addListener(this.onChanged_.bind(this))},lib.Storage.Chrome.prototype.onChanged_=function(s,l){if(chrome.storage[l]==this.storage_)for(var u=0;u<this.observers_.length;u++)this.observers_[u](s)},lib.Storage.Chrome.prototype.addObserver=function(s){this.observers_.push(s)},lib.Storage.Chrome.prototype.removeObserver=function(s){var l=this.observers_.indexOf(s);-1!=l&&this.observers_.splice(l,1)},lib.Storage.Chrome.prototype.clear=function(s){this.storage_.clear(),s&&setTimeout(s,0)},lib.Storage.Chrome.prototype.getItem=function(s,l){this.storage_.get(s,l)},lib.Storage.Chrome.prototype.getItems=function(s,l){this.storage_.get(s,l)},lib.Storage.Chrome.prototype.setItem=function(s,l,u){const A=()=>{if(chrome.runtime.lastError){if(chrome.runtime.lastError.message.indexOf('MAX_WRITE_OPERATIONS'))return console.warn(`Will retry save of ${s} after exceeding quota`,chrome.runtime.lastError),void setTimeout(()=>this.setItem(s,l,A),1e3);console.error('Unknown runtime error',chrome.runtime.lastError)}u&&u()};var C={};C[s]=l,this.storage_.set(C,A)},lib.Storage.Chrome.prototype.setItems=function(s,l){this.storage_.set(s,l)},lib.Storage.Chrome.prototype.removeItem=function(s,l){this.storage_.remove(s,l)},lib.Storage.Chrome.prototype.removeItems=function(s,l){this.storage_.remove(s,l)},'use strict',lib.Storage.Local=function(){this.observers_=[],this.storage_=window.localStorage,window.addEventListener('storage',this.onStorage_.bind(this))},lib.Storage.Local.prototype.onStorage_=function(s){if(s.storageArea==this.storage_){var l=s.oldValue?JSON.parse(s.oldValue):s.oldValue,u=s.newValue?JSON.parse(s.newValue):s.newValue,A={};A[s.key]={oldValue:l,newValue:u};for(var C=0;C<this.observers_.length;C++)this.observers_[C](A)}},lib.Storage.Local.prototype.addObserver=function(s){this.observers_.push(s)},lib.Storage.Local.prototype.removeObserver=function(s){var l=this.observers_.indexOf(s);-1!=l&&this.observers_.splice(l,1)},lib.Storage.Local.prototype.clear=function(s){this.storage_.clear(),s&&setTimeout(s,0)},lib.Storage.Local.prototype.getItem=function(s,l){var u=this.storage_.getItem(s);if('string'==typeof u)try{u=JSON.parse(u)}catch(A){}setTimeout(l.bind(null,u),0)},lib.Storage.Local.prototype.getItems=function(s,l){for(var u={},A=s.length-1;0<=A;A--){var C=s[A],S=this.storage_.getItem(C);if('string'==typeof S)try{u[C]=JSON.parse(S)}catch(_){u[C]=S}else s.splice(A,1)}setTimeout(l.bind(null,u),0)},lib.Storage.Local.prototype.setItem=function(s,l,u){this.storage_.setItem(s,JSON.stringify(l)),u&&setTimeout(u,0)},lib.Storage.Local.prototype.setItems=function(s,l){for(var u in s)this.storage_.setItem(u,JSON.stringify(s[u]));l&&setTimeout(l,0)},lib.Storage.Local.prototype.removeItem=function(s,l){this.storage_.removeItem(s),l&&setTimeout(l,0)},lib.Storage.Local.prototype.removeItems=function(s,l){for(var u=0;u<s.length;u++)this.storage_.removeItem(s[u]);l&&setTimeout(l,0)},'use strict',lib.Storage.Memory=function(){this.observers_=[],this.storage_={}},lib.Storage.Memory.prototype.addObserver=function(s){this.observers_.push(s)},lib.Storage.Memory.prototype.removeObserver=function(s){var l=this.observers_.indexOf(s);-1!=l&&this.observers_.splice(l,1)},lib.Storage.Memory.prototype.clear=function(s){var l={};for(var u in this.storage_)l[u]={oldValue:this.storage_[u],newValue:void 0};this.storage_={},setTimeout(function(){for(var A=0;A<this.observers_.length;A++)this.observers_[A](l)}.bind(this),0),s&&setTimeout(s,0)},lib.Storage.Memory.prototype.getItem=function(s,l){var u=this.storage_[s];if('string'==typeof u)try{u=JSON.parse(u)}catch(A){}setTimeout(l.bind(null,u),0)},lib.Storage.Memory.prototype.getItems=function(s,l){for(var u={},A=s.length-1;0<=A;A--){var C=s[A],S=this.storage_[C];if('string'==typeof S)try{u[C]=JSON.parse(S)}catch(_){u[C]=S}else s.splice(A,1)}setTimeout(l.bind(null,u),0)},lib.Storage.Memory.prototype.setItem=function(s,l,u){var A=this.storage_[s];this.storage_[s]=JSON.stringify(l);var C={};C[s]={oldValue:A,newValue:l},setTimeout(function(){for(var S=0;S<this.observers_.length;S++)this.observers_[S](C)}.bind(this),0),u&&setTimeout(u,0)},lib.Storage.Memory.prototype.setItems=function(s,l){var u={};for(var A in s)u[A]={oldValue:this.storage_[A],newValue:s[A]},this.storage_[A]=JSON.stringify(s[A]);setTimeout(function(){for(var C=0;C<this.observers_.length;C++)this.observers_[C](u)}.bind(this)),l&&setTimeout(l,0)},lib.Storage.Memory.prototype.removeItem=function(s,l){delete this.storage_[s],l&&setTimeout(l,0)},lib.Storage.Memory.prototype.removeItems=function(s,l){for(var u=0;u<s.length;u++)delete this.storage_[s[u]];l&&setTimeout(l,0)},'use strict',lib.TestManager=function(s){this.log=s||new lib.TestManager.Log},lib.TestManager.prototype.createTestRun=function(s){return new lib.TestManager.TestRun(this,s)},lib.TestManager.prototype.onTestRunComplete=function(){},lib.TestManager.prototype.testPreamble=function(){},lib.TestManager.prototype.testPostamble=function(){},lib.TestManager.Log=function(s=console){this.save=!1,this.data='',this.prefix_='',this.prefixStack_=0,this.console_=s,['log','debug','info','warn','error'].forEach(u=>{let A='';'debug'===u||'warn'===u||'error'===u?A=u.toUpperCase()+': ':void 0;const C=this.console_[u];this[u]=this.console_[u]=(...S)=>{this.save&&(this.data+=this.prefix_+A+S.join(' ')+'\n'),C.apply(this.console_,S)}}),['group','groupCollapsed'].forEach(u=>{const A=this.console_[u];this[u]=this.console_[u]=(C='')=>{A(C),this.save&&(this.data+=this.prefix_+C+'\n'),this.prefix_='  '.repeat(++this.prefixStack_)}});const l=this.console_.groupEnd;this.groupEnd=this.console_.groupEnd=()=>{l(),this.prefix_='  '.repeat(--this.prefixStack_)}},lib.TestManager.Suite=function(s){function l(u,A){this.testManager_=u,this.suiteName=s,this.setup(A)}return l.suiteName=s,l.addTest=lib.TestManager.Suite.addTest,l.disableTest=lib.TestManager.Suite.disableTest,l.getTest=lib.TestManager.Suite.getTest,l.getTestList=lib.TestManager.Suite.getTestList,l.testList_=[],l.testMap_={},l.prototype=Object.create(lib.TestManager.Suite.prototype),l.constructor=lib.TestManager.Suite,lib.TestManager.Suite.subclasses.push(l),l},lib.TestManager.Suite.subclasses=[],lib.TestManager.Suite.addTest=function(s,l){if(s in this.testMap_)throw'Duplicate test name: '+s;var u=new lib.TestManager.Test(this,s,l);this.testMap_[s]=u,this.testList_.push(u)},lib.TestManager.Suite.disableTest=function(s,l){if(s in this.testMap_)throw'Duplicate test name: '+s;var u=new lib.TestManager.Test(this,s,l);console.log('Disabled test: '+u.fullName)},lib.TestManager.Suite.getTest=function(s){return this.testMap_[s]},lib.TestManager.Suite.getTestList=function(){return this.testList_},lib.TestManager.Suite.prototype.setDefaults=function(s,l){for(var u in l)this[u]=u in s?s[u]:l[u]},lib.TestManager.Suite.prototype.setup=function(){},lib.TestManager.Suite.prototype.preamble=function(){},lib.TestManager.Suite.prototype.postamble=function(){},lib.TestManager.Test=function(s,l,u){this.suiteClass=s,this.testName=l,this.fullName=s.suiteName+'['+l+']',this.testFunction_=u},lib.TestManager.Test.prototype.run=function(s){try{this.testFunction_.apply(s.suite,[s,s.testRun.cx])}catch(l){if(l instanceof lib.TestManager.Result.TestComplete)return;s.println('Test raised an exception: '+l),l.stack&&(l.stack instanceof Array?s.println(l.stack.join('\n')):s.println(l.stack)),s.completeTest_(s.FAILED,!1)}},lib.TestManager.TestRun=function(s,l){this.testManager=s,this.log=s.log,this.cx=l||{},this.failures=[],this.passes=[],this.startDate=null,this.duration=null,this.currentResult=null,this.maxFailures=0,this.panic=!1,this.testQueue_=[]},lib.TestManager.TestRun.prototype.ALL_TESTS=lib.f.createEnum('<all-tests>'),lib.TestManager.TestRun.prototype.selectTest=function(s){this.testQueue_.push(s)},lib.TestManager.TestRun.prototype.selectSuite=function(s,l){for(var u=l||this.ALL_TESTS,A=0,C=s.getTestList(),S=0,_;S<C.length;S++){if(_=C[S],u!==this.ALL_TESTS)if(u instanceof RegExp){if(!u.test(_.testName))continue;}else if(_.testName!=u)continue;this.selectTest(_),A++}return A},lib.TestManager.TestRun.prototype.selectPattern=function(s){for(var l=0,u=0;u<lib.TestManager.Suite.subclasses.length;u++)l+=this.selectSuite(lib.TestManager.Suite.subclasses[u],s);return l||this.log.warn('No tests matched selection criteria: '+s),l},lib.TestManager.TestRun.prototype.onUncaughtException_=function(s,l,u){if(0==s.indexOf('Uncaught lib.TestManager.Result.TestComplete')||-1!=s.indexOf('status: passed'))return!0;if(this.currentResult&&s!='Uncaught '+this.currentResult.expectedErrorMessage_){var A='during';return this.currentResult.status!=this.currentResult.PENDING&&(A='after'),this.log.error('Uncaught exception '+A+' test case: '+this.currentResult.test.fullName),this.log.error(s+', '+l+':'+u),this.currentResult.completeTest_(this.currentResult.FAILED,!1),!1}},lib.TestManager.TestRun.prototype.onTestRunComplete_=function(s){return s?void(this.duration=new Date-this.startDate,this.log.groupEnd(),this.log.info(this.passes.length+' passed, '+this.failures.length+' failed, '+this.msToSeconds_(this.duration)),this.summarize(),window.onerror=null,this.testManager.onTestRunComplete(this)):void setTimeout(this.onTestRunComplete_.bind(this),0,!0)},lib.TestManager.TestRun.prototype.onResultComplete=function(s){try{this.testManager.testPostamble(s,this.cx),s.suite.postamble(s,this.ctx)}catch(l){this.log.error('Unexpected exception in postamble: '+(l.stack?l.stack:l)),this.panic=!0}if(s.status==s.PASSED?500<s.duration&&this.log.warn('Slow test took '+this.msToSeconds_(s.duration)):this.log.error(s.status),this.log.groupEnd(),s.status==s.FAILED)this.failures.push(s),this.currentSuite=null;else if(s.status==s.PASSED)this.passes.push(s);else return this.log.error('Unknown result status: '+s.test.fullName+': '+s.status),void(this.panic=!0);this.runNextTest_()},lib.TestManager.TestRun.prototype.onResultReComplete=function(s,l){this.log.error('Late complete for test: '+s.test.fullName+': '+l);var u=this.passes.indexOf(s);0<=u&&(this.passes.splice(u,1),this.failures.push(s))},lib.TestManager.TestRun.prototype.runNextTest_=function(){if(this.panic||!this.testQueue_.length)return void this.onTestRunComplete_();if(this.maxFailures&&this.failures.length>=this.maxFailures)return this.log.error('Maximum failure count reached, aborting test run.'),void this.onTestRunComplete_();var s=this.testQueue_[0],l=this.currentResult?this.currentResult.suite:null;try{l&&l instanceof s.suiteClass||(l&&this.log.groupEnd(),this.log.group(s.suiteClass.suiteName),l=new s.suiteClass(this.testManager,this.cx))}catch(u){return this.log.error('Exception during setup: '+(u.stack?u.stack:u)),this.panic=!0,void this.onTestRunComplete_()}try{this.log.group(s.testName),this.currentResult=new lib.TestManager.Result(this,l,s),this.testManager.testPreamble(this.currentResult,this.cx),l.preamble(this.currentResult,this.cx),this.testQueue_.shift()}catch(u){return this.log.error('Unexpected exception during test preamble: '+(u.stack?u.stack:u)),this.log.groupEnd(),this.panic=!0,void this.onTestRunComplete_()}try{this.currentResult.run()}catch(u){this.log.error('Unexpected exception during test run: '+(u.stack?u.stack:u)),this.panic=!0}},lib.TestManager.TestRun.prototype.run=function(){this.log.info('Running '+this.testQueue_.length+' test(s)'),window.onerror=this.onUncaughtException_.bind(this),this.startDate=new Date,this.runNextTest_()},lib.TestManager.TestRun.prototype.msToSeconds_=function(s){var l=(s/1e3).toFixed(2);return l+'s'},lib.TestManager.TestRun.prototype.summarize=function(){if(this.failures.length)for(var s=0;s<this.failures.length;s++)this.log.error('FAILED: '+this.failures[s].test.fullName);this.testQueue_.length&&this.log.warn('Test run incomplete: '+this.testQueue_.length+' test(s) were not run.')},lib.TestManager.Result=function(s,l,u){this.testRun=s,this.suite=l,this.test=u,this.startDate=null,this.duration=null,this.status=this.PENDING,this.expectedErrorMessage_=null},lib.TestManager.Result.prototype.PENDING='pending',lib.TestManager.Result.prototype.FAILED='FAILED',lib.TestManager.Result.prototype.PASSED='passed',lib.TestManager.Result.TestComplete=function(s){this.result=s},lib.TestManager.Result.TestComplete.prototype.toString=function(){return'lib.TestManager.Result.TestComplete: '+this.result.test.fullName+', status: '+this.result.status},lib.TestManager.Result.prototype.run=function(){this.startDate=new Date,this.test.run(this),this.status!=this.PENDING||this.timeout_||(this.println('Test did not return a value and did not request more time.'),this.completeTest_(this.FAILED,!1))},lib.TestManager.Result.prototype.expectErrorMessage=function(s){this.expectedErrorMessage_=s},lib.TestManager.Result.prototype.onTimeout_=function(){this.timeout_=null;this.status!=this.PENDING||(this.println('Test timed out.'),this.completeTest_(this.FAILED,!1))},lib.TestManager.Result.prototype.requestTime=function(s){this.timeout_&&clearTimeout(this.timeout_),this.timeout_=setTimeout(this.onTimeout_.bind(this),s)},lib.TestManager.Result.prototype.completeTest_=function(s,l){if(this.status==this.PENDING?(this.duration=new Date-this.startDate,this.status=s,this.testRun.onResultComplete(this)):this.testRun.onResultReComplete(this,s),2>arguments.length||l)throw new lib.TestManager.Result.TestComplete(this)},lib.TestManager.Result.prototype.assertEQ=function(s,l,u){function A(S){if('number'==typeof S)return S;var T=(S+'').split('\n').map(F=>JSON.stringify(F));return 1<T.length?'\n'+T.join('\n'):T.join('\n')}if(s!==l&&!(l instanceof Array&&lib.array.compare(s,l))){var C=u?'['+u+']':'';this.fail('assertEQ'+C+': '+this.getCallerLocation_(1)+': '+A(s)+' !== '+A(l))}},lib.TestManager.Result.prototype.assert=function(s,l){if(!0!==s){var u=l?'['+l+']':'';this.fail('assert'+u+': '+this.getCallerLocation_(1)+': '+(s+''))}},lib.TestManager.Result.prototype.getCallerLocation_=function(s){try{throw new Error}catch(A){var l=A.stack.split('\n')[s+2],u=l.match(/([^/]+:\d+):\d+\)?$/);return u?u[1]:'???'}},lib.TestManager.Result.prototype.println=function(s){this.testRun.log.info(s)},lib.TestManager.Result.prototype.fail=function(s){arguments.length&&this.println(s),this.completeTest_(this.FAILED,!0)},lib.TestManager.Result.prototype.pass=function(){this.completeTest_(this.PASSED,!0)},'use strict',lib.UTF8Decoder=function(){this.bytesLeft=0,this.codePoint=0,this.lowerBound=0},lib.UTF8Decoder.prototype.decode=function(s){for(var l='',u=0,A;u<s.length;u++)if(A=s.charCodeAt(u),0==this.bytesLeft)127>=A?l+=s.charAt(u):192<=A&&223>=A?(this.codePoint=A-192,this.bytesLeft=1,this.lowerBound=128):224<=A&&239>=A?(this.codePoint=A-224,this.bytesLeft=2,this.lowerBound=2048):240<=A&&247>=A?(this.codePoint=A-240,this.bytesLeft=3,this.lowerBound=65536):248<=A&&251>=A?(this.codePoint=A-248,this.bytesLeft=4,this.lowerBound=2097152):252<=A&&253>=A?(this.codePoint=A-252,this.bytesLeft=5,this.lowerBound=67108864):l+='\uFFFD';else if(!(128<=A&&191>=A))l+='\uFFFD',this.bytesLeft=0,u--;else if(this.bytesLeft--,this.codePoint=(this.codePoint<<6)+(A-128),0==this.bytesLeft){var C=this.codePoint;C<this.lowerBound||55296<=C&&57343>=C||1114111<C?l+='\uFFFD':65536>C?l+=String.fromCharCode(C):(C-=65536,l+=String.fromCharCode(55296+(1023&C>>>10),56320+(1023&C)))}return l},lib.decodeUTF8=function(s){return new lib.UTF8Decoder().decode(s)},lib.encodeUTF8=function(s){for(var l='',u=0,A;u<s.length;u++){if(A=s.charCodeAt(u),56320<=A&&57343>=A)A=65533;else if(55296<=A&&56319>=A)if(u+1<s.length){var C=s.charCodeAt(u+1);56320<=C&&57343>=C?(A=65536+((1023&A)<<10)+(1023&C),u++):A=65533}else A=65533;var S;if(127>=A){l+=s.charAt(u);continue}else 2047>=A?(l+=String.fromCharCode(192|A>>>6),S=1):65535>=A?(l+=String.fromCharCode(224|A>>>12),S=2):(l+=String.fromCharCode(240|A>>>18),S=3);for(;0<S;)S--,l+=String.fromCharCode(128|63&A>>>6*S)}return l},'use strict',lib.wc={},lib.wc.nulWidth=0,lib.wc.controlWidth=0,lib.wc.regardCjkAmbiguous=!1,lib.wc.cjkAmbiguousWidth=2,lib.wc.combining=[[173,173],[768,879],[1155,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1552,1562],[1564,1564],[1611,1631],[1648,1648],[1750,1756],[1759,1764],[1767,1768],[1770,1773],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2260,2273],[2275,2306],[2362,2362],[2364,2364],[2369,2376],[2381,2381],[2385,2391],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2641,2641],[2672,2673],[2677,2677],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2810,2815],[2817,2817],[2876,2876],[2879,2879],[2881,2884],[2893,2893],[2902,2902],[2914,2915],[2946,2946],[3008,3008],[3021,3021],[3072,3072],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3170,3171],[3201,3201],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3328,3329],[3387,3388],[3393,3396],[3405,3405],[3426,3427],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3981,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4151],[4153,4154],[4157,4158],[4184,4185],[4190,4192],[4209,4212],[4226,4226],[4229,4230],[4237,4237],[4253,4253],[4448,4607],[4957,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6158],[6277,6278],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6683,6683],[6742,6742],[6744,6750],[6752,6752],[6754,6754],[6757,6764],[6771,6780],[6783,6783],[6832,6846],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7040,7041],[7074,7077],[7080,7081],[7083,7085],[7142,7142],[7144,7145],[7149,7149],[7151,7153],[7212,7219],[7222,7223],[7376,7378],[7380,7392],[7394,7400],[7405,7405],[7412,7412],[7416,7417],[7616,7673],[7675,7679],[8203,8207],[8234,8238],[8288,8292],[8294,8303],[8400,8432],[11503,11505],[11647,11647],[11744,11775],[12330,12333],[12441,12442],[42607,42610],[42612,42621],[42654,42655],[42736,42737],[43010,43010],[43014,43014],[43019,43019],[43045,43046],[43204,43205],[43232,43249],[43302,43309],[43335,43345],[43392,43394],[43443,43443],[43446,43449],[43452,43452],[43493,43493],[43561,43566],[43569,43570],[43573,43574],[43587,43587],[43596,43596],[43644,43644],[43696,43696],[43698,43700],[43703,43704],[43710,43711],[43713,43713],[43756,43757],[43766,43766],[44005,44005],[44008,44008],[44013,44013],[64286,64286],[65024,65039],[65056,65071],[65279,65279],[65529,65531],[66045,66045],[66272,66272],[66422,66426],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[68325,68326],[69633,69633],[69688,69702],[69759,69761],[69811,69814],[69817,69818],[69888,69890],[69927,69931],[69933,69940],[70003,70003],[70016,70017],[70070,70078],[70090,70092],[70191,70193],[70196,70196],[70198,70199],[70206,70206],[70367,70367],[70371,70378],[70400,70401],[70460,70460],[70464,70464],[70502,70508],[70512,70516],[70712,70719],[70722,70724],[70726,70726],[70835,70840],[70842,70842],[70847,70848],[70850,70851],[71090,71093],[71100,71101],[71103,71104],[71132,71133],[71219,71226],[71229,71229],[71231,71232],[71339,71339],[71341,71341],[71344,71349],[71351,71351],[71453,71455],[71458,71461],[71463,71467],[72193,72198],[72201,72202],[72243,72248],[72251,72254],[72263,72263],[72273,72278],[72281,72283],[72330,72342],[72344,72345],[72752,72758],[72760,72765],[72767,72767],[72850,72871],[72874,72880],[72882,72883],[72885,72886],[73009,73014],[73018,73018],[73020,73021],[73023,73029],[73031,73031],[92912,92916],[92976,92982],[94095,94098],[113821,113822],[113824,113827],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[121344,121398],[121403,121452],[121461,121461],[121476,121476],[121499,121503],[121505,121519],[122880,122886],[122888,122904],[122907,122913],[122915,122916],[122918,122922],[125136,125142],[125252,125258],[917505,917505],[917536,917631],[917760,917999]],lib.wc.ambiguous=[[161,161],[164,164],[167,168],[170,170],[173,174],[176,180],[182,186],[188,191],[198,198],[208,208],[215,216],[222,225],[230,230],[232,234],[236,237],[240,240],[242,243],[247,250],[252,252],[254,254],[257,257],[273,273],[275,275],[283,283],[294,295],[299,299],[305,307],[312,312],[319,322],[324,324],[328,331],[333,333],[338,339],[358,359],[363,363],[462,462],[464,464],[466,466],[468,468],[470,470],[472,472],[474,474],[476,476],[593,593],[609,609],[708,708],[711,711],[713,715],[717,717],[720,720],[728,731],[733,733],[735,735],[768,879],[913,929],[931,937],[945,961],[963,969],[1025,1025],[1040,1103],[1105,1105],[4352,4447],[8208,8208],[8211,8214],[8216,8217],[8220,8221],[8224,8226],[8228,8231],[8240,8240],[8242,8243],[8245,8245],[8251,8251],[8254,8254],[8308,8308],[8319,8319],[8321,8324],[8364,8364],[8451,8451],[8453,8453],[8457,8457],[8467,8467],[8470,8470],[8481,8482],[8486,8486],[8491,8491],[8531,8532],[8539,8542],[8544,8555],[8560,8569],[8585,8585],[8592,8601],[8632,8633],[8658,8658],[8660,8660],[8679,8679],[8704,8704],[8706,8707],[8711,8712],[8715,8715],[8719,8719],[8721,8721],[8725,8725],[8730,8730],[8733,8736],[8739,8739],[8741,8741],[8743,8748],[8750,8750],[8756,8759],[8764,8765],[8776,8776],[8780,8780],[8786,8786],[8800,8801],[8804,8807],[8810,8811],[8814,8815],[8834,8835],[8838,8839],[8853,8853],[8857,8857],[8869,8869],[8895,8895],[8978,8978],[8986,8987],[9001,9002],[9193,9196],[9200,9200],[9203,9203],[9312,9449],[9451,9547],[9552,9587],[9600,9615],[9618,9621],[9632,9633],[9635,9641],[9650,9651],[9654,9655],[9660,9661],[9664,9665],[9670,9672],[9675,9675],[9678,9681],[9698,9701],[9711,9711],[9725,9726],[9733,9734],[9737,9737],[9742,9743],[9748,9749],[9756,9756],[9758,9758],[9792,9792],[9794,9794],[9800,9811],[9824,9825],[9827,9829],[9831,9834],[9836,9837],[9839,9839],[9855,9855],[9875,9875],[9886,9887],[9889,9889],[9898,9899],[9917,9919],[9924,9953],[9955,9955],[9960,9983],[9989,9989],[9994,9995],[10024,10024],[10045,10045],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10102,10111],[10133,10135],[10160,10160],[10175,10175],[11035,11036],[11088,11088],[11093,11097],[11904,12255],[12272,12350],[12352,19903],[19968,42191],[43360,43391],[44032,55203],[57344,64255],[65024,65049],[65072,65135],[65281,65376],[65504,65510],[65533,65533],[94176,94177],[94208,101119],[110592,110895],[110960,111359],[126980,126980],[127183,127183],[127232,127242],[127248,127277],[127280,127337],[127344,127404],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127776],[127789,127797],[127799,127868],[127870,127891],[127904,127946],[127951,127955],[127968,127984],[127988,127988],[127992,128062],[128064,128064],[128066,128252],[128255,128317],[128331,128334],[128336,128359],[128378,128378],[128405,128406],[128420,128420],[128507,128591],[128640,128709],[128716,128716],[128720,128722],[128747,128748],[128756,128760],[129296,129342],[129344,129356],[129360,129387],[129408,129431],[129472,129472],[129488,129510],[131072,196605],[196608,262141],[917760,917999],[983040,1048573],[1048576,1114109]],lib.wc.unambiguous=[[4352,4447],[8986,8987],[9001,9002],[9193,9196],[9200,9200],[9203,9203],[9725,9726],[9748,9749],[9800,9811],[9855,9855],[9875,9875],[9889,9889],[9898,9899],[9917,9918],[9924,9925],[9934,9934],[9940,9940],[9962,9962],[9970,9971],[9973,9973],[9978,9978],[9981,9981],[9989,9989],[9994,9995],[10024,10024],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10133,10135],[10160,10160],[10175,10175],[11035,11036],[11088,11088],[11093,11093],[11904,12255],[12272,12350],[12352,12871],[12880,19903],[19968,42191],[43360,43391],[44032,55203],[63744,64255],[65040,65049],[65072,65135],[65281,65376],[65504,65510],[94176,94177],[94208,101119],[110592,110895],[110960,111359],[126980,126980],[127183,127183],[127374,127374],[127377,127386],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127776],[127789,127797],[127799,127868],[127870,127891],[127904,127946],[127951,127955],[127968,127984],[127988,127988],[127992,128062],[128064,128064],[128066,128252],[128255,128317],[128331,128334],[128336,128359],[128378,128378],[128405,128406],[128420,128420],[128507,128591],[128640,128709],[128716,128716],[128720,128722],[128747,128748],[128756,128760],[129296,129342],[129344,129356],[129360,129387],[129408,129431],[129472,129472],[129488,129510],[131072,196605],[196608,262141]],lib.wc.binaryTableSearch_=function(s,l){var u=0,A=l.length-1,C;if(s<l[u][0]||s>l[A][1])return!1;for(;A>=u;)if(C=Math.floor((u+A)/2),s>l[C][1])u=C+1;else if(s<l[C][0])A=C-1;else return!0;return!1},lib.wc.isSpace=function(s){return lib.wc.binaryTableSearch_(s,lib.wc.combining)},lib.wc.isCjkAmbiguous=function(s){return lib.wc.binaryTableSearch_(s,lib.wc.ambiguous)},lib.wc.charWidth=function(s){return lib.wc.regardCjkAmbiguous?lib.wc.charWidthRegardAmbiguous(s):lib.wc.charWidthDisregardAmbiguous(s)},lib.wc.charWidthDisregardAmbiguous=function(s){return 127>s?32<=s?1:0==s?lib.wc.nulWidth:lib.wc.controlWidth:160>s?lib.wc.controlWidth:lib.wc.isSpace(s)?0:lib.wc.binaryTableSearch_(s,lib.wc.unambiguous)?2:1},lib.wc.charWidthRegardAmbiguous=function(s){return lib.wc.isCjkAmbiguous(s)?lib.wc.cjkAmbiguousWidth:lib.wc.charWidthDisregardAmbiguous(s)},lib.wc.strWidth=function(s){for(var u=0,A=0,l,C;A<s.length;){if(C=s.codePointAt(A),l=lib.wc.charWidth(C),0>l)return-1;u+=l,A+=65535>=C?1:2}return u},lib.wc.substr=function(s,l,u){var A=0,C,S;if(l)for(S=0;A<s.length;){const _=s.codePointAt(A);if(S+=lib.wc.charWidth(_),S>l)break;A+=65535>=_?1:2}if(void 0!=u){for(C=A,S=0;C<s.length;){const _=s.codePointAt(C);if(S+=lib.wc.charWidth(_),S>u)break;C+=65535>=_?1:2}return s.substring(A,C)}return s.substr(A)},lib.wc.substring=function(s,l,u){return lib.wc.substr(s,l,u-l)},lib.resource.add('libdot/changelog/version','text/plain','1.18'),lib.resource.add('libdot/changelog/date','text/plain','2017-09-12'),lib.resource.add('hterm/audio/bell','audio/ogg;base64','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'),lib.resource.add('hterm/images/icon-96','image/png;base64','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'),lib.resource.add('hterm/concat/date','text/plain','Sun, 01 Oct 2017 10:25:18 +0000'),lib.resource.add('hterm/changelog/version','text/plain','1.72'),lib.resource.add('hterm/changelog/date','text/plain','2017-09-12'),lib.resource.add('hterm/git/HEAD','text/plain','git rev-parse HEAD'),'use strict',lib.rtdep('lib.Storage');var hterm={};hterm.windowType=null,hterm.zoomWarningMessage='ZOOM != 100%',hterm.notifyCopyMessage='\u2702',hterm.desktopNotificationTitle='\u266A %(title) \u266A',hterm.testDeps=['hterm.ScrollPort.Tests','hterm.Screen.Tests','hterm.Terminal.Tests','hterm.VT.Tests','hterm.VT.CannedTests'],lib.registerInit('hterm',function(s){function l(S){hterm.windowType=S.type,setTimeout(s,0)}hterm.defaultStorage||(window.chrome&&chrome.storage&&chrome.storage.sync?hterm.defaultStorage=new lib.Storage.Chrome(chrome.storage.sync):hterm.defaultStorage=new lib.Storage.Local);var A=!1;if(window.chrome&&chrome.runtime&&chrome.runtime.getManifest){var C=chrome.runtime.getManifest();A=C.app&&C.app.background}A?setTimeout(l.bind(null,{type:'popup'}),0):window.chrome&&chrome.tabs?chrome.tabs.getCurrent(function(S){S&&window.chrome?chrome.windows.get(S.windowId,null,l):(hterm.windowType='normal',setTimeout(s,0))}):setTimeout(l.bind(null,{type:'normal'}),0)}),hterm.getClientSize=function(s){return s.getBoundingClientRect()},hterm.getClientWidth=function(s){return s.getBoundingClientRect().width},hterm.getClientHeight=function(s){return s.getBoundingClientRect().height},hterm.copySelectionToClipboard=function(s){try{s.execCommand('copy')}catch(l){}},hterm.pasteFromClipboard=function(s){try{return s.execCommand('paste')}catch(l){return!1}},hterm.notify=function(s){var l=(S,_)=>void 0===S?_:S;(void 0===s||null===s)&&(s={});var u={body:s.body,icon:l(s.icon,lib.resource.getDataUrl('hterm/images/icon-96'))},A=l(s.title,window.document.title);A||(A='hterm'),A=lib.f.replaceVars(hterm.desktopNotificationTitle,{title:A});var C=new Notification(A,u);return C.onclick=function(){window.focus(),this.close()},C},hterm.Size=function(s,l){this.width=s,this.height=l},hterm.Size.prototype.resize=function(s,l){this.width=s,this.height=l},hterm.Size.prototype.clone=function(){return new hterm.Size(this.width,this.height)},hterm.Size.prototype.setTo=function(s){this.width=s.width,this.height=s.height},hterm.Size.prototype.equals=function(s){return this.width==s.width&&this.height==s.height},hterm.Size.prototype.toString=function(){return'[hterm.Size: '+this.width+', '+this.height+']'},hterm.RowCol=function(s,l,u){this.row=s,this.column=l,this.overflow=!!u},hterm.RowCol.prototype.move=function(s,l,u){this.row=s,this.column=l,this.overflow=!!u},hterm.RowCol.prototype.clone=function(){return new hterm.RowCol(this.row,this.column,this.overflow)},hterm.RowCol.prototype.setTo=function(s){this.row=s.row,this.column=s.column,this.overflow=s.overflow},hterm.RowCol.prototype.equals=function(s){return this.row==s.row&&this.column==s.column&&this.overflow==s.overflow},hterm.RowCol.prototype.toString=function(){return'[hterm.RowCol: '+this.row+', '+this.column+', '+this.overflow+']'},'use strict',lib.rtdep('lib.f'),hterm.Frame=function(s,l,u){this.terminal_=s,this.div_=s.div_,this.url=l,this.options=u||{},this.iframe_=null,this.container_=null,this.messageChannel_=null},hterm.Frame.prototype.onMessage_=function(s){switch(s.data.name){case'ipc-init-ok':return void this.sendTerminalInfo_();case'terminal-info-ok':return this.container_.style.display='flex',this.messageChannel_.port1.onmessage=this.onMessage.bind(this),void this.onLoad();default:return void console.log('Unknown message from frame:',s.data);}},hterm.Frame.prototype.onMessage=function(){},hterm.Frame.prototype.onLoad_=function(){this.messageChannel_=new MessageChannel,this.messageChannel_.port1.onmessage=this.onMessage_.bind(this),this.messageChannel_.port1.start(),this.iframe_.contentWindow.postMessage({name:'ipc-init',argv:[{messagePort:this.messageChannel_.port2}]},this.url,[this.messageChannel_.port2])},hterm.Frame.prototype.onLoad=function(){},hterm.Frame.prototype.sendTerminalInfo_=function(){lib.f.getAcceptLanguages(function(s){this.postMessage('terminal-info',[{acceptLanguages:s,foregroundColor:this.terminal_.getForegroundColor(),backgroundColor:this.terminal_.getBackgroundColor(),cursorColor:this.terminal_.getCursorColor(),fontSize:this.terminal_.getFontSize(),fontFamily:this.terminal_.getFontFamily(),baseURL:lib.f.getURL('/')}])}.bind(this))},hterm.Frame.prototype.onCloseClicked_=function(){this.close()},hterm.Frame.prototype.close=function(){this.container_&&this.container_.parentNode&&(this.container_.parentNode.removeChild(this.container_),this.onClose())},hterm.Frame.prototype.onClose=function(){},hterm.Frame.prototype.postMessage=function(s,l){if(!this.messageChannel_)throw new Error('Message channel is not set up.');this.messageChannel_.port1.postMessage({name:s,argv:l})},hterm.Frame.prototype.show=function(){function s(M,I){return M in l.options?l.options[M]:I}var l=this,l=this;if(this.container_&&this.container_.parentNode)return void console.error('Frame already visible');var A=hterm.getClientSize(this.div_),C=s('width',640),S=s('height',480),_=(A.width-C)/2,T=(A.height-S)/2,F=this.terminal_.document_,V=this.container_=F.createElement('div');var P,R;var E=this.iframe_=F.createElement('iframe');E.onload=this.onLoad_.bind(this),E.style.cssText='display: flex;flex: 1;width: 100%',E.setAttribute('src',this.url),E.setAttribute('seamless',!0),V.appendChild(E),this.div_.appendChild(V)},'use strict',lib.rtdep('hterm.Keyboard.KeyMap'),hterm.Keyboard=function(s){this.terminal=s,this.keyboardElement_=null,this.handlers_=[['focusout',this.onFocusOut_.bind(this)],['keydown',this.onKeyDown_.bind(this)],['keypress',this.onKeyPress_.bind(this)],['keyup',this.onKeyUp_.bind(this)],['textInput',this.onTextInput_.bind(this)]],this.keyMap=new hterm.Keyboard.KeyMap(this),this.bindings=new hterm.Keyboard.Bindings(this),this.altGrMode='none',this.shiftInsertPaste=!0,this.homeKeysScroll=!1,this.pageKeysScroll=!1,this.ctrlPlusMinusZeroZoom=!0,this.ctrlCCopy=!1,this.ctrlVPaste=!1,this.applicationKeypad=!1,this.applicationCursor=!1,this.backspaceSendsBackspace=!1,this.characterEncoding='utf-8',this.metaSendsEscape=!0,this.passMetaV=!0,this.altSendsWhat='escape',this.altIsMeta=!1,this.altBackspaceIsMetaBackspace=!1,this.altKeyPressed=0,this.mediaKeysAreFKeys=!1,this.previousAltSendsWhat_=null},hterm.Keyboard.KeyActions={CANCEL:lib.f.createEnum('CANCEL'),DEFAULT:lib.f.createEnum('DEFAULT'),PASS:lib.f.createEnum('PASS'),STRIP:lib.f.createEnum('STRIP')},hterm.Keyboard.prototype.encode=function(s){return'utf-8'==this.characterEncoding?this.terminal.vt.encodeUTF8(s):s},hterm.Keyboard.prototype.installKeyboard=function(s){if(s!=this.keyboardElement_){s&&this.keyboardElement_&&this.installKeyboard(null);for(var l=0,u;l<this.handlers_.length;l++)u=this.handlers_[l],s?s.addEventListener(u[0],u[1]):this.keyboardElement_.removeEventListener(u[0],u[1]);this.keyboardElement_=s}},hterm.Keyboard.prototype.uninstallKeyboard=function(){this.installKeyboard(null)},hterm.Keyboard.prototype.onTextInput_=function(s){s.data&&this.terminal.onVTKeystroke(s.data)},hterm.Keyboard.prototype.onKeyPress_=function(s){var l,u=String.fromCharCode(s.which),A=u.toLowerCase();if(!((s.ctrlKey||s.metaKey)&&('c'==A||'v'==A))){if(s.altKey&&'browser-key'==this.altSendsWhat&&0==s.charCode){var C=String.fromCharCode(s.keyCode);s.shiftKey||(C=C.toLowerCase()),l=C.charCodeAt(0)+128}else 32<=s.charCode&&(C=s.charCode);C&&this.terminal.onVTKeystroke(String.fromCharCode(C)),s.preventDefault(),s.stopPropagation()}},hterm.Keyboard.prototype.preventChromeAppNonCtrlShiftDefault_=function(s){window.chrome&&window.chrome.app&&window.chrome.app.window&&(s.ctrlKey&&s.shiftKey||s.preventDefault())},hterm.Keyboard.prototype.onFocusOut_=function(){this.altKeyPressed=0},hterm.Keyboard.prototype.onKeyUp_=function(s){18==s.keyCode&&(this.altKeyPressed&=~(1<<s.location-1)),27==s.keyCode&&this.preventChromeAppNonCtrlShiftDefault_(s)},hterm.Keyboard.prototype.onKeyDown_=function(s){function l(U){A=U;var z=u[U];return'function'==typeof z&&(z=z.apply(C.keyMap,[s,u])),z===_&&'normal'!=U&&(z=l('normal')),z}18==s.keyCode&&(this.altKeyPressed|=1<<s.location-1),27==s.keyCode&&this.preventChromeAppNonCtrlShiftDefault_(s);var u=this.keyMap.keyDefs[s.keyCode];if(!u)return void console.warn('No definition for keyCode: '+s.keyCode);var A=null,C=this,S=hterm.Keyboard.KeyActions.CANCEL,_=hterm.Keyboard.KeyActions.DEFAULT,T=hterm.Keyboard.KeyActions.PASS,F=hterm.Keyboard.KeyActions.STRIP,V=s.ctrlKey,P=!this.altIsMeta&&s.altKey,R=this.altIsMeta?s.altKey||s.metaKey:s.metaKey,E=!/^\[\w+\]$/.test(u.keyCap);switch(this.altGrMode){case'ctrl-alt':E&&V&&P&&(V=!1,P=!1);break;case'right-alt':E&&2&this.terminal.keyboard.altKeyPressed&&(V=!1,P=!1);break;case'left-alt':E&&1&this.terminal.keyboard.altKeyPressed&&(V=!1,P=!1);}var M=V?l('control'):P?l('alt'):R?l('meta'):l('normal');var I=!s.maskShiftKey&&s.shiftKey,B={keyCode:s.keyCode,shift:s.shiftKey,ctrl:V,alt:P,meta:R},D=this.bindings.getBinding(B);if((D&&(I=V=P=R=!1,A='normal',M=D.action,'function'==typeof M&&(M=M.call(this,this.terminal,B))),P&&'browser-key'==this.altSendsWhat&&M==_&&(M=T),M!==T&&(M!==_||V||P||R))&&(M===F&&(P=V=!1,M=u.normal,'function'==typeof M&&(M=M.apply(this.keyMap,[s,u])),M==_&&2==u.keyCap.length&&(M=u.keyCap.substr(I?1:0,1))),s.preventDefault(),s.stopPropagation(),M!==S)){if(M!==_&&'string'!=typeof M)return void console.warn('Invalid action: '+JSON.stringify(M));if('control'==A?V=!1:'alt'==A?P=!1:'meta'==A&&(R=!1),'\x1B['==M.substr(0,2)&&(P||V||I||R)){let U=1;I&&(U+=1),P&&(U+=2),V&&(U+=4),R&&(U+=8);let z=';'+U;M=3==M.length?'\x1B[1'+z+M.substr(2,1):M.substr(0,M.length-1)+z+M.substr(M.length-1)}else{if(M===_&&(M=u.keyCap.substr(I?1:0,1),V)){var K=u.keyCap.substr(0,1),N=K.charCodeAt(0);64<=N&&95>=N&&(M=String.fromCharCode(N-64))}if(P&&'8-bit'==this.altSendsWhat&&1==M.length){var N=M.charCodeAt(0)+128;M=String.fromCharCode(N)}(P&&'escape'==this.altSendsWhat||R&&this.metaSendsEscape)&&(M='\x1B'+M)}this.terminal.onVTKeystroke(M)}},'use strict',hterm.Keyboard.Bindings=function(){this.bindings_={}},hterm.Keyboard.Bindings.prototype.clear=function(){this.bindings_={}},hterm.Keyboard.Bindings.prototype.addBinding_=function(s,l){var u=null,A=this.bindings_[s.keyCode];if(A)for(var C=0;C<A.length;C++)if(A[C].keyPattern.matchKeyPattern(s)){u=A[C];break}u?u.action=l:(u={keyPattern:s,action:l},A?(this.bindings_[s.keyCode].push(u),A.sort(function(S,_){return hterm.Keyboard.KeyPattern.sortCompare(S.keyPattern,_.keyPattern)})):this.bindings_[s.keyCode]=[u])},hterm.Keyboard.Bindings.prototype.addBinding=function(s,l){if('string'!=typeof s)return void this.addBinding_(s,l);var u=new hterm.Parser;u.reset(s);var A;try{A=u.parseKeySequence()}catch(C){return void console.error(C)}if(!u.isComplete())return void console.error(u.error('Expected end of sequence: '+A));if('string'==typeof l){u.reset(l);try{l=u.parseKeyAction()}catch(C){return void console.error(C)}}return u.isComplete()?void this.addBinding_(new hterm.Keyboard.KeyPattern(A),l):void console.error(u.error('Expected end of sequence: '+A))},hterm.Keyboard.Bindings.prototype.addBindings=function(s){for(var l in s)this.addBinding(l,s[l])},hterm.Keyboard.Bindings.prototype.getBinding=function(s){var l=this.bindings_[s.keyCode];if(!l)return null;for(var u=0,A;u<l.length;u++)if(A=l[u],A.keyPattern.matchKeyDown(s))return A;return null},'use strict',lib.rtdep('hterm.Keyboard.KeyActions'),hterm.Keyboard.KeyMap=function(s){this.keyboard=s,this.keyDefs={},this.reset()},hterm.Keyboard.KeyMap.prototype.addKeyDef=function(s,l){s in this.keyDefs&&console.warn('Duplicate keyCode: '+s),this.keyDefs[s]=l},hterm.Keyboard.KeyMap.prototype.addKeyDefs=function(){for(var l=0;l<arguments.length;l++)this.addKeyDef(arguments[l][0],{keyCap:arguments[l][1],normal:arguments[l][2],control:arguments[l][3],alt:arguments[l][4],meta:arguments[l][5]})},hterm.Keyboard.KeyMap.prototype.reset=function(){function s(N,U,z){return'function'==typeof N?N.apply(P,[U,z]):N}function u(N,U){return function(z,L){var Z=z.shiftKey||z.ctrlKey||z.altKey||z.metaKey||!P.keyboard.applicationCursor?N:U;return s(Z,z,L)}}function A(N,U){return function(z,L){var Z=P.keyboard.backspaceSendsBackspace?U:N;return s(Z,z,L)}}function C(N,U){return function(z,L){var Z=z.shiftKey?U:N;return z.maskShiftKey=!0,s(Z,z,L)}}function S(N,U){return function(z,L){var Z=z.altKey?U:N;return s(Z,z,L)}}function _(N,U){return function(z,L){var Z=z.shiftKey||z.ctrlKey||z.altKey||z.metaKey?U:N;return s(Z,z,L)}}function T(N){return String.fromCharCode(N.charCodeAt(0)-64)}function F(N){return function(U,z){return this[N](U,z)}}function V(N){return function(U,z){return P.keyboard.mediaKeysAreFKeys?s(N,U,z):166==U.keyCode||167==U.keyCode||168==U.keyCode?hterm.Keyboard.KeyActions.CANCEL:hterm.Keyboard.KeyActions.PASS}}this.keyDefs={};var P=this,E='\x1B[',M='\x1BO',I=hterm.Keyboard.KeyActions.CANCEL,B=hterm.Keyboard.KeyActions.DEFAULT,D=hterm.Keyboard.KeyActions.PASS,K=hterm.Keyboard.KeyActions.STRIP;this.addKeyDefs([0,'[UNKNOWN]',D,D,D,D],[27,'[ESC]','\x1B',B,B,B],[112,'[F1]',_(M+'P',E+'P'),B,E+'23~',B],[113,'[F2]',_(M+'Q',E+'Q'),B,E+'24~',B],[114,'[F3]',_(M+'R',E+'R'),B,E+'25~',B],[115,'[F4]',_(M+'S',E+'S'),B,E+'26~',B],[116,'[F5]',E+'15~',B,E+'28~',B],[117,'[F6]',E+'17~',B,E+'29~',B],[118,'[F7]',E+'18~',B,E+'31~',B],[119,'[F8]',E+'19~',B,E+'32~',B],[120,'[F9]',E+'20~',B,E+'33~',B],[121,'[F10]',E+'21~',B,E+'34~',B],[122,'[F11]',E+'23~',B,E+'42~',B],[123,'[F12]',E+'24~',B,E+'43~',B],[192,'`~',B,C(T('@'),T('^')),B,D],[49,'1!',B,F('onCtrlNum_'),F('onAltNum_'),F('onMetaNum_')],[50,'2@',B,F('onCtrlNum_'),F('onAltNum_'),F('onMetaNum_')],[51,'3#',B,F('onCtrlNum_'),F('onAltNum_'),F('onMetaNum_')],[52,'4$',B,F('onCtrlNum_'),F('onAltNum_'),F('onMetaNum_')],[53,'5%',B,F('onCtrlNum_'),F('onAltNum_'),F('onMetaNum_')],[54,'6^',B,F('onCtrlNum_'),F('onAltNum_'),F('onMetaNum_')],[55,'7&',B,F('onCtrlNum_'),F('onAltNum_'),F('onMetaNum_')],[56,'8*',B,F('onCtrlNum_'),F('onAltNum_'),F('onMetaNum_')],[57,'9(',B,F('onCtrlNum_'),F('onAltNum_'),F('onMetaNum_')],[48,'0)',B,F('onPlusMinusZero_'),F('onAltNum_'),F('onPlusMinusZero_')],[189,'-_',B,F('onPlusMinusZero_'),B,F('onPlusMinusZero_')],[187,'=+',B,F('onPlusMinusZero_'),B,F('onPlusMinusZero_')],[173,'-_',B,F('onPlusMinusZero_'),B,F('onPlusMinusZero_')],[61,'=+',B,F('onPlusMinusZero_'),B,F('onPlusMinusZero_')],[171,'+*',B,F('onPlusMinusZero_'),B,F('onPlusMinusZero_')],[8,'[BKSP]',A('\x7F','\b'),A('\b','\x7F'),B,B],[9,'[TAB]',C('\t',E+'Z'),K,D,B],[81,'qQ',B,T('Q'),B,B],[87,'wW',B,T('W'),B,B],[69,'eE',B,T('E'),B,B],[82,'rR',B,T('R'),B,B],[84,'tT',B,T('T'),B,B],[89,'yY',B,T('Y'),B,B],[85,'uU',B,T('U'),B,B],[73,'iI',B,T('I'),B,B],[79,'oO',B,T('O'),B,B],[80,'pP',B,T('P'),B,B],[219,'[{',B,T('['),B,B],[221,']}',B,T(']'),B,B],[220,'\\|',B,T('\\'),B,B],[20,'[CAPS]',D,D,D,B],[65,'aA',B,T('A'),B,B],[83,'sS',B,T('S'),B,B],[68,'dD',B,T('D'),B,B],[70,'fF',B,T('F'),B,B],[71,'gG',B,T('G'),B,B],[72,'hH',B,T('H'),B,B],[74,'jJ',B,C(T('J'),D),B,B],[75,'kK',B,C(T('K'),F('onClear_')),B,B],[76,'lL',B,C(T('L'),D),B,B],[186,';:',B,K,B,B],[222,'\'"',B,K,B,B],[13,'[ENTER]','\r',I,I,B],[16,'[SHIFT]',D,D,D,B],[90,'zZ',B,T('Z'),B,B],[88,'xX',B,T('X'),B,B],[67,'cC',B,F('onCtrlC_'),B,F('onMetaC_')],[86,'vV',B,F('onCtrlV_'),B,F('onMetaV_')],[66,'bB',B,C(T('B'),D),B,C(B,D)],[78,'nN',B,F('onCtrlN_'),B,F('onMetaN_')],[77,'mM',B,T('M'),B,B],[188,',<',B,S(K,D),B,B],[190,'.>',B,S(K,D),B,B],[191,'/?',B,C(T('_'),T('?')),B,B],[17,'[CTRL]',D,D,D,D],[18,'[ALT]',D,D,D,D],[91,'[LAPL]',D,D,D,D],[32,' ',B,T('@'),B,B],[92,'[RAPL]',D,D,D,D],[93,'[RMENU]',D,D,D,D],[42,'[PRTSCR]',D,D,D,D],[145,'[SCRLK]',D,D,D,D],[19,'[BREAK]',D,D,D,D],[45,'[INSERT]',F('onKeyInsert_'),B,B,B],[36,'[HOME]',F('onKeyHome_'),B,B,B],[33,'[PGUP]',F('onKeyPageUp_'),B,B,B],[46,'[DEL]',F('onKeyDel_'),B,B,B],[35,'[END]',F('onKeyEnd_'),B,B,B],[34,'[PGDOWN]',F('onKeyPageDown_'),B,B,B],[38,'[UP]',F('onKeyArrowUp_'),B,B,B],[40,'[DOWN]',F('onKeyArrowDown_'),B,B,B],[39,'[RIGHT]',u(E+'C',M+'C'),B,B,B],[37,'[LEFT]',u(E+'D',M+'D'),B,B,B],[144,'[NUMLOCK]',D,D,D,D],[96,'[KP0]',B,B,B,B],[97,'[KP1]',B,B,B,B],[98,'[KP2]',B,B,B,B],[99,'[KP3]',B,B,B,B],[100,'[KP4]',B,B,B,B],[101,'[KP5]',B,B,B,B],[102,'[KP6]',B,B,B,B],[103,'[KP7]',B,B,B,B],[104,'[KP8]',B,B,B,B],[105,'[KP9]',B,B,B,B],[107,'[KP+]',B,F('onPlusMinusZero_'),B,F('onPlusMinusZero_')],[109,'[KP-]',B,F('onPlusMinusZero_'),B,F('onPlusMinusZero_')],[106,'[KP*]',B,B,B,B],[111,'[KP/]',B,B,B,B],[110,'[KP.]',B,B,B,B],[166,'[BACK]',V(_(M+'P',E+'P')),B,E+'23~',B],[167,'[FWD]',V(_(M+'Q',E+'Q')),B,E+'24~',B],[168,'[RELOAD]',V(_(M+'R',E+'R')),B,E+'25~',B],[183,'[FSCR]',V(_(M+'S',E+'S')),B,E+'26~',B],[182,'[WINS]',V(E+'15~'),B,E+'28~',B],[216,'[BRIT-]',V(E+'17~'),B,E+'29~',B],[217,'[BRIT+]',V(E+'18~'),B,E+'31~',B])},hterm.Keyboard.KeyMap.prototype.onKeyInsert_=function(s){return this.keyboard.shiftInsertPaste&&s.shiftKey?hterm.Keyboard.KeyActions.PASS:'\x1B[2~'},hterm.Keyboard.KeyMap.prototype.onKeyHome_=function(s){return!this.keyboard.homeKeysScroll^s.shiftKey?s.altey||s.ctrlKey||s.shiftKey||!this.keyboard.applicationCursor?'\x1B[H':'\x1BOH':(this.keyboard.terminal.scrollHome(),hterm.Keyboard.KeyActions.CANCEL)},hterm.Keyboard.KeyMap.prototype.onKeyEnd_=function(s){return!this.keyboard.homeKeysScroll^s.shiftKey?s.altKey||s.ctrlKey||s.shiftKey||!this.keyboard.applicationCursor?'\x1B[F':'\x1BOF':(this.keyboard.terminal.scrollEnd(),hterm.Keyboard.KeyActions.CANCEL)},hterm.Keyboard.KeyMap.prototype.onKeyPageUp_=function(s){return!this.keyboard.pageKeysScroll^s.shiftKey?'\x1B[5~':(this.keyboard.terminal.scrollPageUp(),hterm.Keyboard.KeyActions.CANCEL)},hterm.Keyboard.KeyMap.prototype.onKeyDel_=function(s){return this.keyboard.altBackspaceIsMetaBackspace&&this.keyboard.altKeyPressed&&!s.altKey?'\x1B\x7F':'\x1B[3~'},hterm.Keyboard.KeyMap.prototype.onKeyPageDown_=function(s){return!this.keyboard.pageKeysScroll^s.shiftKey?'\x1B[6~':(this.keyboard.terminal.scrollPageDown(),hterm.Keyboard.KeyActions.CANCEL)},hterm.Keyboard.KeyMap.prototype.onKeyArrowUp_=function(s){return!this.keyboard.applicationCursor&&s.shiftKey?(this.keyboard.terminal.scrollLineUp(),hterm.Keyboard.KeyActions.CANCEL):s.shiftKey||s.ctrlKey||s.altKey||s.metaKey||!this.keyboard.applicationCursor?'\x1B[A':'\x1BOA'},hterm.Keyboard.KeyMap.prototype.onKeyArrowDown_=function(s){return!this.keyboard.applicationCursor&&s.shiftKey?(this.keyboard.terminal.scrollLineDown(),hterm.Keyboard.KeyActions.CANCEL):s.shiftKey||s.ctrlKey||s.altKey||s.metaKey||!this.keyboard.applicationCursor?'\x1B[B':'\x1BOB'},hterm.Keyboard.KeyMap.prototype.onClear_=function(){return this.keyboard.terminal.wipeContents(),hterm.Keyboard.KeyActions.CANCEL},hterm.Keyboard.KeyMap.prototype.onCtrlNum_=function(s,l){function u(A){return String.fromCharCode(A.charCodeAt(0)-64)}if(this.keyboard.terminal.passCtrlNumber&&!s.shiftKey)return hterm.Keyboard.KeyActions.PASS;switch(l.keyCap.substr(0,1)){case'1':return'1';case'2':return u('@');case'3':return u('[');case'4':return u('\\');case'5':return u(']');case'6':return u('^');case'7':return u('_');case'8':return'\x7F';case'9':return'9';}},hterm.Keyboard.KeyMap.prototype.onAltNum_=function(s){return this.keyboard.terminal.passAltNumber&&!s.shiftKey?hterm.Keyboard.KeyActions.PASS:hterm.Keyboard.KeyActions.DEFAULT},hterm.Keyboard.KeyMap.prototype.onMetaNum_=function(s){return this.keyboard.terminal.passMetaNumber&&!s.shiftKey?hterm.Keyboard.KeyActions.PASS:hterm.Keyboard.KeyActions.DEFAULT},hterm.Keyboard.KeyMap.prototype.onCtrlC_=function(s){var u=this.keyboard.terminal.getDocument().getSelection();if(!u.isCollapsed){if(this.keyboard.ctrlCCopy&&!s.shiftKey)return this.keyboard.terminal.clearSelectionAfterCopy&&setTimeout(u.collapseToEnd.bind(u),50),hterm.Keyboard.KeyActions.PASS;if(!this.keyboard.ctrlCCopy&&s.shiftKey)return this.keyboard.terminal.clearSelectionAfterCopy&&setTimeout(u.collapseToEnd.bind(u),50),this.keyboard.terminal.copySelectionToClipboard(),hterm.Keyboard.KeyActions.CANCEL}return'\x03'},hterm.Keyboard.KeyMap.prototype.onCtrlN_=function(s){return s.shiftKey?(window.open(document.location.href,'','chrome=no,close=yes,resize=yes,scrollbars=yes,minimizable=yes,width='+window.innerWidth+',height='+window.innerHeight),hterm.Keyboard.KeyActions.CANCEL):'\x0E'},hterm.Keyboard.KeyMap.prototype.onCtrlV_=function(s){return!s.shiftKey&&this.keyboard.ctrlVPaste||s.shiftKey&&!this.keyboard.ctrlVPaste?this.keyboard.terminal.paste()?hterm.Keyboard.KeyActions.CANCEL:hterm.Keyboard.KeyActions.PASS:'\x16'},hterm.Keyboard.KeyMap.prototype.onMetaN_=function(s){return s.shiftKey?(window.open(document.location.href,'','chrome=no,close=yes,resize=yes,scrollbars=yes,minimizable=yes,width='+window.outerWidth+',height='+window.outerHeight),hterm.Keyboard.KeyActions.CANCEL):hterm.Keyboard.KeyActions.DEFAULT},hterm.Keyboard.KeyMap.prototype.onMetaC_=function(s,l){var u=this.keyboard.terminal.getDocument();return s.shiftKey||u.getSelection().isCollapsed?l.keyCap.substr(s.shiftKey?1:0,1):(this.keyboard.terminal.clearSelectionAfterCopy&&setTimeout(function(){u.getSelection().collapseToEnd()},50),hterm.Keyboard.KeyActions.PASS)},hterm.Keyboard.KeyMap.prototype.onMetaV_=function(s){return s.shiftKey?hterm.Keyboard.KeyActions.PASS:this.keyboard.passMetaV?hterm.Keyboard.KeyActions.PASS:hterm.Keyboard.KeyActions.DEFAULT},hterm.Keyboard.KeyMap.prototype.onPlusMinusZero_=function(s,l){if(!(this.keyboard.ctrlPlusMinusZeroZoom^s.shiftKey))return'-_'==l.keyCap?'\x1F':hterm.Keyboard.KeyActions.CANCEL;if(1!=this.keyboard.terminal.getZoomFactor())return hterm.Keyboard.KeyActions.PASS;var u=l.keyCap.substr(0,1);if('0'==u)this.keyboard.terminal.setFontSize(0);else{var A=this.keyboard.terminal.getFontSize();'-'==u||'[KP-]'==l.keyCap?A-=1:A+=1,this.keyboard.terminal.setFontSize(A)}return hterm.Keyboard.KeyActions.CANCEL},'use strict',hterm.Keyboard.KeyPattern=function(s){this.wildcardCount=0,this.keyCode=s.keyCode,hterm.Keyboard.KeyPattern.modifiers.forEach(function(l){this[l]=s[l]||!1,'*'==this[l]&&this.wildcardCount++}.bind(this))},hterm.Keyboard.KeyPattern.modifiers=['shift','ctrl','alt','meta'],hterm.Keyboard.KeyPattern.sortCompare=function(s,l){return s.wildcardCount<l.wildcardCount?-1:s.wildcardCount>l.wildcardCount?1:0},hterm.Keyboard.KeyPattern.prototype.match_=function(s,l){if(this.keyCode!=s.keyCode)return!1;var u=!0;return hterm.Keyboard.KeyPattern.modifiers.forEach(function(A){var C=!!(A in s)&&s[A];u&&(l||'*'!=this[A])&&this[A]!=C&&(u=!1)}.bind(this)),u},hterm.Keyboard.KeyPattern.prototype.matchKeyDown=function(s){return this.match_(s,!1)},hterm.Keyboard.KeyPattern.prototype.matchKeyPattern=function(s){return this.match_(s,!0)},'use strict',hterm.Options=function(s){this.wraparound=!s||s.wraparound,this.reverseWraparound=!!s&&s.reverseWraparound,this.originMode=!!s&&s.originMode,this.autoCarriageReturn=!!s&&s.autoCarriageReturn,this.cursorVisible=!!s&&s.cursorVisible,this.cursorBlink=!!s&&s.cursorBlink,this.insertMode=!!s&&s.insertMode,this.reverseVideo=!!s&&s.reverseVideo,this.bracketedPaste=!!s&&s.bracketedPaste},'use strict',lib.rtdep('hterm.Keyboard.KeyActions'),hterm.Parser=function(){this.source='',this.pos=0,this.ch=null},hterm.Parser.prototype.error=function(s){return new Error('Parse error at '+this.pos+': '+s)},hterm.Parser.prototype.isComplete=function(){return this.pos==this.source.length},hterm.Parser.prototype.reset=function(s,l){this.source=s,this.pos=l||0,this.ch=s.substr(0,1)},hterm.Parser.prototype.parseKeySequence=function(){var s={keyCode:null};for(var l in hterm.Parser.identifiers.modifierKeys)s[hterm.Parser.identifiers.modifierKeys[l]]=!1;for(;this.pos<this.source.length;){this.skipSpace();var u=this.parseToken();if('integer'==u.type)s.keyCode=u.value;else if('identifier'==u.type){var A=u.value.toUpperCase();if(A in hterm.Parser.identifiers.modifierKeys&&hterm.Parser.identifiers.modifierKeys.hasOwnProperty(A)){var C=hterm.Parser.identifiers.modifierKeys[A];if(s[C]&&'*'!=s[C])throw this.error('Duplicate modifier: '+u.value);s[C]=!0}else if(A in hterm.Parser.identifiers.keyCodes&&hterm.Parser.identifiers.keyCodes.hasOwnProperty(A))s.keyCode=hterm.Parser.identifiers.keyCodes[A];else throw this.error('Unknown key: '+u.value)}else if('symbol'!=u.type)throw this.error('Expected integer or identifier');else if('*'==u.value)for(var S in hterm.Parser.identifiers.modifierKeys){var _=hterm.Parser.identifiers.modifierKeys[S];s[_]||(s[_]='*')}else throw this.error('Unexpected symbol: '+u.value);if(this.skipSpace(),'-'!=this.ch)break;if(null!=s.keyCode)throw this.error('Extra definition after target key');this.advance(1)}if(null==s.keyCode)throw this.error('Missing target key');return s},hterm.Parser.prototype.parseKeyAction=function(){this.skipSpace();var s=this.parseToken();if('string'==s.type)return s.value;if('identifier'==s.type){if(s.value in hterm.Parser.identifiers.actions&&hterm.Parser.identifiers.actions.hasOwnProperty(s.value))return hterm.Parser.identifiers.actions[s.value];throw this.error('Unknown key action: '+s.value)}throw this.error('Expected string or identifier')},hterm.Parser.prototype.peekString=function(){return'\''==this.ch||'"'==this.ch},hterm.Parser.prototype.peekIdentifier=function(){return this.ch.match(/[a-z_]/i)},hterm.Parser.prototype.peekInteger=function(){return this.ch.match(/[0-9]/)},hterm.Parser.prototype.parseToken=function(){if('*'==this.ch){var s={type:'symbol',value:this.ch};return this.advance(1),s}if(this.peekIdentifier())return{type:'identifier',value:this.parseIdentifier()};if(this.peekString())return{type:'string',value:this.parseString()};if(this.peekInteger())return{type:'integer',value:this.parseInteger()};throw this.error('Unexpected token')},hterm.Parser.prototype.parseIdentifier=function(){if(!this.peekIdentifier())throw this.error('Expected identifier');return this.parsePattern(/[a-z0-9_]+/ig)},hterm.Parser.prototype.parseInteger=function(){return'0'==this.ch&&this.pos<this.source.length-1&&'x'==this.source.substr(this.pos+1,1)?parseInt(this.parsePattern(/0x[0-9a-f]+/gi)):parseInt(this.parsePattern(/\d+/g))},hterm.Parser.prototype.parseString=function(){var s='',l=this.ch;if('"'!=l&&'\''!=l)throw this.error('String expected');this.advance(1);for(var u=new RegExp('[\\\\'+l+']','g');this.pos<this.source.length;){if(u.lastIndex=this.pos,!u.exec(this.source))throw this.error('Unterminated string literal');if(s+=this.source.substring(this.pos,u.lastIndex-1),this.advance(u.lastIndex-this.pos-1),'"'==l&&'\\'==this.ch){this.advance(1),s+=this.parseEscape();continue}if('\''==l&&'\\'==this.ch){s+=this.ch,this.advance(1);continue}if(this.ch==l)return this.advance(1),s}throw this.error('Unterminated string literal')},hterm.Parser.prototype.parseEscape=function(){var s={'"':'"','\'':'\'','\\':'\\',a:'\x07',b:'\b',e:'\x1B',f:'\f',n:'\n',r:'\r',t:'\t',v:'\x0B',x:function(){var u=this.parsePattern(/[a-z0-9]{2}/ig);return String.fromCharCode(parseInt(u,16))},u:function(){var u=this.parsePattern(/[a-z0-9]{4}/ig);return String.fromCharCode(parseInt(u,16))}};if(!(this.ch in s&&s.hasOwnProperty(this.ch)))throw this.error('Unknown escape: '+this.ch);var l=s[this.ch];return this.advance(1),'function'==typeof l&&(l=l.call(this)),l},hterm.Parser.prototype.parsePattern=function(s){if(!s.global)throw this.error('Internal error: Span patterns must be global');s.lastIndex=this.pos;var l=s.exec(this.source);if(!l||s.lastIndex-l[0].length!=this.pos)throw this.error('Expected match for: '+s);return this.pos=s.lastIndex-1,this.advance(1),l[0]},hterm.Parser.prototype.advance=function(s){this.pos+=s,this.ch=this.source.substr(this.pos,1)},hterm.Parser.prototype.skipSpace=function(s){if(/\s/.test(this.ch)){var l=/\s+/gm;l.lastIndex=this.pos;var u=this.source;if(l.exec(u)&&(this.pos=l.lastIndex),this.ch=this.source.substr(this.pos,1),s&&-1==this.ch.indexOf(s))throw this.error('Expected one of '+s+', found: '+this.ch)}},'use strict',hterm.Parser.identifiers={},hterm.Parser.identifiers.modifierKeys={SHIFT:'shift',CTRL:'ctrl',CONTROL:'ctrl',ALT:'alt',META:'meta'},hterm.Parser.identifiers.keyCodes={ESCAPE:27,ESC:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,ZERO:48,BACKSPACE:8,BKSP:8,BS:8,TAB:9,Q:81,W:87,E:69,R:82,T:84,Y:89,U:85,I:73,O:79,P:80,CAPS_LOCK:20,CAPSLOCK:20,CAPS:20,A:65,S:83,D:68,F:70,G:71,H:72,J:74,K:75,L:76,ENTER:13,ENT:13,RETURN:13,RET:13,Z:90,X:88,C:67,V:86,B:66,N:78,M:77,SPACE:32,SP:32,PRINT_SCREEN:42,PRTSC:42,SCROLL_LOCK:145,SCRLK:145,BREAK:19,BRK:19,INSERT:45,INS:45,HOME:36,PAGE_UP:33,PGUP:33,DELETE:46,DEL:46,END:35,PAGE_DOWN:34,PGDOWN:34,PGDN:34,UP:38,DOWN:40,RIGHT:39,LEFT:37,NUMLOCK:144,KP0:96,KP1:97,KP2:98,KP3:99,KP4:100,KP5:101,KP6:102,KP7:103,KP8:104,KP9:105,KP_PLUS:107,KP_ADD:107,KP_MINUS:109,KP_SUBTRACT:109,KP_STAR:106,KP_MULTIPLY:106,KP_DIVIDE:111,KP_DECIMAL:110,KP_PERIOD:110,NAVIGATE_BACK:166,NAVIGATE_FORWARD:167,RELOAD:168,FULL_SCREEN:183,WINDOW_OVERVIEW:182,BRIGHTNESS_UP:216,BRIGHTNESS_DOWN:217},hterm.Parser.identifiers.actions={CANCEL:hterm.Keyboard.KeyActions.CANCEL,DEFAULT:hterm.Keyboard.KeyActions.DEFAULT,PASS:hterm.Keyboard.KeyActions.PASS,scrollPageUp:function(s){return s.scrollPageUp(),hterm.Keyboard.KeyActions.CANCEL},scrollPageDown:function(s){return s.scrollPageDown(),hterm.Keyboard.KeyActions.CANCEL},scrollToTop:function(s){return s.scrollEnd(),hterm.Keyboard.KeyActions.CANCEL},scrollToBottom:function(s){return s.scrollEnd(),hterm.Keyboard.KeyActions.CANCEL},clearScrollback:function(s){return s.wipeContents(),hterm.Keyboard.KeyActions.CANCEL}},'use strict',lib.rtdep('lib.f','lib.Storage'),hterm.PreferenceManager=function(s){lib.PreferenceManager.call(this,hterm.defaultStorage,'/hterm/profiles/'+s);var l=hterm.PreferenceManager.defaultPreferences;Object.keys(l).forEach(function(u){this.definePreference(u,l[u][1])}.bind(this))},hterm.PreferenceManager.categories={},hterm.PreferenceManager.categories.Keyboard='Keyboard',hterm.PreferenceManager.categories.Appearance='Appearance',hterm.PreferenceManager.categories.CopyPaste='CopyPaste',hterm.PreferenceManager.categories.Sounds='Sounds',hterm.PreferenceManager.categories.Scrolling='Scrolling',hterm.PreferenceManager.categories.Encoding='Encoding',hterm.PreferenceManager.categories.Miscellaneous='Miscellaneous',hterm.PreferenceManager.categoryDefinitions=[{id:hterm.PreferenceManager.categories.Appearance,text:'Appearance (fonts, colors, images)'},{id:hterm.PreferenceManager.categories.CopyPaste,text:'Copy & Paste'},{id:hterm.PreferenceManager.categories.Encoding,text:'Encoding'},{id:hterm.PreferenceManager.categories.Keyboard,text:'Keyboard'},{id:hterm.PreferenceManager.categories.Scrolling,text:'Scrolling'},{id:hterm.PreferenceManager.categories.Sounds,text:'Sounds'},{id:hterm.PreferenceManager.categories.Miscellaneous,text:'Misc.'}],hterm.PreferenceManager.defaultPreferences={'alt-gr-mode':[hterm.PreferenceManager.categories.Keyboard,null,[null,'none','ctrl-alt','left-alt','right-alt'],'Select an AltGr detection hack^Wheuristic.\n\n\'null\': Autodetect based on navigator.language:\n      \'en-us\' => \'none\', else => \'right-alt\'\n\'none\': Disable any AltGr related munging.\n\'ctrl-alt\': Assume Ctrl+Alt means AltGr.\n\'left-alt\': Assume left Alt means AltGr.\n\'right-alt\': Assume right Alt means AltGr.\n'],'alt-backspace-is-meta-backspace':[hterm.PreferenceManager.categories.Keyboard,!1,'bool','If set, undoes the Chrome OS Alt-Backspace->DEL remap, so that alt-backspace indeed is alt-backspace.'],'alt-is-meta':[hterm.PreferenceManager.categories.Keyboard,!1,'bool','Set whether the alt key acts as a meta key or as a distinct alt key.'],'alt-sends-what':[hterm.PreferenceManager.categories.Keyboard,'escape',['escape','8-bit','browser-key'],'Controls how the alt key is handled.\n\n  escape....... Send an ESC prefix.\n  8-bit........ Add 128 to the unshifted character as in xterm.\n  browser-key.. Wait for the keypress event and see what the browser \n                says.  (This won\'t work well on platforms where the \n                browser performs a default action for some alt sequences.)'],'audible-bell-sound':[hterm.PreferenceManager.categories.Sounds,'lib-resource:hterm/audio/bell','url','URL of the terminal bell sound.  Empty string for no audible bell.'],'desktop-notification-bell':[hterm.PreferenceManager.categories.Sounds,!1,'bool','If true, terminal bells in the background will create a Web Notification. https://www.w3.org/TR/notifications/\n\nDisplaying notifications requires permission from the user. When this option is set to true, hterm will attempt to ask the user for permission if necessary. Note browsers may not show this permission request if it did not originate from a user action.\n\nChrome extensions with the "notifications" permission have permission to display notifications.'],'background-color':[hterm.PreferenceManager.categories.Appearance,'rgb(16, 16, 16)','color','The background color for text with no other color attributes.'],'background-image':[hterm.PreferenceManager.categories.Appearance,'','string','CSS value of the background image.  Empty string for no image.\n\nFor example:\n  url(https://goo.gl/anedTK)\n  linear-gradient(top bottom, blue, red)'],'background-size':[hterm.PreferenceManager.categories.Appearance,'','string','CSS value of the background image size.  Defaults to none.'],'background-position':[hterm.PreferenceManager.categories.Appearance,'','string','CSS value of the background image position.\n\nFor example:\n  10% 10%\n  center'],'backspace-sends-backspace':[hterm.PreferenceManager.categories.Keyboard,!1,'bool','If true, the backspace should send BS (\'\\x08\', aka ^H).  Otherwise the backspace key should send \'\\x7f\'.'],'character-map-overrides':[hterm.PreferenceManager.categories.Appearance,null,'value','This is specified as an object. It is a sparse array, where each property is the character set code and the value is an object that is a sparse array itself. In that sparse array, each property is the received character and the value is the displayed character.\n\nFor example:\n  {"0":{"+":"\\u2192",",":"\\u2190","-":"\\u2191",".":"\\u2193", "0":"\\u2588"}}'],'close-on-exit':[hterm.PreferenceManager.categories.Miscellaneous,!0,'bool','Whether or not to close the window when the command exits.'],'cursor-blink':[hterm.PreferenceManager.categories.Appearance,!1,'bool','Whether or not to blink the cursor by default.'],'cursor-blink-cycle':[hterm.PreferenceManager.categories.Appearance,[1000,500],'value','The cursor blink rate in milliseconds.\n\nA two element array, the first of which is how long the cursor should be on, second is how long it should be off.'],'cursor-color':[hterm.PreferenceManager.categories.Appearance,'rgba(255, 0, 0, 0.5)','color','The color of the visible cursor.'],'color-palette-overrides':[hterm.PreferenceManager.categories.Appearance,null,'value','Override colors in the default palette.\n\nThis can be specified as an array or an object.  If specified as an object it is assumed to be a sparse array, where each property is a numeric index into the color palette.\n\nValues can be specified as almost any css color value.  This includes #RGB, #RRGGBB, rgb(...), rgba(...), and any color names that are also part of the stock X11 rgb.txt file.\n\nYou can use \'null\' to specify that the default value should be not be changed.  This is useful for skipping a small number of indices when the value is specified as an array.'],'copy-on-select':[hterm.PreferenceManager.categories.CopyPaste,!0,'bool','Automatically copy mouse selection to the clipboard.'],'use-default-window-copy':[hterm.PreferenceManager.categories.CopyPaste,!1,'bool','Whether to use the default window copy behavior'],'clear-selection-after-copy':[hterm.PreferenceManager.categories.CopyPaste,!0,'bool','Whether to clear the selection after copying.'],'ctrl-plus-minus-zero-zoom':[hterm.PreferenceManager.categories.Keyboard,!0,'bool','If true, Ctrl-Plus/Minus/Zero controls zoom.\nIf false, Ctrl-Shift-Plus/Minus/Zero controls zoom, Ctrl-Minus sends ^_, Ctrl-Plus/Zero do nothing.'],'ctrl-c-copy':[hterm.PreferenceManager.categories.Keyboard,!1,'bool','Ctrl+C copies if true, send ^C to host if false.\nCtrl+Shift+C sends ^C to host if true, copies if false.'],'ctrl-v-paste':[hterm.PreferenceManager.categories.Keyboard,!1,'bool','Ctrl+V pastes if true, send ^V to host if false.\nCtrl+Shift+V sends ^V to host if true, pastes if false.'],'east-asian-ambiguous-as-two-column':[hterm.PreferenceManager.categories.Keyboard,!1,'bool','Set whether East Asian Ambiguous characters have two column width.'],'enable-8-bit-control':[hterm.PreferenceManager.categories.Keyboard,!1,'bool','True to enable 8-bit control characters, false to ignore them.\n\nWe\'ll respect the two-byte versions of these control characters regardless of this setting.'],'enable-bold':[hterm.PreferenceManager.categories.Appearance,null,'tristate','True if we should use bold weight font for text with the bold/bright attribute.  False to use the normal weight font.  Null to autodetect.'],'enable-bold-as-bright':[hterm.PreferenceManager.categories.Appearance,!0,'bool','True if we should use bright colors (8-15 on a 16 color palette) for any text with the bold attribute.  False otherwise.'],'enable-blink':[hterm.PreferenceManager.categories.Appearance,!0,'bool','True if we should respect the blink attribute.  False to ignore it.  '],'enable-clipboard-notice':[hterm.PreferenceManager.categories.CopyPaste,!0,'bool','Show a message in the terminal when the host writes to the clipboard.'],'enable-clipboard-write':[hterm.PreferenceManager.categories.CopyPaste,!0,'bool','Allow the host to write directly to the system clipboard.'],'enable-dec12':[hterm.PreferenceManager.categories.Miscellaneous,!1,'bool','Respect the host\'s attempt to change the cursor blink status using DEC Private Mode 12.'],environment:[hterm.PreferenceManager.categories.Miscellaneous,{TERM:'xterm-256color'},'value','The default environment variables, as an object.'],'font-family':[hterm.PreferenceManager.categories.Appearance,'"DejaVu Sans Mono", "Everson Mono", FreeMono, "Menlo", "Terminal", monospace','string','Default font family for the terminal text.'],'font-size':[hterm.PreferenceManager.categories.Appearance,15,'int','The default font size in pixels.'],'font-smoothing':[hterm.PreferenceManager.categories.Appearance,'antialiased','string','CSS font-smoothing property.'],'foreground-color':[hterm.PreferenceManager.categories.Appearance,'rgb(240, 240, 240)','color','The foreground color for text with no other color attributes.'],'home-keys-scroll':[hterm.PreferenceManager.categories.Keyboard,!1,'bool','If true, home/end will control the terminal scrollbar and shift home/end will send the VT keycodes.  If false then home/end sends VT codes and shift home/end scrolls.'],keybindings:[hterm.PreferenceManager.categories.Keyboard,null,'value','A map of key sequence to key actions.  Key sequences include zero or more modifier keys followed by a key code.  Key codes can be decimal or hexadecimal numbers, or a key identifier.  Key actions can be specified a string to send to the host, or an action identifier.  For a full explanation of the format, see https://goo.gl/LWRndr.\n\nSample keybindings:\n{\n  "Ctrl-Alt-K": "clearScrollback",\n  "Ctrl-Shift-L": "PASS",\n  "Ctrl-H": "\'HELLO\\n\'"\n}'],'max-string-sequence':[hterm.PreferenceManager.categories.Encoding,1e5,'int','Max length of a DCS, OSC, PM, or APS sequence before we give up and ignore the code.'],'media-keys-are-fkeys':[hterm.PreferenceManager.categories.Keyboard,!1,'bool','If true, convert media keys to their Fkey equivalent. If false, let the browser handle the keys.'],'meta-sends-escape':[hterm.PreferenceManager.categories.Keyboard,!0,'bool','Set whether the meta key sends a leading escape or not.'],'mouse-right-click-paste':[hterm.PreferenceManager.categories.CopyPaste,!0,'bool','Paste on right mouse button clicks.\n\nThis option is activate independent of the "mouse-paste-button" setting.\n\nNote: This will handle left & right handed mice correctly.'],'mouse-paste-button':[hterm.PreferenceManager.categories.CopyPaste,null,[null,0,1,2,3,4,5,6],'Mouse paste button, or null to autodetect.\n\nFor autodetect, we\'ll use the middle mouse button for non-X11 platforms (including Chrome OS).  On X11, we\'ll use the right mouse button (since the native window manager should paste via the middle mouse button).\n\n0 == left (primary) button.\n1 == middle (auxiliary) button.\n2 == right (secondary) button.\n\nThis option is activate independent of the "mouse-right-click-paste" setting.\n\nNote: This will handle left & right handed mice correctly.'],'word-break-match-left':[hterm.PreferenceManager.categories.CopyPaste,'[^\\s\\[\\](){}<>"\'\\^!@#$%&*,;:`]','string','Regular expression to halt matching to the left (start) of a selection.\n\nNormally this is a character class to reject specific characters.\nWe allow "~" and "." by default as paths frequently start with those.'],'word-break-match-right':[hterm.PreferenceManager.categories.CopyPaste,'[^\\s\\[\\](){}<>"\'\\^!@#$%&*,;:~.`]','string','Regular expression to halt matching to the right (end) of a selection.\n\nNormally this is a character class to reject specific characters.'],'word-break-match-middle':[hterm.PreferenceManager.categories.CopyPaste,'[^\\s\\[\\](){}<>"\'\\^]*','string','Regular expression to match all the characters in the middle.\n\nNormally this is a character class to reject specific characters.\n\nUsed to expand the selection surrounding the starting point.'],'page-keys-scroll':[hterm.PreferenceManager.categories.Keyboard,!1,'bool','If true, page up/down will control the terminal scrollbar and shift page up/down will send the VT keycodes.  If false then page up/down sends VT codes and shift page up/down scrolls.'],'pass-alt-number':[hterm.PreferenceManager.categories.Keyboard,null,'tristate','Set whether we should pass Alt-1..9 to the browser.\n\nThis is handy when running hterm in a browser tab, so that you don\'t lose Chrome\'s "switch to tab" keyboard accelerators.  When not running in a tab it\'s better to send these keys to the host so they can be used in vim or emacs.\n\nIf true, Alt-1..9 will be handled by the browser.  If false, Alt-1..9 will be sent to the host.  If null, autodetect based on browser platform and window type.'],'pass-ctrl-number':[hterm.PreferenceManager.categories.Keyboard,null,'tristate','Set whether we should pass Ctrl-1..9 to the browser.\n\nThis is handy when running hterm in a browser tab, so that you don\'t lose Chrome\'s "switch to tab" keyboard accelerators.  When not running in a tab it\'s better to send these keys to the host so they can be used in vim or emacs.\n\nIf true, Ctrl-1..9 will be handled by the browser.  If false, Ctrl-1..9 will be sent to the host.  If null, autodetect based on browser platform and window type.'],'pass-meta-number':[hterm.PreferenceManager.categories.Keyboard,null,'tristate','Set whether we should pass Meta-1..9 to the browser.\n\nThis is handy when running hterm in a browser tab, so that you don\'t lose Chrome\'s "switch to tab" keyboard accelerators.  When not running in a tab it\'s better to send these keys to the host so they can be used in vim or emacs.\n\nIf true, Meta-1..9 will be handled by the browser.  If false, Meta-1..9 will be sent to the host.  If null, autodetect based on browser platform and window type.'],'pass-meta-v':[hterm.PreferenceManager.categories.Keyboard,!0,'bool','Set whether meta-V gets passed to host.'],'receive-encoding':[hterm.PreferenceManager.categories.Encoding,'utf-8',['utf-8','raw'],'Set the expected encoding for data received from the host.\n\nValid values are \'utf-8\' and \'raw\'.'],'scroll-on-keystroke':[hterm.PreferenceManager.categories.Scrolling,!0,'bool','If true, scroll to the bottom on any keystroke.'],'scroll-on-output':[hterm.PreferenceManager.categories.Scrolling,!1,'bool','If true, scroll to the bottom on terminal output.'],'scrollbar-visible':[hterm.PreferenceManager.categories.Scrolling,!0,'bool','The vertical scrollbar mode.'],'scroll-wheel-may-send-arrow-keys':[hterm.PreferenceManager.categories.Scrolling,!1,'bool','When using the alternative screen buffer, and DECCKM (Application Cursor Keys) is active, mouse wheel scroll events will emulate arrow keys.\n\nIt can be temporarily disabled by holding the shift key.\n\nThis frequently comes up when using pagers (less) or reading man pages or text editors (vi/nano) or using screen/tmux.'],'scroll-wheel-move-multiplier':[hterm.PreferenceManager.categories.Scrolling,1,'int','The multiplier for the pixel delta in wheel events caused by the scroll wheel. Alters how fast the page scrolls.'],'send-encoding':[hterm.PreferenceManager.categories.Encoding,'utf-8',['utf-8','raw'],'Set the encoding for data sent to host.'],'terminal-encoding':[hterm.PreferenceManager.categories.Encoding,'iso-2022',['iso-2022','utf-8','utf-8-locked'],'The default terminal encoding (DOCS).\n\nISO-2022 enables character map translations (like graphics maps).\nUTF-8 disables support for those.\n\nThe locked variant means the encoding cannot be changed at runtime via terminal escape sequences.\n\nYou should stick with UTF-8 unless you notice broken rendering with legacy applications.'],'shift-insert-paste':[hterm.PreferenceManager.categories.Keyboard,!0,'bool','Shift + Insert pastes if true, sent to host if false.'],'user-css':[hterm.PreferenceManager.categories.Appearance,'','url','URL of user stylesheet to include in the terminal document.'],'user-css-text':[hterm.PreferenceManager.categories.Appearance,'','multiline-string','Custom CSS text for styling the terminal.']},hterm.PreferenceManager.prototype=Object.create(lib.PreferenceManager.prototype),hterm.PreferenceManager.constructor=hterm.PreferenceManager,'use strict',hterm.PubSub=function(){this.observers_={}},hterm.PubSub.addBehavior=function(s){var l=new hterm.PubSub;for(var u in hterm.PubSub.prototype)s[u]=hterm.PubSub.prototype[u].bind(l)},hterm.PubSub.prototype.subscribe=function(s,l){s in this.observers_||(this.observers_[s]=[]),this.observers_[s].push(l)},hterm.PubSub.prototype.unsubscribe=function(s,l){var u=this.observers_[s];if(!u)throw'Invalid subject: '+s;var A=u.indexOf(l);if(0>A)throw'Not subscribed: '+s;u.splice(A,1)},hterm.PubSub.prototype.publish=function(s,l,u){function A(S){S<C.length-1&&setTimeout(A,0,S+1),C[S](l)}var C=this.observers_[s];C&&(C=[].concat(C)),u&&(C?C.push(u):C=[u]),C&&setTimeout(A,0,0)},'use strict',lib.rtdep('lib.f','lib.wc','hterm.RowCol','hterm.Size','hterm.TextAttributes'),hterm.Screen=function(s){this.rowsArray=[],this.columnCount_=s||80,this.textAttributes=new hterm.TextAttributes(window.document),this.cursorPosition=new hterm.RowCol(0,0),this.cursorRowNode_=null,this.cursorNode_=null,this.cursorOffset_=null,this.wordBreakMatchLeft=null,this.wordBreakMatchRight=null,this.wordBreakMatchMiddle=null},hterm.Screen.prototype.getSize=function(){return new hterm.Size(this.columnCount_,this.rowsArray.length)},hterm.Screen.prototype.getHeight=function(){return this.rowsArray.length},hterm.Screen.prototype.getWidth=function(){return this.columnCount_},hterm.Screen.prototype.setColumnCount=function(s){this.columnCount_=s,this.cursorPosition.column>=s&&this.setCursorPosition(this.cursorPosition.row,s-1)},hterm.Screen.prototype.shiftRow=function(){return this.shiftRows(1)[0]},hterm.Screen.prototype.shiftRows=function(s){return this.rowsArray.splice(0,s)},hterm.Screen.prototype.unshiftRow=function(s){this.rowsArray.splice(0,0,s)},hterm.Screen.prototype.unshiftRows=function(s){this.rowsArray.unshift.apply(this.rowsArray,s)},hterm.Screen.prototype.popRow=function(){return this.popRows(1)[0]},hterm.Screen.prototype.popRows=function(s){return this.rowsArray.splice(this.rowsArray.length-s,s)},hterm.Screen.prototype.pushRow=function(s){this.rowsArray.push(s)},hterm.Screen.prototype.pushRows=function(s){s.push.apply(this.rowsArray,s)},hterm.Screen.prototype.insertRow=function(s,l){this.rowsArray.splice(s,0,l)},hterm.Screen.prototype.insertRows=function(s,l){for(var u=0;u<l.length;u++)this.rowsArray.splice(s+u,0,l[u])},hterm.Screen.prototype.removeRow=function(s){return this.rowsArray.splice(s,1)[0]},hterm.Screen.prototype.removeRows=function(s,l){return this.rowsArray.splice(s,l)},hterm.Screen.prototype.invalidateCursorPosition=function(){this.cursorPosition.move(0,0),this.cursorRowNode_=null,this.cursorNode_=null,this.cursorOffset_=null},hterm.Screen.prototype.clearCursorRow=function(){this.cursorRowNode_.innerHTML='',this.cursorRowNode_.removeAttribute('line-overflow'),this.cursorOffset_=0,this.cursorPosition.column=0,this.cursorPosition.overflow=!1;var s=this.textAttributes.isDefault()?'':lib.f.getWhitespace(this.columnCount_);var l=this.textAttributes.inverse;this.textAttributes.inverse=!1,this.textAttributes.syncColors();var u=this.textAttributes.createContainer(s);this.cursorRowNode_.appendChild(u),this.cursorNode_=u,this.textAttributes.inverse=l,this.textAttributes.syncColors()},hterm.Screen.prototype.commitLineOverflow=function(){this.cursorRowNode_.setAttribute('line-overflow',!0)},hterm.Screen.prototype.setCursorPosition=function(s,l){if(!this.rowsArray.length)return void console.warn('Attempt to set cursor position on empty screen.');s>=this.rowsArray.length?(console.error('Row out of bounds: '+s),s=this.rowsArray.length-1):0>s&&(console.error('Row out of bounds: '+s),s=0),l>=this.columnCount_?(console.error('Column out of bounds: '+l),l=this.columnCount_-1):0>l&&(console.error('Column out of bounds: '+l),l=0),this.cursorPosition.overflow=!1;var u=this.rowsArray[s],A=u.firstChild;A||(A=u.ownerDocument.createTextNode(''),u.appendChild(A));var C=0;for(u==this.cursorRowNode_?l>=this.cursorPosition.column-this.cursorOffset_&&(A=this.cursorNode_,C=this.cursorPosition.column-this.cursorOffset_):this.cursorRowNode_=u,this.cursorPosition.move(s,l);A;){var S=l-C,_=hterm.TextAttributes.nodeWidth(A);if(!A.nextSibling||_>S)return this.cursorNode_=A,void(this.cursorOffset_=S);C+=_,A=A.nextSibling}},hterm.Screen.prototype.syncSelectionCaret=function(s){try{s.collapse(this.cursorNode_,this.cursorOffset_)}catch(l){}},hterm.Screen.prototype.splitNode_=function(s,l){var u=s.cloneNode(!1),A=s.textContent;s.textContent=hterm.TextAttributes.nodeSubstr(s,0,l),u.textContent=lib.wc.substr(A,l),u.textContent&&s.parentNode.insertBefore(u,s.nextSibling),s.textContent||s.parentNode.removeChild(s)},hterm.Screen.prototype.maybeClipCurrentRow=function(){var s=hterm.TextAttributes.nodeWidth(this.cursorRowNode_);if(s<=this.columnCount_)return void(this.cursorPosition.column>=this.columnCount_&&(this.setCursorPosition(this.cursorPosition.row,this.columnCount_-1),this.cursorPosition.overflow=!0));var l=this.cursorPosition.column;this.setCursorPosition(this.cursorPosition.row,this.columnCount_-1),s=hterm.TextAttributes.nodeWidth(this.cursorNode_),this.cursorOffset_<s-1&&(this.cursorNode_.textContent=hterm.TextAttributes.nodeSubstr(this.cursorNode_,0,this.cursorOffset_+1));for(var u=this.cursorRowNode_,A=this.cursorNode_.nextSibling;A;)u.removeChild(A),A=this.cursorNode_.nextSibling;l<this.columnCount_?this.setCursorPosition(this.cursorPosition.row,l):this.cursorPosition.overflow=!0},hterm.Screen.prototype.insertString=function(s,l=void 0){var u=this.cursorNode_,A=u.textContent;this.cursorRowNode_.removeAttribute('line-overflow'),l===void 0&&(l=lib.wc.strWidth(s)),this.cursorPosition.column+=l;var C=this.cursorOffset_,S=hterm.TextAttributes.nodeWidth(u)-C;if(0>S){var _=lib.f.getWhitespace(-S);if(!(this.textAttributes.underline||this.textAttributes.strikethrough||this.textAttributes.background||this.textAttributes.wcNode||!this.textAttributes.asciiNode||null!=this.textAttributes.tileData))s=_+s;else if(u.nodeType==Node.TEXT_NODE||!(u.wcNode||!u.asciiNode||u.tileNode||u.style.textDecoration||u.style.backgroundColor))u.textContent=A+=_;else{var T=u.ownerDocument.createTextNode(_);this.cursorRowNode_.insertBefore(T,u.nextSibling),this.cursorNode_=u=T,this.cursorOffset_=C=-S,A=_}S=0}if(this.textAttributes.matchesContainer(u))return u.textContent=0==S?A+s:0==C?s+A:hterm.TextAttributes.nodeSubstr(u,0,C)+s+hterm.TextAttributes.nodeSubstr(u,C),void(this.cursorOffset_+=l);if(0==C){var F=u.previousSibling;if(F&&this.textAttributes.matchesContainer(F))return F.textContent+=s,this.cursorNode_=F,void(this.cursorOffset_=lib.wc.strWidth(F.textContent));var V=this.textAttributes.createContainer(s);return this.cursorRowNode_.insertBefore(V,u),this.cursorNode_=V,void(this.cursorOffset_=l)}if(0==S){var P=u.nextSibling;if(P&&this.textAttributes.matchesContainer(P))return P.textContent=s+P.textContent,this.cursorNode_=P,void(this.cursorOffset_=lib.wc.strWidth(s));var V=this.textAttributes.createContainer(s);return this.cursorRowNode_.insertBefore(V,P),this.cursorNode_=V,void(this.cursorOffset_=hterm.TextAttributes.nodeWidth(V))}this.splitNode_(u,C);var V=this.textAttributes.createContainer(s);this.cursorRowNode_.insertBefore(V,u.nextSibling),this.cursorNode_=V,this.cursorOffset_=l},hterm.Screen.prototype.overwriteString=function(s,l=void 0){var u=this.columnCount_-this.cursorPosition.column;return u?(void 0===l&&(l=lib.wc.strWidth(s)),this.textAttributes.matchesContainer(this.cursorNode_)&&this.cursorNode_.textContent.substr(this.cursorOffset_)==s?(this.cursorOffset_+=l,void(this.cursorPosition.column+=l)):void(this.deleteChars(Math.min(l,u)),this.insertString(s,l))):[s]},hterm.Screen.prototype.deleteChars=function(s){var l=this.cursorNode_,u=this.cursorOffset_,A=this.cursorPosition.column;if(s=Math.min(s,this.columnCount_-A),!s)return 0;for(var C=s,S,_;l&&s;){if(0>s){console.error(`Deleting ${C} chars went negative: ${s}`);break}if(S=hterm.TextAttributes.nodeWidth(l),l.textContent=hterm.TextAttributes.nodeSubstr(l,0,u)+hterm.TextAttributes.nodeSubstr(l,u+s),_=hterm.TextAttributes.nodeWidth(l),l.wcNode&&u<S&&(_&&S==_||!_&&1==u)){var T=this.textAttributes.createContainer(' ');l.parentNode.insertBefore(T,u?l:l.nextSibling),l.textContent='',_=0,s-=1}else s-=S-_;var F=l.nextSibling;0==_&&l!=this.cursorNode_&&l.parentNode.removeChild(l),l=F,u=0}if(this.cursorNode_.nodeType!=Node.TEXT_NODE&&!this.cursorNode_.textContent){var V=this.cursorNode_;if(V.previousSibling)this.cursorNode_=V.previousSibling,this.cursorOffset_=hterm.TextAttributes.nodeWidth(V.previousSibling);else if(V.nextSibling)this.cursorNode_=V.nextSibling,this.cursorOffset_=0;else{var P=this.cursorRowNode_.ownerDocument.createTextNode('');this.cursorRowNode_.appendChild(P),this.cursorNode_=P,this.cursorOffset_=0}this.cursorRowNode_.removeChild(V)}return C},hterm.Screen.prototype.getLineStartRow_=function(s){for(;s.previousSibling&&s.previousSibling.hasAttribute('line-overflow');)s=s.previousSibling;return s},hterm.Screen.prototype.getLineText_=function(s){for(var l='';s&&(l+=s.textContent,s.hasAttribute('line-overflow'));)s=s.nextSibling;return l},hterm.Screen.prototype.getXRowAncestor_=function(s){for(;s&&!('X-ROW'===s.nodeName);)s=s.parentNode;return s},hterm.Screen.prototype.getPositionWithOverflow_=function(s,l,u){if(!l)return-1;var A=this.getXRowAncestor_(l);if(!A)return-1;for(var C=0;A!=s;)if(C+=hterm.TextAttributes.nodeWidth(s),s.hasAttribute('line-overflow')&&s.nextSibling)s=s.nextSibling;else return-1;return C+this.getPositionWithinRow_(s,l,u)},hterm.Screen.prototype.getPositionWithinRow_=function(s,l,u){if(l.parentNode!=s)return null==l.parentNode?-1:this.getPositionWithinRow_(l.parentNode,l,u)+this.getPositionWithinRow_(s,l.parentNode,0);for(var A=0,C=0,S;C<s.childNodes.length;C++){if(S=s.childNodes[C],S==l)return A+u;A+=hterm.TextAttributes.nodeWidth(S)}return-1},hterm.Screen.prototype.getNodeAndOffsetWithOverflow_=function(s,l){for(;s&&l>hterm.TextAttributes.nodeWidth(s);)if(s.hasAttribute('line-overflow')&&s.nextSibling)l-=hterm.TextAttributes.nodeWidth(s),s=s.nextSibling;else return-1;return this.getNodeAndOffsetWithinRow_(s,l)},hterm.Screen.prototype.getNodeAndOffsetWithinRow_=function(s,l){for(var u=0;u<s.childNodes.length;u++){var A=s.childNodes[u],C=hterm.TextAttributes.nodeWidth(A);if(l<=C)return'SPAN'===A.nodeName?this.getNodeAndOffsetWithinRow_(A,l):[A,l];l-=C}return null},hterm.Screen.prototype.setRange_=function(s,l,u,A){var C=this.getNodeAndOffsetWithOverflow_(s,l);if(null!=C){var S=this.getNodeAndOffsetWithOverflow_(s,u);null==S||(A.setStart(C[0],C[1]),A.setEnd(S[0],S[1]))}},hterm.Screen.prototype.expandSelection=function(s){if(s){var l=s.getRangeAt(0);if(l&&!l.toString().match(/\s/)){var u=this.getLineStartRow_(this.getXRowAncestor_(l.startContainer));if(u){var A=this.getPositionWithOverflow_(u,l.startContainer,l.startOffset);if(-1!=A){var C=this.getPositionWithOverflow_(u,l.endContainer,l.endOffset);if(-1!=C){var S=this.wordBreakMatchLeft,_=this.wordBreakMatchRight,T=this.wordBreakMatchMiddle,F=this.getLineText_(u),V=lib.wc.substring(F,0,C),P=new RegExp(S+T+'$'),R=V.search(P);if(!(-1==R||R>A)){var E=lib.wc.substring(F,A,lib.wc.strWidth(F)),M=new RegExp('^'+T+_),I=E.match(M);if(I){var B=A+lib.wc.strWidth(I[0]);-1==B||B<C||(this.setRange_(u,R,B,l),s.addRange(l))}}}}}}}},'use strict',lib.rtdep('lib.f','hterm.PubSub','hterm.Size'),hterm.ScrollPort=function(s){hterm.PubSub.addBehavior(this),this.rowProvider_=s,this.characterSize=new hterm.Size(10,10),this.ruler_=null,this.selection=new hterm.ScrollPort.Selection(this),this.currentRowNodeCache_=null,this.previousRowNodeCache_={},this.lastScreenWidth_=null,this.lastScreenHeight_=null,this.selectionEnabled_=!0,this.lastRowCount_=0,this.scrollWheelMultiplier_=1,this.lastTouch_={},this.isScrolledEnd=!0,this.currentScrollbarWidthPx=16,this.ctrlVPaste=!1,this.div_=null,this.document_=null,this.timeouts_={},this.observers_={},this.DEBUG_=!1},hterm.ScrollPort.Selection=function(s){this.scrollPort_=s,this.startRow=null,this.endRow=null,this.isMultiline=null,this.isCollapsed=null},hterm.ScrollPort.Selection.prototype.findFirstChild=function(s,l){for(var u=s.firstChild;u;){if(-1!=l.indexOf(u))return u;if(u.childNodes.length){var A=this.findFirstChild(u,l);if(A)return A}u=u.nextSibling}return null},hterm.ScrollPort.Selection.prototype.sync=function(){function s(){u.startRow=C,u.startNode=A.anchorNode,u.startOffset=A.anchorOffset,u.endRow=S,u.endNode=A.focusNode,u.endOffset=A.focusOffset}function l(){u.startRow=S,u.startNode=A.focusNode,u.startOffset=A.focusOffset,u.endRow=C,u.endNode=A.anchorNode,u.endOffset=A.anchorOffset}var u=this,A=this.scrollPort_.getDocument().getSelection();if(this.startRow=null,this.endRow=null,this.isMultiline=null,this.isCollapsed=!A||A.isCollapsed,!this.isCollapsed){for(var C=A.anchorNode;C&&!('rowIndex'in C);)C=C.parentNode;if(!C)return void console.error('Selection anchor is not rooted in a row node: '+A.anchorNode.nodeName);for(var S=A.focusNode;S&&!('rowIndex'in S);)S=S.parentNode;if(!S)return void console.error('Selection focus is not rooted in a row node: '+A.focusNode.nodeName);if(C.rowIndex<S.rowIndex)s();else if(C.rowIndex>S.rowIndex)l();else if(A.focusNode==A.anchorNode)A.anchorOffset<A.focusOffset?s():l();else{var _=this.findFirstChild(C,[A.anchorNode,A.focusNode]);if(!_)throw new Error('Unexpected error syncing selection.');_==A.anchorNode?s():l()}this.isMultiline=C.rowIndex!=S.rowIndex}},hterm.ScrollPort.prototype.decorate=function(s){this.div_=s,this.iframe_=s.ownerDocument.createElement('iframe'),this.iframe_.style.cssText='border: 0;height: 100%;position: absolute;width: 100%','mozInnerScreenX'in window&&(this.iframe_.src='#'),s.appendChild(this.iframe_),this.iframe_.contentWindow.addEventListener('resize',this.onResize_.bind(this));var l=this.document_=this.iframe_.contentDocument;l.body.style.cssText='margin: 0px;padding: 0px;height: 100%;width: 100%;overflow: hidden;cursor: var(--hterm-mouse-cursor-style);-webkit-user-select: none;-moz-user-select: none;',this.DEBUG_&&(this.document_.body.style.paddingTop=this.document_.body.style.paddingBottom='calc(var(--hterm-charsize-height) * 3)');var u=l.createElement('style');u.textContent='x-row {  display: block;  height: var(--hterm-charsize-height);  line-height: var(--hterm-charsize-height);}',l.head.appendChild(u),this.userCssLink_=l.createElement('link'),this.userCssLink_.setAttribute('rel','stylesheet'),this.userCssText_=l.createElement('style'),l.head.appendChild(this.userCssText_),this.screen_=l.createElement('x-screen'),this.screen_.setAttribute('contenteditable','true'),this.screen_.setAttribute('spellcheck','false'),this.screen_.setAttribute('autocomplete','off'),this.screen_.setAttribute('autocorrect','off'),this.screen_.setAttribute('autocaptalize','none'),this.screen_.setAttribute('role','textbox'),this.screen_.setAttribute('tabindex','-1'),this.screen_.style.cssText='caret-color: transparent;display: block;font-family: monospace;font-size: 15px;font-variant-ligatures: none;height: 100%;overflow-y: scroll; overflow-x: hidden;white-space: pre;width: 100%;outline: none !important',l.body.appendChild(this.screen_),this.screen_.addEventListener('scroll',this.onScroll_.bind(this)),this.screen_.addEventListener('wheel',this.onScrollWheel_.bind(this)),this.screen_.addEventListener('touchstart',this.onTouch_.bind(this)),this.screen_.addEventListener('touchmove',this.onTouch_.bind(this)),this.screen_.addEventListener('touchend',this.onTouch_.bind(this)),this.screen_.addEventListener('touchcancel',this.onTouch_.bind(this)),this.screen_.addEventListener('copy',this.onCopy_.bind(this)),this.screen_.addEventListener('paste',this.onPaste_.bind(this)),this.screen_.addEventListener('drop',this.onDragAndDrop_.bind(this)),l.body.addEventListener('keydown',this.onBodyKeyDown_.bind(this)),this.rowNodes_=l.createElement('div'),this.rowNodes_.id='hterm:row-nodes',this.rowNodes_.style.cssText='display: block;position: fixed;overflow: hidden;-webkit-user-select: text;-moz-user-select: text;',this.screen_.appendChild(this.rowNodes_),this.topSelectBag_=l.createElement('x-select-bag'),this.topSelectBag_.style.cssText='display: block;overflow: hidden;height: var(--hterm-charsize-height);white-space: pre;',this.bottomSelectBag_=this.topSelectBag_.cloneNode(),this.topFold_=l.createElement('x-fold'),this.topFold_.id='hterm:top-fold-for-row-selection',this.topFold_.style.cssText='display: block;',this.rowNodes_.appendChild(this.topFold_),this.bottomFold_=this.topFold_.cloneNode(),this.bottomFold_.id='hterm:bottom-fold-for-row-selection',this.rowNodes_.appendChild(this.bottomFold_),this.scrollArea_=l.createElement('div'),this.scrollArea_.id='hterm:scrollarea',this.scrollArea_.style.cssText='visibility: hidden',this.screen_.appendChild(this.scrollArea_);var A='http://www.w3.org/2000/svg';this.svg_=this.div_.ownerDocument.createElementNS(A,'svg'),this.svg_.id='hterm:zoom-detector',this.svg_.setAttribute('xmlns',A),this.svg_.setAttribute('version','1.1'),this.svg_.style.cssText='position: absolute;top: 0;left: 0;visibility: hidden',this.pasteTarget_=l.createElement('textarea'),this.pasteTarget_.id='hterm:ctrl-v-paste-target',this.pasteTarget_.setAttribute('tabindex','-1'),this.pasteTarget_.style.cssText='position: absolute;height: 1px;width: 1px;left: 0px; bottom: 0px;opacity: 0',this.pasteTarget_.contentEditable=!0,this.screen_.appendChild(this.pasteTarget_),this.pasteTarget_.addEventListener('textInput',this.handlePasteTargetTextInput_.bind(this)),this.resize()},hterm.ScrollPort.prototype.setFontFamily=function(s,l){this.screen_.style.fontFamily=s,this.screen_.style.webkitFontSmoothing=l?l:'',this.syncCharacterSize()},hterm.ScrollPort.prototype.getFontFamily=function(){return this.screen_.style.fontFamily},hterm.ScrollPort.prototype.setUserCssUrl=function(s){s?(this.userCssLink_.setAttribute('href',s),!this.userCssLink_.parentNode&&this.document_.head.appendChild(this.userCssLink_)):this.userCssLink_.parentNode&&this.document_.head.removeChild(this.userCssLink_)},hterm.ScrollPort.prototype.setUserCssText=function(s){this.userCssText_.textContent=s},hterm.ScrollPort.prototype.focus=function(){this.iframe_.focus(),this.screen_.focus()},hterm.ScrollPort.prototype.getForegroundColor=function(){return this.screen_.style.color},hterm.ScrollPort.prototype.setForegroundColor=function(s){this.screen_.style.color=s},hterm.ScrollPort.prototype.getBackgroundColor=function(){return this.screen_.style.backgroundColor},hterm.ScrollPort.prototype.setBackgroundColor=function(s){this.screen_.style.backgroundColor=s},hterm.ScrollPort.prototype.setBackgroundImage=function(s){this.screen_.style.backgroundImage=s},hterm.ScrollPort.prototype.setBackgroundSize=function(s){this.screen_.style.backgroundSize=s},hterm.ScrollPort.prototype.setBackgroundPosition=function(s){this.screen_.style.backgroundPosition=s},hterm.ScrollPort.prototype.setCtrlVPaste=function(s){this.ctrlVPaste=s},hterm.ScrollPort.prototype.getScreenSize=function(){var s=hterm.getClientSize(this.screen_);return{height:s.height,width:s.width-this.currentScrollbarWidthPx}},hterm.ScrollPort.prototype.getScreenWidth=function(){return this.getScreenSize().width},hterm.ScrollPort.prototype.getScreenHeight=function(){return this.getScreenSize().height},hterm.ScrollPort.prototype.getDocument=function(){return this.document_},hterm.ScrollPort.prototype.getScreenNode=function(){return this.screen_},hterm.ScrollPort.prototype.resetCache=function(){this.currentRowNodeCache_=null,this.previousRowNodeCache_={}},hterm.ScrollPort.prototype.setRowProvider=function(s){this.resetCache(),this.rowProvider_=s,this.scheduleRedraw()},hterm.ScrollPort.prototype.invalidate=function(){for(var s=this.topFold_.nextSibling,l;s!=this.bottomFold_;)l=s.nextSibling,s.parentElement.removeChild(s),s=l;this.previousRowNodeCache_=null;var u=this.getTopRowIndex(),A=this.getBottomRowIndex(u);this.drawVisibleRows_(u,A)},hterm.ScrollPort.prototype.scheduleInvalidate=function(){if(!this.timeouts_.invalidate){var s=this;this.timeouts_.invalidate=setTimeout(function(){delete s.timeouts_.invalidate,s.invalidate()},0)}},hterm.ScrollPort.prototype.setFontSize=function(s){this.screen_.style.fontSize=s+'px',this.syncCharacterSize()},hterm.ScrollPort.prototype.getFontSize=function(){return parseInt(this.screen_.style.fontSize)},hterm.ScrollPort.prototype.measureCharacterSize=function(s){var l=100,u=100;this.ruler_||(this.ruler_=this.document_.createElement('div'),this.ruler_.id='hterm:ruler-character-size',this.ruler_.style.cssText='position: absolute;top: 0;left: 0;visibility: hidden;height: auto !important;width: auto !important;',this.rulerSpan_=this.document_.createElement('span'),this.rulerSpan_.id='hterm:ruler-span-workaround',this.rulerSpan_.innerHTML=('X'.repeat(u)+'\r').repeat(l),this.ruler_.appendChild(this.rulerSpan_),this.rulerBaseline_=this.document_.createElement('span'),this.rulerSpan_.id='hterm:ruler-baseline',this.rulerBaseline_.style.fontSize='0px',this.rulerBaseline_.textContent='X'),this.rulerSpan_.style.fontWeight=s||'',this.rowNodes_.appendChild(this.ruler_);var A=hterm.getClientSize(this.rulerSpan_),C=new hterm.Size(A.width/u,A.height/l);return this.ruler_.appendChild(this.rulerBaseline_),C.baseline=this.rulerBaseline_.offsetTop,this.ruler_.removeChild(this.rulerBaseline_),this.rowNodes_.removeChild(this.ruler_),this.div_.ownerDocument.body.appendChild(this.svg_),C.zoomFactor=this.svg_.currentScale,this.div_.ownerDocument.body.removeChild(this.svg_),C},hterm.ScrollPort.prototype.syncCharacterSize=function(){this.characterSize=this.measureCharacterSize(),this.resize()},hterm.ScrollPort.prototype.resize=function(){this.currentScrollbarWidthPx=hterm.getClientWidth(this.screen_)-this.screen_.clientWidth,this.syncScrollHeight(),this.syncRowNodesDimensions_();var s=this;this.publish('resize',{scrollPort:this},function(){s.scrollRowToBottom(s.rowProvider_.getRowCount()),s.scheduleRedraw()})},hterm.ScrollPort.prototype.syncRowNodesDimensions_=function(){var s=this.getScreenSize();this.lastScreenWidth_=s.width,this.lastScreenHeight_=s.height,this.visibleRowCount=lib.f.smartFloorDivide(s.height,this.characterSize.height);var l=this.visibleRowCount*this.characterSize.height;this.visibleRowTopMargin=0,this.visibleRowBottomMargin=s.height-l,this.topFold_.style.marginBottom=this.visibleRowTopMargin+'px';for(var u=0,A=this.topFold_.previousSibling;A;)u+=hterm.getClientHeight(A),A=A.previousSibling;this.rowNodes_.style.width=s.width+'px',this.rowNodes_.style.height=l+u+'px',this.rowNodes_.style.left=this.screen_.offsetLeft+'px',this.rowNodes_.style.top=this.screen_.offsetTop-u+'px'},hterm.ScrollPort.prototype.syncScrollHeight=function(){this.lastRowCount_=this.rowProvider_.getRowCount(),this.scrollArea_.style.height=this.characterSize.height*this.lastRowCount_+this.visibleRowTopMargin+this.visibleRowBottomMargin+'px'},hterm.ScrollPort.prototype.scheduleRedraw=function(){if(!this.timeouts_.redraw){var s=this;this.timeouts_.redraw=setTimeout(function(){delete s.timeouts_.redraw,s.redraw_()},0)}},hterm.ScrollPort.prototype.redraw_=function(){this.resetSelectBags_(),this.selection.sync(),this.syncScrollHeight(),this.currentRowNodeCache_={};var s=this.getTopRowIndex(),l=this.getBottomRowIndex(s);this.drawTopFold_(s),this.drawBottomFold_(l),this.drawVisibleRows_(s,l),this.syncRowNodesDimensions_(),this.previousRowNodeCache_=this.currentRowNodeCache_,this.currentRowNodeCache_=null,this.isScrolledEnd=this.getTopRowIndex()+this.visibleRowCount>=this.lastRowCount_},hterm.ScrollPort.prototype.drawTopFold_=function(s){if(!this.selection.startRow||this.selection.startRow.rowIndex>=s)return void(this.rowNodes_.firstChild!=this.topFold_&&this.rowNodes_.insertBefore(this.topFold_,this.rowNodes_.firstChild));if(!this.selection.isMultiline||this.selection.endRow.rowIndex>=s)this.selection.startRow.nextSibling!=this.topFold_&&this.rowNodes_.insertBefore(this.topFold_,this.selection.startRow.nextSibling);else for(this.selection.endRow.nextSibling!=this.topFold_&&this.rowNodes_.insertBefore(this.topFold_,this.selection.endRow.nextSibling);this.selection.startRow.nextSibling!=this.selection.endRow;)this.rowNodes_.removeChild(this.selection.startRow.nextSibling);for(;this.rowNodes_.firstChild!=this.selection.startRow;)this.rowNodes_.removeChild(this.rowNodes_.firstChild)},hterm.ScrollPort.prototype.drawBottomFold_=function(s){if(!this.selection.endRow||this.selection.endRow.rowIndex<=s)return void(this.rowNodes_.lastChild!=this.bottomFold_&&this.rowNodes_.appendChild(this.bottomFold_));if(!this.selection.isMultiline||this.selection.startRow.rowIndex<=s)this.bottomFold_.nextSibling!=this.selection.endRow&&this.rowNodes_.insertBefore(this.bottomFold_,this.selection.endRow);else for(this.bottomFold_.nextSibling!=this.selection.startRow&&this.rowNodes_.insertBefore(this.bottomFold_,this.selection.startRow);this.selection.startRow.nextSibling!=this.selection.endRow;)this.rowNodes_.removeChild(this.selection.startRow.nextSibling);for(;this.rowNodes_.lastChild!=this.selection.endRow;)this.rowNodes_.removeChild(this.rowNodes_.lastChild)},hterm.ScrollPort.prototype.drawVisibleRows_=function(s){function u(E,M){for(;E!=M;){if(!E)throw'Did not encounter target node';if(E==A.bottomFold_)throw'Encountered bottom fold before target node';var I=E;E=E.nextSibling,I.parentNode.removeChild(I)}}for(var A=this,C=this.selection.startRow,S=this.selection.endRow,_=this.bottomFold_,T=this.topFold_.nextSibling,F=Math.min(this.visibleRowCount,this.rowProvider_.getRowCount()),V=0,P;V<F;V++){if(P=s+V,T==_){var R=this.fetchRowNode_(P);if(!R){console.log('Couldn\'t fetch row index: '+P);break}this.rowNodes_.insertBefore(R,T);continue}if(T.rowIndex==P){T=T.nextSibling;continue}if(C&&C.rowIndex==P){u(T,C),T=C.nextSibling;continue}if(S&&S.rowIndex==P){u(T,S),T=S.nextSibling;continue}if(T==C||T==S){var R=this.fetchRowNode_(P);if(!R){console.log('Couldn\'t fetch row index: '+P);break}this.rowNodes_.insertBefore(R,T);continue}var R=this.fetchRowNode_(P);if(!R){console.log('Couldn\'t fetch row index: '+P);break}if(T==R){T=T.nextSibling;continue}if(this.rowNodes_.insertBefore(R,T),!R.nextSibling)debugger;this.rowNodes_.removeChild(T),T=R.nextSibling}T!=this.bottomFold_&&u(T,_)},hterm.ScrollPort.prototype.resetSelectBags_=function(){this.topSelectBag_.parentNode&&(this.topSelectBag_.textContent='',this.topSelectBag_.parentNode.removeChild(this.topSelectBag_)),this.bottomSelectBag_.parentNode&&(this.bottomSelectBag_.textContent='',this.bottomSelectBag_.parentNode.removeChild(this.bottomSelectBag_))},hterm.ScrollPort.prototype.cacheRowNode_=function(s){this.currentRowNodeCache_[s.rowIndex]=s},hterm.ScrollPort.prototype.fetchRowNode_=function(s){var l;return l=this.previousRowNodeCache_&&s in this.previousRowNodeCache_?this.previousRowNodeCache_[s]:this.rowProvider_.getRowNode(s),this.currentRowNodeCache_&&this.cacheRowNode_(l),l},hterm.ScrollPort.prototype.selectAll=function(){var s;if(0!=this.topFold_.nextSibling.rowIndex){for(;this.topFold_.previousSibling;)this.rowNodes_.removeChild(this.topFold_.previousSibling);s=this.fetchRowNode_(0),this.rowNodes_.insertBefore(s,this.topFold_),this.syncRowNodesDimensions_()}else s=this.topFold_.nextSibling;var l=this.rowProvider_.getRowCount()-1,u;if(this.bottomFold_.previousSibling.rowIndex!=l){for(;this.bottomFold_.nextSibling;)this.rowNodes_.removeChild(this.bottomFold_.nextSibling);u=this.fetchRowNode_(l),this.rowNodes_.appendChild(u)}else u=this.bottomFold_.previousSibling.rowIndex;var A=this.document_.getSelection();A.collapse(s,0),A.extend(u,u.childNodes.length),this.selection.sync()},hterm.ScrollPort.prototype.getScrollMax_=function(){return hterm.getClientHeight(this.scrollArea_)+this.visibleRowTopMargin+this.visibleRowBottomMargin-hterm.getClientHeight(this.screen_)},hterm.ScrollPort.prototype.scrollRowToTop=function(s){this.syncScrollHeight(),this.isScrolledEnd=s+this.visibleRowCount>=this.lastRowCount_;var l=s*this.characterSize.height+this.visibleRowTopMargin,u=this.getScrollMax_();l>u&&(l=u);this.screen_.scrollTop==l||(this.screen_.scrollTop=l,this.scheduleRedraw())},hterm.ScrollPort.prototype.scrollRowToBottom=function(s){this.syncScrollHeight(),this.isScrolledEnd=s+this.visibleRowCount>=this.lastRowCount_;var l=s*this.characterSize.height+this.visibleRowTopMargin+this.visibleRowBottomMargin;l-=this.visibleRowCount*this.characterSize.height,0>l&&(l=0);this.screen_.scrollTop==l||(this.screen_.scrollTop=l)},hterm.ScrollPort.prototype.getTopRowIndex=function(){return Math.round(this.screen_.scrollTop/this.characterSize.height)},hterm.ScrollPort.prototype.getBottomRowIndex=function(s){return s+this.visibleRowCount-1},hterm.ScrollPort.prototype.onScroll_=function(){var l=this.getScreenSize();return l.width!=this.lastScreenWidth_||l.height!=this.lastScreenHeight_?void this.resize():void(this.redraw_(),this.publish('scroll',{scrollPort:this}))},hterm.ScrollPort.prototype.onScrollWheel=function(){},hterm.ScrollPort.prototype.onScrollWheel_=function(s){if(this.onScrollWheel(s),!s.defaultPrevented){var l=this.scrollWheelDelta(s),u=this.screen_.scrollTop-l;0>u&&(u=0);var A=this.getScrollMax_();u>A&&(u=A),u!=this.screen_.scrollTop&&(this.screen_.scrollTop=u,s.preventDefault())}},hterm.ScrollPort.prototype.scrollWheelDelta=function(s){var l;switch(s.deltaMode){case WheelEvent.DOM_DELTA_PIXEL:l=s.deltaY*this.scrollWheelMultiplier_;break;case WheelEvent.DOM_DELTA_LINE:l=s.deltaY*this.characterSize.height;break;case WheelEvent.DOM_DELTA_PAGE:l=s.deltaY*this.characterSize.height*this.screen_.getHeight();}return-1*l},hterm.ScrollPort.prototype.onTouch=function(){},hterm.ScrollPort.prototype.onTouch_=function(s){if(this.onTouch(s),!s.defaultPrevented){var l=function(T){return{id:T.identifier,y:T.clientY,x:T.clientX}},u,A;switch(s.type){case'touchstart':for(u=0;u<s.changedTouches.length;++u)A=l(s.changedTouches[u]),this.lastTouch_[A.id]=A;break;case'touchcancel':case'touchend':for(u=0;u<s.changedTouches.length;++u)delete this.lastTouch_[s.changedTouches[u].identifier];break;case'touchmove':var C=0;for(u=0;u<s.changedTouches.length;++u)A=l(s.changedTouches[u]),C+=this.lastTouch_[A.id].y-A.y,this.lastTouch_[A.id]=A;C*=-1;var S=this.screen_.scrollTop-C;0>S&&(S=0);var _=this.getScrollMax_();S>_&&(S=_),S!=this.screen_.scrollTop&&(this.screen_.scrollTop=S);}s.preventDefault()}},hterm.ScrollPort.prototype.onResize_=function(){this.syncCharacterSize()},hterm.ScrollPort.prototype.onCopy=function(){},hterm.ScrollPort.prototype.onCopy_=function(s){if((this.onCopy(s),!s.defaultPrevented)&&(this.resetSelectBags_(),this.selection.sync(),this.selection.startRow&&!(2>this.selection.endRow.rowIndex-this.selection.startRow.rowIndex))){var l=this.getTopRowIndex(),u=this.getBottomRowIndex(l);if(this.selection.startRow.rowIndex<l){var A;A=this.selection.endRow.rowIndex<l?this.selection.endRow.rowIndex:this.topFold_.nextSibling.rowIndex,this.topSelectBag_.textContent=this.rowProvider_.getRowsText(this.selection.startRow.rowIndex+1,A),this.rowNodes_.insertBefore(this.topSelectBag_,this.selection.startRow.nextSibling),this.syncRowNodesDimensions_()}if(this.selection.endRow.rowIndex>u){var C;C=this.selection.startRow.rowIndex>u?this.selection.startRow.rowIndex+1:this.bottomFold_.previousSibling.rowIndex+1,this.bottomSelectBag_.textContent=this.rowProvider_.getRowsText(C,this.selection.endRow.rowIndex),this.rowNodes_.insertBefore(this.bottomSelectBag_,this.selection.endRow)}}},hterm.ScrollPort.prototype.onBodyKeyDown_=function(s){if(this.ctrlVPaste){var l=String.fromCharCode(s.which),u=l.toLowerCase();(s.ctrlKey||s.metaKey)&&'v'==u&&this.pasteTarget_.focus()}},hterm.ScrollPort.prototype.onPaste_=function(){this.pasteTarget_.focus();var l=this;setTimeout(function(){l.publish('paste',{text:l.pasteTarget_.value}),l.pasteTarget_.value='',l.screen_.focus()},0)},hterm.ScrollPort.prototype.handlePasteTargetTextInput_=function(s){s.stopPropagation()},hterm.ScrollPort.prototype.onDragAndDrop_=function(s){s.preventDefault();let l,u;s.shiftKey||(s.dataTransfer.types.forEach(A=>{!u&&'text/plain'!=A&&A.startsWith('text/')&&(u=A)}),u&&(l=s.dataTransfer.getData(u))),l||(l=s.dataTransfer.getData('text/plain')),l&&this.publish('paste',{text:l})},hterm.ScrollPort.prototype.setScrollbarVisible=function(s){this.screen_.style.overflowY=s?'scroll':'hidden'},hterm.ScrollPort.prototype.setScrollWheelMoveMultipler=function(s){this.scrollWheelMultiplier_=s},'use strict',lib.rtdep('lib.colors','lib.PreferenceManager','lib.resource','lib.wc','lib.f','hterm.Keyboard','hterm.Options','hterm.PreferenceManager','hterm.Screen','hterm.ScrollPort','hterm.Size','hterm.TextAttributes','hterm.VT'),hterm.Terminal=function(s){this.profileId_=null,this.primaryScreen_=new hterm.Screen,this.alternateScreen_=new hterm.Screen,this.screen_=this.primaryScreen_,this.screenSize=new hterm.Size(0,0),this.scrollPort_=new hterm.ScrollPort(this),this.scrollPort_.subscribe('resize',this.onResize_.bind(this)),this.scrollPort_.subscribe('scroll',this.onScroll_.bind(this)),this.scrollPort_.subscribe('paste',this.onPaste_.bind(this)),this.scrollPort_.onCopy=this.onCopy_.bind(this),this.div_=null,this.document_=window.document,this.scrollbackRows_=[],this.tabStops_=[],this.defaultTabStops=!0,this.vtScrollTop_=null,this.vtScrollBottom_=null,this.cursorNode_=null,this.cursorShape_=hterm.Terminal.cursorShape.BLOCK,this.cursorColor_=null,this.cursorBlinkCycle_=[100,100],this.myOnCursorBlink_=this.onCursorBlink_.bind(this),this.backgroundColor_=null,this.foregroundColor_=null,this.scrollOnOutput_=null,this.scrollOnKeystroke_=null,this.scrollWheelArrowKeys_=null,this.defeatMouseReports_=!1,this.bellAudio_=this.document_.createElement('audio'),this.bellAudio_.id='hterm:bell-audio',this.bellAudio_.setAttribute('preload','auto'),this.bellNotificationList_=[],this.desktopNotificationBell_=!1,this.savedOptions_={},this.options_=new hterm.Options,this.timeouts_={},this.vt=new hterm.VT(this),this.keyboard=new hterm.Keyboard(this),this.io=new hterm.Terminal.IO(this),this.enableMouseDragScroll=!0,this.copyOnSelect=null,this.mouseRightClickPaste=null,this.mousePasteButton=null,this.useDefaultWindowCopy=!1,this.clearSelectionAfterCopy=!0,this.realizeSize_(80,24),this.setDefaultTabStops(),this.setProfile(s||'default',function(){this.onTerminalReady()}.bind(this))},hterm.Terminal.cursorShape={BLOCK:'BLOCK',BEAM:'BEAM',UNDERLINE:'UNDERLINE'},hterm.Terminal.prototype.onTerminalReady=function(){},hterm.Terminal.prototype.tabWidth=8,hterm.Terminal.prototype.setProfile=function(s,l){this.profileId_=s.replace(/\//g,'');var u=this;this.prefs_&&this.prefs_.deactivate(),this.prefs_=new hterm.PreferenceManager(this.profileId_),this.prefs_.addObservers(null,{'alt-gr-mode':function(A){A=null==A?'en-us'==navigator.language.toLowerCase()?'none':'right-alt':'string'==typeof A?A.toLowerCase():'none',/^(none|ctrl-alt|left-alt|right-alt)$/.test(A)||(A='none'),u.keyboard.altGrMode=A},'alt-backspace-is-meta-backspace':function(A){u.keyboard.altBackspaceIsMetaBackspace=A},'alt-is-meta':function(A){u.keyboard.altIsMeta=A},'alt-sends-what':function(A){/^(escape|8-bit|browser-key)$/.test(A)||(A='escape'),u.keyboard.altSendsWhat=A},'audible-bell-sound':function(A){var C=A.match(/^lib-resource:(\S+)/);C?u.bellAudio_.setAttribute('src',lib.resource.getDataUrl(C[1])):u.bellAudio_.setAttribute('src',A)},'desktop-notification-bell':function(A){A&&Notification?(u.desktopNotificationBell_='granted'===Notification.permission,!u.desktopNotificationBell_&&console.warn('desktop-notification-bell is true but we do not have permission to display notifications.')):u.desktopNotificationBell_=!1},'background-color':function(A){u.setBackgroundColor(A)},'background-image':function(A){u.scrollPort_.setBackgroundImage(A)},'background-size':function(A){u.scrollPort_.setBackgroundSize(A)},'background-position':function(A){u.scrollPort_.setBackgroundPosition(A)},'backspace-sends-backspace':function(A){u.keyboard.backspaceSendsBackspace=A},'character-map-overrides':function(A){return null==A||A instanceof Object?void(u.vt.characterMaps.reset(),u.vt.characterMaps.setOverrides(A)):void console.warn('Preference character-map-modifications is not an object: '+A)},'cursor-blink':function(A){u.setCursorBlink(!!A)},'cursor-blink-cycle':function(A){u.cursorBlinkCycle_=A instanceof Array&&'number'==typeof A[0]&&'number'==typeof A[1]?A:'number'==typeof A?[A,A]:[100,100]},'cursor-color':function(A){u.setCursorColor(A)},'color-palette-overrides':function(A){if(!(null==A||A instanceof Object||A instanceof Array))return void console.warn('Preference color-palette-overrides is not an array or object: '+A);if(lib.colors.colorPalette=lib.colors.stockColorPalette.concat(),A)for(var C in A){var S=parseInt(C);if(isNaN(S)||0>S||255<S){console.log('Invalid value in palette: '+C+': '+A[C]);continue}if(A[S]){var _=lib.colors.normalizeCSS(A[S]);_&&(lib.colors.colorPalette[S]=_)}}u.primaryScreen_.textAttributes.resetColorPalette(),u.alternateScreen_.textAttributes.resetColorPalette()},'copy-on-select':function(A){u.copyOnSelect=!!A},'use-default-window-copy':function(A){u.useDefaultWindowCopy=!!A},'clear-selection-after-copy':function(A){u.clearSelectionAfterCopy=!!A},'ctrl-plus-minus-zero-zoom':function(A){u.keyboard.ctrlPlusMinusZeroZoom=A},'ctrl-c-copy':function(A){u.keyboard.ctrlCCopy=A},'ctrl-v-paste':function(A){u.keyboard.ctrlVPaste=A,u.scrollPort_.setCtrlVPaste(A)},'east-asian-ambiguous-as-two-column':function(A){lib.wc.regardCjkAmbiguous=A},'enable-8-bit-control':function(A){u.vt.enable8BitControl=!!A},'enable-bold':function(){u.syncBoldSafeState()},'enable-bold-as-bright':function(A){u.primaryScreen_.textAttributes.enableBoldAsBright=!!A,u.alternateScreen_.textAttributes.enableBoldAsBright=!!A},'enable-blink':function(){u.syncBlinkState()},'enable-clipboard-write':function(A){u.vt.enableClipboardWrite=!!A},'enable-dec12':function(A){u.vt.enableDec12=!!A},'font-family':function(){u.syncFontFamily()},'font-size':function(A){u.setFontSize(A)},'font-smoothing':function(){u.syncFontFamily()},'foreground-color':function(A){u.setForegroundColor(A)},'home-keys-scroll':function(A){u.keyboard.homeKeysScroll=A},keybindings:function(A){if(u.keyboard.bindings.clear(),!!A){if(!(A instanceof Object))return void console.error('Error in keybindings preference: Expected object');try{u.keyboard.bindings.addBindings(A)}catch(C){console.error('Error in keybindings preference: '+C)}}},'max-string-sequence':function(A){u.vt.maxStringSequence=A},'media-keys-are-fkeys':function(A){u.keyboard.mediaKeysAreFKeys=A},'meta-sends-escape':function(A){u.keyboard.metaSendsEscape=A},'mouse-right-click-paste':function(A){u.mouseRightClickPaste=A},'mouse-paste-button':function(){u.syncMousePasteButton()},'page-keys-scroll':function(A){u.keyboard.pageKeysScroll=A},'pass-alt-number':function(A){if(null==A){var C=window.navigator.userAgent.match(/Mac OS X/);A=!C&&'popup'!=hterm.windowType}u.passAltNumber=A},'pass-ctrl-number':function(A){if(null==A){var C=window.navigator.userAgent.match(/Mac OS X/);A=!C&&'popup'!=hterm.windowType}u.passCtrlNumber=A},'pass-meta-number':function(A){if(null==A){var C=window.navigator.userAgent.match(/Mac OS X/);A=C&&'popup'!=hterm.windowType}u.passMetaNumber=A},'pass-meta-v':function(A){u.keyboard.passMetaV=A},'receive-encoding':function(A){/^(utf-8|raw)$/.test(A)||(console.warn('Invalid value for "receive-encoding": '+A),A='utf-8'),u.vt.characterEncoding=A},'scroll-on-keystroke':function(A){u.scrollOnKeystroke_=A},'scroll-on-output':function(A){u.scrollOnOutput_=A},'scrollbar-visible':function(A){u.setScrollbarVisible(A)},'scroll-wheel-may-send-arrow-keys':function(A){u.scrollWheelArrowKeys_=A},'scroll-wheel-move-multiplier':function(A){u.setScrollWheelMoveMultipler(A)},'send-encoding':function(A){/^(utf-8|raw)$/.test(A)||(console.warn('Invalid value for "send-encoding": '+A),A='utf-8'),u.keyboard.characterEncoding=A},'shift-insert-paste':function(A){u.keyboard.shiftInsertPaste=A},'terminal-encoding':function(A){u.vt.setEncoding(A)},'user-css':function(A){u.scrollPort_.setUserCssUrl(A)},'user-css-text':function(A){u.scrollPort_.setUserCssText(A)},'word-break-match-left':function(A){u.primaryScreen_.wordBreakMatchLeft=A,u.alternateScreen_.wordBreakMatchLeft=A},'word-break-match-right':function(A){u.primaryScreen_.wordBreakMatchRight=A,u.alternateScreen_.wordBreakMatchRight=A},'word-break-match-middle':function(A){u.primaryScreen_.wordBreakMatchMiddle=A,u.alternateScreen_.wordBreakMatchMiddle=A}}),this.prefs_.readStorage(function(){this.prefs_.notifyAll(),l&&l()}.bind(this))},hterm.Terminal.prototype.getPrefs=function(){return this.prefs_},hterm.Terminal.prototype.setBracketedPaste=function(s){this.options_.bracketedPaste=s},hterm.Terminal.prototype.setCursorColor=function(s){this.cursorColor_=s,this.cursorNode_.style.backgroundColor=s,this.cursorNode_.style.borderColor=s},hterm.Terminal.prototype.getCursorColor=function(){return this.cursorColor_},hterm.Terminal.prototype.setSelectionEnabled=function(s){this.enableMouseDragScroll=s},hterm.Terminal.prototype.setBackgroundColor=function(s){this.backgroundColor_=lib.colors.normalizeCSS(s),this.primaryScreen_.textAttributes.setDefaults(this.foregroundColor_,this.backgroundColor_),this.alternateScreen_.textAttributes.setDefaults(this.foregroundColor_,this.backgroundColor_),this.scrollPort_.setBackgroundColor(s)},hterm.Terminal.prototype.getBackgroundColor=function(){return this.backgroundColor_},hterm.Terminal.prototype.setForegroundColor=function(s){this.foregroundColor_=lib.colors.normalizeCSS(s),this.primaryScreen_.textAttributes.setDefaults(this.foregroundColor_,this.backgroundColor_),this.alternateScreen_.textAttributes.setDefaults(this.foregroundColor_,this.backgroundColor_),this.scrollPort_.setForegroundColor(s)},hterm.Terminal.prototype.getForegroundColor=function(){return this.foregroundColor_},hterm.Terminal.prototype.runCommandClass=function(s,l){var u=this.prefs_.get('environment');('object'!=typeof u||null==u)&&(u={});var A=this;this.command=new s({argString:l||'',io:this.io.push(),environment:u,onExit:function(){A.io.pop(),A.uninstallKeyboard(),A.prefs_.get('close-on-exit')&&window.close()}}),this.installKeyboard(),this.command.run()},hterm.Terminal.prototype.isPrimaryScreen=function(){return this.screen_==this.primaryScreen_},hterm.Terminal.prototype.installKeyboard=function(){this.keyboard.installKeyboard(this.scrollPort_.getDocument().body)},hterm.Terminal.prototype.uninstallKeyboard=function(){this.keyboard.installKeyboard(null)},hterm.Terminal.prototype.setCssVar=function(s,l,u='--hterm-'){this.document_.documentElement.style.setProperty(`${u}${s}`,l)},hterm.Terminal.prototype.setFontSize=function(s){0===s&&(s=this.prefs_.get('font-size')),this.scrollPort_.setFontSize(s),this.setCssVar('charsize-width',this.scrollPort_.characterSize.width+'px'),this.setCssVar('charsize-height',this.scrollPort_.characterSize.height+'px')},hterm.Terminal.prototype.getFontSize=function(){return this.scrollPort_.getFontSize()},hterm.Terminal.prototype.getFontFamily=function(){return this.scrollPort_.getFontFamily()},hterm.Terminal.prototype.syncFontFamily=function(){this.scrollPort_.setFontFamily(this.prefs_.get('font-family'),this.prefs_.get('font-smoothing')),this.syncBoldSafeState()},hterm.Terminal.prototype.syncMousePasteButton=function(){var s=this.prefs_.get('mouse-paste-button');if('number'==typeof s)return void(this.mousePasteButton=s);var l=navigator.userAgent.match(/\(X11;\s+(\S+)/);this.mousePasteButton=l&&'CrOS'!=l[1]?2:1},hterm.Terminal.prototype.syncBoldSafeState=function(){var s=this.prefs_.get('enable-bold');if(null!==s)return this.primaryScreen_.textAttributes.enableBold=s,void(this.alternateScreen_.textAttributes.enableBold=s);var l=this.scrollPort_.measureCharacterSize(),u=this.scrollPort_.measureCharacterSize('bold'),A=l.equals(u);A||console.warn('Bold characters disabled: Size of bold weight differs from normal.  Font family is: '+this.scrollPort_.getFontFamily()),this.primaryScreen_.textAttributes.enableBold=A,this.alternateScreen_.textAttributes.enableBold=A},hterm.Terminal.prototype.syncBlinkState=function(){this.setCssVar('node-duration',this.prefs_.get('enable-blink')?'0.7s':'0')},hterm.Terminal.prototype.syncMouseStyle=function(){this.setCssVar('mouse-cursor-style',this.vt.mouseReport==this.vt.MOUSE_REPORT_DISABLED?'var(--hterm-mouse-cursor-text)':'var(--hterm-mouse-cursor-pointer)')},hterm.Terminal.prototype.saveCursor=function(){return this.screen_.cursorPosition.clone()},hterm.Terminal.prototype.getTextAttributes=function(){return this.screen_.textAttributes},hterm.Terminal.prototype.setTextAttributes=function(s){this.screen_.textAttributes=s},hterm.Terminal.prototype.getZoomFactor=function(){return this.scrollPort_.characterSize.zoomFactor},hterm.Terminal.prototype.setWindowTitle=function(s){window.document.title=s},hterm.Terminal.prototype.restoreCursor=function(s){var l=lib.f.clamp(s.row,0,this.screenSize.height-1),u=lib.f.clamp(s.column,0,this.screenSize.width-1);this.screen_.setCursorPosition(l,u),(s.column>u||s.column==u&&s.overflow)&&(this.screen_.cursorPosition.overflow=!0)},hterm.Terminal.prototype.clearCursorOverflow=function(){this.screen_.cursorPosition.overflow=!1},hterm.Terminal.prototype.setCursorShape=function(s){this.cursorShape_=s,this.restyleCursor_()},hterm.Terminal.prototype.getCursorShape=function(){return this.cursorShape_},hterm.Terminal.prototype.setWidth=function(s){return null==s?void(this.div_.style.width='100%'):void(this.div_.style.width=Math.ceil(this.scrollPort_.characterSize.width*s+this.scrollPort_.currentScrollbarWidthPx)+'px',this.realizeSize_(s,this.screenSize.height),this.scheduleSyncCursorPosition_())},hterm.Terminal.prototype.setHeight=function(s){return null==s?void(this.div_.style.height='100%'):void(this.div_.style.height=this.scrollPort_.characterSize.height*s+'px',this.realizeSize_(this.screenSize.width,s),this.scheduleSyncCursorPosition_())},hterm.Terminal.prototype.realizeSize_=function(s,l){s!=this.screenSize.width&&this.realizeWidth_(s),l!=this.screenSize.height&&this.realizeHeight_(l),this.io.onTerminalResize_(s,l)},hterm.Terminal.prototype.realizeWidth_=function(s){if(0>=s)throw new Error('Attempt to realize bad width: '+s);var l=s-this.screen_.getWidth();if(this.screenSize.width=s,this.screen_.setColumnCount(s),0<l)this.defaultTabStops&&this.setDefaultTabStops(this.screenSize.width-l);else for(var u=this.tabStops_.length-1;0<=u&&!(this.tabStops_[u]<s);u--)this.tabStops_.pop();this.screen_.setColumnCount(this.screenSize.width)},hterm.Terminal.prototype.realizeHeight_=function(s){if(0>=s)throw new Error('Attempt to realize bad height: '+s);var l=s-this.screen_.getHeight();this.screenSize.height=s;var u=this.saveCursor();if(0>l){for(l*=-1;l;){var A=this.getRowCount()-1;if(A-this.scrollbackRows_.length==u.row)break;if(this.getRowText(A))break;this.screen_.popRow(),l--}var C=this.screen_.shiftRows(l);this.scrollbackRows_.push.apply(this.scrollbackRows_,C),u.row=Math.max(u.row-l,0)}else if(0<l){if(l<=this.scrollbackRows_.length){var S=Math.min(l,this.scrollbackRows_.length),_=this.scrollbackRows_.splice(this.scrollbackRows_.length-S,S);this.screen_.unshiftRows(_),l-=S,u.row+=S}l&&this.appendRows_(l)}this.setVTScrollRegion(null,null),this.restoreCursor(u)},hterm.Terminal.prototype.scrollHome=function(){this.scrollPort_.scrollRowToTop(0)},hterm.Terminal.prototype.scrollEnd=function(){this.scrollPort_.scrollRowToBottom(this.getRowCount())},hterm.Terminal.prototype.scrollPageUp=function(){var s=this.scrollPort_.getTopRowIndex();this.scrollPort_.scrollRowToTop(s-this.screenSize.height+1)},hterm.Terminal.prototype.scrollPageDown=function(){var s=this.scrollPort_.getTopRowIndex();this.scrollPort_.scrollRowToTop(s+this.screenSize.height-1)},hterm.Terminal.prototype.scrollLineUp=function(){var s=this.scrollPort_.getTopRowIndex();this.scrollPort_.scrollRowToTop(s-1)},hterm.Terminal.prototype.scrollLineDown=function(){var s=this.scrollPort_.getTopRowIndex();this.scrollPort_.scrollRowToTop(s+1)},hterm.Terminal.prototype.wipeContents=function(){this.scrollbackRows_.length=0,this.scrollPort_.resetCache(),[this.primaryScreen_,this.alternateScreen_].forEach(function(s){var l=s.getHeight();0<l&&(this.renumberRows_(0,l),this.clearHome(s))}.bind(this)),this.syncCursorPosition_(),this.scrollPort_.invalidate()},hterm.Terminal.prototype.reset=function(){this.clearAllTabStops(),this.setDefaultTabStops(),this.clearHome(this.primaryScreen_),this.primaryScreen_.textAttributes.reset(),this.clearHome(this.alternateScreen_),this.alternateScreen_.textAttributes.reset(),this.setCursorBlink(!!this.prefs_.get('cursor-blink')),this.vt.reset(),this.softReset()},hterm.Terminal.prototype.softReset=function(){this.options_=new hterm.Options,this.options_.cursorBlink=!!this.timeouts_.cursorBlink,this.primaryScreen_.textAttributes.resetColorPalette(),this.alternateScreen_.textAttributes.resetColorPalette(),this.setVTScrollRegion(null,null),this.setCursorVisible(!0)},hterm.Terminal.prototype.forwardTabStop=function(){for(var s=this.screen_.cursorPosition.column,l=0;l<this.tabStops_.length;l++)if(this.tabStops_[l]>s)return void this.setCursorColumn(this.tabStops_[l]);var u=this.screen_.cursorPosition.overflow;this.setCursorColumn(this.screenSize.width-1),this.screen_.cursorPosition.overflow=u},hterm.Terminal.prototype.backwardTabStop=function(){for(var s=this.screen_.cursorPosition.column,l=this.tabStops_.length-1;0<=l;l--)if(this.tabStops_[l]<s)return void this.setCursorColumn(this.tabStops_[l]);this.setCursorColumn(1)},hterm.Terminal.prototype.setTabStop=function(s){for(var l=this.tabStops_.length-1;0<=l;l--){if(this.tabStops_[l]==s)return;if(this.tabStops_[l]<s)return void this.tabStops_.splice(l+1,0,s)}this.tabStops_.splice(0,0,s)},hterm.Terminal.prototype.clearTabStopAtCursor=function(){var s=this.screen_.cursorPosition.column,l=this.tabStops_.indexOf(s);-1==l||this.tabStops_.splice(l,1)},hterm.Terminal.prototype.clearAllTabStops=function(){this.tabStops_.length=0,this.defaultTabStops=!1},hterm.Terminal.prototype.setDefaultTabStops=function(s){var l=s||0,u=this.tabWidth;l=l-1-(l-1)%u+u;for(var A=l;A<this.screenSize.width;A+=u)this.setTabStop(A);this.defaultTabStops=!0},hterm.Terminal.prototype.interpret=function(s){this.vt.interpret(s),this.scheduleSyncCursorPosition_()},hterm.Terminal.prototype.decorate=function(s){this.div_=s,this.scrollPort_.decorate(s),this.scrollPort_.setBackgroundImage(this.prefs_.get('background-image')),this.scrollPort_.setBackgroundSize(this.prefs_.get('background-size')),this.scrollPort_.setBackgroundPosition(this.prefs_.get('background-position')),this.scrollPort_.setUserCssUrl(this.prefs_.get('user-css')),this.scrollPort_.setUserCssText(this.prefs_.get('user-css-text')),this.div_.focus=this.focus.bind(this),this.setFontSize(this.prefs_.get('font-size')),this.syncFontFamily(),this.setScrollbarVisible(this.prefs_.get('scrollbar-visible')),this.setScrollWheelMoveMultipler(this.prefs_.get('scroll-wheel-move-multiplier')),this.document_=this.scrollPort_.getDocument(),this.document_.body.oncontextmenu=function(){return!1};var l=this.onMouse_.bind(this),u=this.scrollPort_.getScreenNode();u.addEventListener('mousedown',l),u.addEventListener('mouseup',l),u.addEventListener('mousemove',l),this.scrollPort_.onScrollWheel=l,u.addEventListener('focus',this.onFocusChange_.bind(this,!0)),u.addEventListener('mousedown',function(){setTimeout(this.onFocusChange_.bind(this,!0))}.bind(this)),u.addEventListener('blur',this.onFocusChange_.bind(this,!1));var A=this.document_.createElement('style');A.textContent='.cursor-node[focus="false"] {  box-sizing: border-box;  background-color: transparent !important;  border-width: 2px;  border-style: solid;}.wc-node {  display: inline-block;  text-align: center;  width: calc(var(--hterm-charsize-width) * 2);  line-height: var(--hterm-charsize-height);}:root {  --hterm-charsize-width: '+this.scrollPort_.characterSize.width+'px;  --hterm-charsize-height: '+this.scrollPort_.characterSize.height+'px;  --hterm-cursor-offset-col: -1;  --hterm-cursor-offset-row: -1;  --hterm-blink-node-duration: 0.7s;  --hterm-mouse-cursor-text: text;  --hterm-mouse-cursor-pointer: default;  --hterm-mouse-cursor-style: var(--hterm-mouse-cursor-text);}@keyframes blink {  from { opacity: 1.0; }  to { opacity: 0.0; }}.blink-node {  animation-name: blink;  animation-duration: var(--hterm-blink-node-duration);  animation-iteration-count: infinite;  animation-timing-function: ease-in-out;  animation-direction: alternate;}',this.document_.head.appendChild(A),this.cursorNode_=this.document_.createElement('div'),this.cursorNode_.id='hterm:terminal-cursor',this.cursorNode_.className='cursor-node',this.cursorNode_.style.cssText='position: absolute;left: calc(var(--hterm-charsize-width) * var(--hterm-cursor-offset-col));top: calc(var(--hterm-charsize-height) * var(--hterm-cursor-offset-row));display: block;width: var(--hterm-charsize-width);height: var(--hterm-charsize-height);-webkit-transition: opacity, background-color 100ms linear;-moz-transition: opacity, background-color 100ms linear;',this.setCursorColor(this.prefs_.get('cursor-color')),this.setCursorBlink(!!this.prefs_.get('cursor-blink')),this.restyleCursor_(),this.document_.body.appendChild(this.cursorNode_),this.scrollBlockerNode_=this.document_.createElement('div'),this.scrollBlockerNode_.id='hterm:mouse-drag-scroll-blocker',this.scrollBlockerNode_.style.cssText='position: absolute;top: -99px;display: block;width: 10px;height: 10px;',this.document_.body.appendChild(this.scrollBlockerNode_),this.scrollPort_.onScrollWheel=l,['mousedown','mouseup','mousemove','click','dblclick'].forEach(function(C){this.scrollBlockerNode_.addEventListener(C,l),this.cursorNode_.addEventListener(C,l),this.document_.addEventListener(C,l)}.bind(this)),this.cursorNode_.addEventListener('mousedown',function(){setTimeout(this.focus.bind(this))}.bind(this)),this.setReverseVideo(!1),this.scrollPort_.focus(),this.scrollPort_.scheduleRedraw()},hterm.Terminal.prototype.getDocument=function(){return this.document_},hterm.Terminal.prototype.focus=function(){this.scrollPort_.focus()},hterm.Terminal.prototype.getRowNode=function(s){if(s<this.scrollbackRows_.length)return this.scrollbackRows_[s];var l=s-this.scrollbackRows_.length;return this.screen_.rowsArray[l]},hterm.Terminal.prototype.getRowsText=function(s,l){for(var u=[],A=s,C;A<l;A++)C=this.getRowNode(A),u.push(C.textContent),A<l-1&&!C.getAttribute('line-overflow')&&u.push('\n');return u.join('')},hterm.Terminal.prototype.getRowText=function(s){var l=this.getRowNode(s);return l.textContent},hterm.Terminal.prototype.getRowCount=function(){return this.scrollbackRows_.length+this.screen_.rowsArray.length},hterm.Terminal.prototype.appendRows_=function(s){for(var l=this.screen_.rowsArray.length,u=this.scrollbackRows_.length+l,A=0,C;A<s;A++)C=this.document_.createElement('x-row'),C.appendChild(this.document_.createTextNode('')),C.rowIndex=u+A,this.screen_.pushRow(C);var S=this.screen_.rowsArray.length-this.screenSize.height;if(0<S){var _=this.screen_.shiftRows(S);Array.prototype.push.apply(this.scrollbackRows_,_),this.scrollPort_.isScrolledEnd&&this.scheduleScrollDown_()}l>=this.screen_.rowsArray.length&&(l=this.screen_.rowsArray.length-1),this.setAbsoluteCursorPosition(l,0)},hterm.Terminal.prototype.moveRows_=function(s,l,u){var A=this.screen_.removeRows(s,l);this.screen_.insertRows(u,A);var C,S;s<u?(C=s,S=u+l):(C=u,S=s+l),this.renumberRows_(C,S),this.scrollPort_.scheduleInvalidate()},hterm.Terminal.prototype.renumberRows_=function(s,l,u){for(var A=u||this.screen_,C=this.scrollbackRows_.length,S=s;S<l;S++)A.rowsArray[S].rowIndex=C+S},hterm.Terminal.prototype.print=function(s){var l=0,u=lib.wc.strWidth(s);for(0==u&&s&&(u=1);l<u;){this.options_.wraparound&&this.screen_.cursorPosition.overflow&&(this.screen_.commitLineOverflow(),this.newLine());var A=u-l,C=!1,S;this.screen_.cursorPosition.column+A>=this.screenSize.width&&(C=!0,A=this.screenSize.width-this.screen_.cursorPosition.column),C&&!this.options_.wraparound?(S=lib.wc.substr(s,l,A-1)+lib.wc.substr(s,u-1),A=u):S=lib.wc.substr(s,l,A);for(var _=hterm.TextAttributes.splitWidecharString(S),T=0;T<_.length;T++)this.screen_.textAttributes.wcNode=_[T].wcNode,this.screen_.textAttributes.asciiNode=_[T].asciiNode,this.options_.insertMode?this.screen_.insertString(_[T].str,_[T].wcStrWidth):this.screen_.overwriteString(_[T].str,_[T].wcStrWidth),this.screen_.textAttributes.wcNode=!1,this.screen_.textAttributes.asciiNode=!0;this.screen_.maybeClipCurrentRow(),l+=A}this.scheduleSyncCursorPosition_(),this.scrollOnOutput_&&this.scrollPort_.scrollRowToBottom(this.getRowCount())},hterm.Terminal.prototype.setVTScrollRegion=function(s,l){0==s&&l==this.screenSize.height-1?(this.vtScrollTop_=null,this.vtScrollBottom_=null):(this.vtScrollTop_=s,this.vtScrollBottom_=l)},hterm.Terminal.prototype.getVTScrollTop=function(){return null==this.vtScrollTop_?0:this.vtScrollTop_},hterm.Terminal.prototype.getVTScrollBottom=function(){return null==this.vtScrollBottom_?this.screenSize.height-1:this.vtScrollBottom_},hterm.Terminal.prototype.newLine=function(){var s=this.screen_.cursorPosition.row==this.screen_.rowsArray.length-1;null==this.vtScrollBottom_?s?this.appendRows_(1):this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row+1,0):this.screen_.cursorPosition.row==this.vtScrollBottom_?(this.vtScrollUp(1),this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row,0)):s?this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row,0):this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row+1,0)},hterm.Terminal.prototype.lineFeed=function(){var s=this.screen_.cursorPosition.column;this.newLine(),this.setCursorColumn(s)},hterm.Terminal.prototype.formFeed=function(){this.options_.autoCarriageReturn?this.newLine():this.lineFeed()},hterm.Terminal.prototype.reverseLineFeed=function(){var s=this.getVTScrollTop(),l=this.screen_.cursorPosition.row;l==s?this.insertLines(1):this.setAbsoluteCursorRow(l-1)},hterm.Terminal.prototype.eraseToLeft=function(){var s=this.saveCursor();this.setCursorColumn(0);const l=s.column+1;this.screen_.overwriteString(lib.f.getWhitespace(l),l),this.restoreCursor(s)},hterm.Terminal.prototype.eraseToRight=function(s){if(!this.screen_.cursorPosition.overflow){var l=this.screenSize.width-this.screen_.cursorPosition.column,u=s?Math.min(s,l):l;if(this.screen_.textAttributes.background===this.screen_.textAttributes.DEFAULT_COLOR){var A=this.screen_.rowsArray[this.screen_.cursorPosition.row];if(hterm.TextAttributes.nodeWidth(A)<=this.screen_.cursorPosition.column+u)return this.screen_.deleteChars(u),void this.clearCursorOverflow()}var C=this.saveCursor();this.screen_.overwriteString(lib.f.getWhitespace(u),u),this.restoreCursor(C),this.clearCursorOverflow()}},hterm.Terminal.prototype.eraseLine=function(){var s=this.saveCursor();this.screen_.clearCursorRow(),this.restoreCursor(s),this.clearCursorOverflow()},hterm.Terminal.prototype.eraseAbove=function(){var s=this.saveCursor();this.eraseToLeft();for(var l=0;l<s.row;l++)this.setAbsoluteCursorPosition(l,0),this.screen_.clearCursorRow();this.restoreCursor(s),this.clearCursorOverflow()},hterm.Terminal.prototype.eraseBelow=function(){var s=this.saveCursor();this.eraseToRight();for(var l=this.screenSize.height-1,u=s.row+1;u<=l;u++)this.setAbsoluteCursorPosition(u,0),this.screen_.clearCursorRow();this.restoreCursor(s),this.clearCursorOverflow()},hterm.Terminal.prototype.fill=function(s){var l=this.saveCursor();this.setAbsoluteCursorPosition(0,0);for(var u=0;u<this.screenSize.height;u++)for(var A=0;A<this.screenSize.width;A++)this.setAbsoluteCursorPosition(u,A),this.screen_.overwriteString(s,1);this.restoreCursor(l)},hterm.Terminal.prototype.clearHome=function(s){var l=s||this.screen_,u=l.getHeight();if(0!=u){for(var A=0;A<u;A++)l.setCursorPosition(A,0),l.clearCursorRow();l.setCursorPosition(0,0)}},hterm.Terminal.prototype.clear=function(s){var l=s||this.screen_,u=l.cursorPosition.clone();this.clearHome(l),l.setCursorPosition(u.row,u.column)},hterm.Terminal.prototype.insertLines=function(s){var l=this.screen_.cursorPosition.row,u=this.getVTScrollBottom();s=Math.min(s,u-l);var A=u-l-s+1;A&&this.moveRows_(l,A,l+s);for(var C=s-1;0<=C;C--)this.setAbsoluteCursorPosition(l+C,0),this.screen_.clearCursorRow()},hterm.Terminal.prototype.deleteLines=function(s){var l=this.saveCursor(),u=l.row,A=this.getVTScrollBottom(),C=A-u+1;s=Math.min(s,C);var S=A-s+1;s!=C&&this.moveRows_(u,s,S);for(var _=0;_<s;_++)this.setAbsoluteCursorPosition(S+_,0),this.screen_.clearCursorRow();this.restoreCursor(l),this.clearCursorOverflow()},hterm.Terminal.prototype.insertSpace=function(s){var l=this.saveCursor(),u=lib.f.getWhitespace(s||1);this.screen_.insertString(u,u.length),this.screen_.maybeClipCurrentRow(),this.restoreCursor(l),this.clearCursorOverflow()},hterm.Terminal.prototype.deleteChars=function(s){var l=this.screen_.deleteChars(s);if(l&&!this.screen_.textAttributes.isDefault()){var u=this.saveCursor();this.setCursorColumn(this.screenSize.width-l),this.screen_.insertString(lib.f.getWhitespace(l)),this.restoreCursor(u)}this.clearCursorOverflow()},hterm.Terminal.prototype.vtScrollUp=function(s){var l=this.saveCursor();this.setAbsoluteCursorRow(this.getVTScrollTop()),this.deleteLines(s),this.restoreCursor(l)},hterm.Terminal.prototype.vtScrollDown=function(s){var l=this.saveCursor();this.setAbsoluteCursorPosition(this.getVTScrollTop(),0),this.insertLines(s),this.restoreCursor(l)},hterm.Terminal.prototype.setCursorPosition=function(s,l){this.options_.originMode?this.setRelativeCursorPosition(s,l):this.setAbsoluteCursorPosition(s,l)},hterm.Terminal.prototype.setRelativeCursorPosition=function(s,l){var u=this.getVTScrollTop();s=lib.f.clamp(s+u,u,this.getVTScrollBottom()),l=lib.f.clamp(l,0,this.screenSize.width-1),this.screen_.setCursorPosition(s,l)},hterm.Terminal.prototype.setAbsoluteCursorPosition=function(s,l){s=lib.f.clamp(s,0,this.screenSize.height-1),l=lib.f.clamp(l,0,this.screenSize.width-1),this.screen_.setCursorPosition(s,l)},hterm.Terminal.prototype.setCursorColumn=function(s){this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row,s)},hterm.Terminal.prototype.getCursorColumn=function(){return this.screen_.cursorPosition.column},hterm.Terminal.prototype.setAbsoluteCursorRow=function(s){this.setAbsoluteCursorPosition(s,this.screen_.cursorPosition.column)},hterm.Terminal.prototype.getCursorRow=function(){return this.screen_.cursorPosition.row},hterm.Terminal.prototype.scheduleRedraw_=function(){if(!this.timeouts_.redraw){var s=this;this.timeouts_.redraw=setTimeout(function(){delete s.timeouts_.redraw,s.scrollPort_.redraw_()},0)}},hterm.Terminal.prototype.scheduleScrollDown_=function(){if(!this.timeouts_.scrollDown){var s=this;this.timeouts_.scrollDown=setTimeout(function(){delete s.timeouts_.scrollDown,s.scrollPort_.scrollRowToBottom(s.getRowCount())},10)}},hterm.Terminal.prototype.cursorUp=function(s){return this.cursorDown(-(s||1))},hterm.Terminal.prototype.cursorDown=function(s){s=s||1;var l=this.options_.originMode?this.getVTScrollTop():0,u=this.options_.originMode?this.getVTScrollBottom():this.screenSize.height-1,A=lib.f.clamp(this.screen_.cursorPosition.row+s,l,u);this.setAbsoluteCursorRow(A)},hterm.Terminal.prototype.cursorLeft=function(s){if(s=s||1,!(1>s)){var l=this.screen_.cursorPosition.column;if(this.options_.reverseWraparound){if(this.screen_.cursorPosition.overflow&&(s--,this.clearCursorOverflow(),!s))return;var u=this.screen_.cursorPosition.row,A=l-s;0>A&&(u=u-Math.floor(s/this.screenSize.width)-1,0>u&&(u=this.screenSize.height+u%this.screenSize.height),A=this.screenSize.width+A%this.screenSize.width),this.setCursorPosition(Math.max(u,0),A)}else{var A=Math.max(l-s,0);this.setCursorColumn(A)}}},hterm.Terminal.prototype.cursorRight=function(s){if(s=s||1,!(1>s)){var l=lib.f.clamp(this.screen_.cursorPosition.column+s,0,this.screenSize.width-1);this.setCursorColumn(l)}},hterm.Terminal.prototype.setReverseVideo=function(s){this.options_.reverseVideo=s,s?(this.scrollPort_.setForegroundColor(this.prefs_.get('background-color')),this.scrollPort_.setBackgroundColor(this.prefs_.get('foreground-color'))):(this.scrollPort_.setForegroundColor(this.prefs_.get('foreground-color')),this.scrollPort_.setBackgroundColor(this.prefs_.get('background-color')))},hterm.Terminal.prototype.ringBell=function(){this.cursorNode_.style.backgroundColor=this.scrollPort_.getForegroundColor();var s=this;if((setTimeout(function(){s.restyleCursor_()},200),!this.bellSquelchTimeout_)&&(this.bellAudio_.getAttribute('src')?(this.bellAudio_.play(),this.bellSequelchTimeout_=setTimeout(function(){delete this.bellSquelchTimeout_}.bind(this),500)):delete this.bellSquelchTimeout_,this.desktopNotificationBell_&&!this.document_.hasFocus())){var l=hterm.notify();this.bellNotificationList_.push(l),l.onclick=function(){s.closeBellNotifications_()}}},hterm.Terminal.prototype.setOriginMode=function(s){this.options_.originMode=s,this.setCursorPosition(0,0)},hterm.Terminal.prototype.setInsertMode=function(s){this.options_.insertMode=s},hterm.Terminal.prototype.setAutoCarriageReturn=function(s){this.options_.autoCarriageReturn=s},hterm.Terminal.prototype.setWraparound=function(s){this.options_.wraparound=s},hterm.Terminal.prototype.setReverseWraparound=function(s){this.options_.reverseWraparound=s},hterm.Terminal.prototype.setAlternateMode=function(s){var l=this.saveCursor();if(this.screen_=s?this.alternateScreen_:this.primaryScreen_,this.screen_.rowsArray.length&&this.screen_.rowsArray[0].rowIndex!=this.scrollbackRows_.length)for(var u=this.scrollbackRows_.length,A=this.screen_.rowsArray,C=0;C<A.length;C++)A[C].rowIndex=u+C;this.realizeWidth_(this.screenSize.width),this.realizeHeight_(this.screenSize.height),this.scrollPort_.syncScrollHeight(),this.scrollPort_.invalidate(),this.restoreCursor(l),this.scrollPort_.resize()},hterm.Terminal.prototype.setCursorBlink=function(s){this.options_.cursorBlink=s,!s&&this.timeouts_.cursorBlink&&(clearTimeout(this.timeouts_.cursorBlink),delete this.timeouts_.cursorBlink),this.options_.cursorVisible&&this.setCursorVisible(!0)},hterm.Terminal.prototype.setCursorVisible=function(s){if(this.options_.cursorVisible=s,!s)return this.timeouts_.cursorBlink&&(clearTimeout(this.timeouts_.cursorBlink),delete this.timeouts_.cursorBlink),void(this.cursorNode_.style.opacity='0');if(this.syncCursorPosition_(),this.cursorNode_.style.opacity='1',this.options_.cursorBlink){if(this.timeouts_.cursorBlink)return;this.onCursorBlink_()}else this.timeouts_.cursorBlink&&(clearTimeout(this.timeouts_.cursorBlink),delete this.timeouts_.cursorBlink)},hterm.Terminal.prototype.syncCursorPosition_=function(){var s=this.scrollPort_.getTopRowIndex(),l=this.scrollPort_.getBottomRowIndex(s),u=this.scrollbackRows_.length+this.screen_.cursorPosition.row;if(u>l)return void this.setCssVar('cursor-offset-row','-1');this.options_.cursorVisible&&'none'==this.cursorNode_.style.display&&(this.cursorNode_.style.display=''),this.setCssVar('cursor-offset-row',`${u-s} + `+`${this.scrollPort_.visibleRowTopMargin}px`),this.setCssVar('cursor-offset-col',this.screen_.cursorPosition.column),this.cursorNode_.setAttribute('title','('+this.screen_.cursorPosition.column+', '+this.screen_.cursorPosition.row+')');var A=this.document_.getSelection();A&&A.isCollapsed&&this.screen_.syncSelectionCaret(A)},hterm.Terminal.prototype.restyleCursor_=function(){var s=this.cursorShape_;'false'==this.cursorNode_.getAttribute('focus')&&(s=hterm.Terminal.cursorShape.BLOCK);var l=this.cursorNode_.style;switch(s){case hterm.Terminal.cursorShape.BEAM:l.height='var(--hterm-charsize-height)',l.backgroundColor='transparent',l.borderBottomStyle=null,l.borderLeftStyle='solid';break;case hterm.Terminal.cursorShape.UNDERLINE:l.height=this.scrollPort_.characterSize.baseline+'px',l.backgroundColor='transparent',l.borderBottomStyle='solid',l.borderLeftStyle=null;break;default:l.height='var(--hterm-charsize-height)',l.backgroundColor=this.cursorColor_,l.borderBottomStyle=null,l.borderLeftStyle=null;}},hterm.Terminal.prototype.scheduleSyncCursorPosition_=function(){if(!this.timeouts_.syncCursor){var s=this;this.timeouts_.syncCursor=setTimeout(function(){s.syncCursorPosition_(),delete s.timeouts_.syncCursor},0)}},hterm.Terminal.prototype.showZoomWarning_=function(s){if(!this.zoomWarningNode_){if(!s)return;this.zoomWarningNode_=this.document_.createElement('div'),this.zoomWarningNode_.id='hterm:zoom-warning',this.zoomWarningNode_.style.cssText='color: black;background-color: #ff2222;font-size: large;border-radius: 8px;opacity: 0.75;padding: 0.2em 0.5em 0.2em 0.5em;top: 0.5em;right: 1.2em;position: absolute;-webkit-text-size-adjust: none;-webkit-user-select: none;-moz-text-size-adjust: none;-moz-user-select: none;',this.zoomWarningNode_.addEventListener('click',function(){this.parentNode.removeChild(this)})}this.zoomWarningNode_.textContent=lib.MessageManager.replaceReferences(hterm.zoomWarningMessage,[parseInt(100*this.scrollPort_.characterSize.zoomFactor)]),this.zoomWarningNode_.style.fontFamily=this.prefs_.get('font-family'),s?!this.zoomWarningNode_.parentNode&&this.div_.parentNode.appendChild(this.zoomWarningNode_):this.zoomWarningNode_.parentNode&&this.zoomWarningNode_.parentNode.removeChild(this.zoomWarningNode_)},hterm.Terminal.prototype.showOverlay=function(s,l){if(!this.overlayNode_){if(!this.div_)return;this.overlayNode_=this.document_.createElement('div'),this.overlayNode_.style.cssText='border-radius: 15px;font-size: xx-large;opacity: 0.75;padding: 0.2em 0.5em 0.2em 0.5em;position: absolute;-webkit-user-select: none;-webkit-transition: opacity 180ms ease-in;-moz-user-select: none;-moz-transition: opacity 180ms ease-in;',this.overlayNode_.addEventListener('mousedown',function(C){C.preventDefault(),C.stopPropagation()},!0)}this.overlayNode_.style.color=this.prefs_.get('background-color'),this.overlayNode_.style.backgroundColor=this.prefs_.get('foreground-color'),this.overlayNode_.style.fontFamily=this.prefs_.get('font-family'),this.overlayNode_.textContent=s,this.overlayNode_.style.opacity='0.75',this.overlayNode_.parentNode||this.div_.appendChild(this.overlayNode_);var u=hterm.getClientSize(this.div_),A=hterm.getClientSize(this.overlayNode_);this.overlayNode_.style.top=(u.height-A.height)/2+'px',this.overlayNode_.style.left=(u.width-A.width-this.scrollPort_.currentScrollbarWidthPx)/2+'px',this.overlayTimeout_&&clearTimeout(this.overlayTimeout_);null===l||(this.overlayTimeout_=setTimeout(()=>{this.overlayNode_.style.opacity='0',this.overlayTimeout_=setTimeout(()=>this.hideOverlay(),200)},l||1500))},hterm.Terminal.prototype.hideOverlay=function(){this.overlayTimeout_&&clearTimeout(this.overlayTimeout_),this.overlayTimeout_=null,this.overlayNode_.parentNode&&this.overlayNode_.parentNode.removeChild(this.overlayNode_),this.overlayNode_.style.opacity='0.75'},hterm.Terminal.prototype.paste=function(){return hterm.pasteFromClipboard(this.document_)},hterm.Terminal.prototype.copyStringToClipboard=function(s){this.prefs_.get('enable-clipboard-notice')&&setTimeout(this.showOverlay.bind(this,hterm.notifyCopyMessage,500),200);var l=this.document_.createElement('pre');l.id='hterm:copy-to-clipboard-source',l.textContent=s,l.style.cssText='-webkit-user-select: text;-moz-user-select: text;position: absolute;top: -99px',this.document_.body.appendChild(l);var u=this.document_.getSelection(),A=u.anchorNode,C=u.anchorOffset,S=u.focusNode,_=u.focusOffset;u.selectAllChildren(l),hterm.copySelectionToClipboard(this.document_),u.extend&&(u.collapse(A,C),u.extend(S,_)),l.parentNode.removeChild(l)},hterm.Terminal.prototype.getSelectionText=function(){var s=this.scrollPort_.selection;if(s.sync(),s.isCollapsed)return null;var l=s.startOffset,u=s.startNode;if('X-ROW'!=u.nodeName)for('#text'==u.nodeName&&'SPAN'==u.parentNode.nodeName&&(u=u.parentNode);u.previousSibling;)u=u.previousSibling,l+=hterm.TextAttributes.nodeWidth(u);var A=hterm.TextAttributes.nodeWidth(s.endNode)-s.endOffset;if(u=s.endNode,'X-ROW'!=u.nodeName)for('#text'==u.nodeName&&'SPAN'==u.parentNode.nodeName&&(u=u.parentNode);u.nextSibling;)u=u.nextSibling,A+=hterm.TextAttributes.nodeWidth(u);var C=this.getRowsText(s.startRow.rowIndex,s.endRow.rowIndex+1);return lib.wc.substring(C,l,lib.wc.strWidth(C)-A)},hterm.Terminal.prototype.copySelectionToClipboard=function(){var s=this.getSelectionText();null!=s&&this.copyStringToClipboard(s)},hterm.Terminal.prototype.overlaySize=function(){this.showOverlay(this.screenSize.width+'x'+this.screenSize.height)},hterm.Terminal.prototype.onVTKeystroke=function(s){this.scrollOnKeystroke_&&this.scrollPort_.scrollRowToBottom(this.getRowCount()),this.io.onVTKeystroke(this.keyboard.encode(s))},hterm.Terminal.prototype.openUrl=function(s){if(window.chrome&&window.chrome.browser)chrome.browser.openTab({url:s});else{var l=window.open(s,'_blank');l.focus()}},hterm.Terminal.prototype.openSelectedUrl_=function(){var s=this.getSelectionText();if(!(null==s&&(this.screen_.expandSelection(this.document_.getSelection()),s=this.getSelectionText(),null==s))&&!(2048<s.length||0<=s.search(/[\s\[\](){}<>"'\\^`]/))){if(0>s.search('^[a-zA-Z][a-zA-Z0-9+.-]*://'))switch(s.split(':',1)[0]){case'mailto':break;default:s='http://'+s;}this.openUrl(s)}},hterm.Terminal.prototype.onMouse_=function(s){if(!s.processedByTerminalHandler_){var l=!this.defeatMouseReports_&&this.vt.mouseReport!=this.vt.MOUSE_REPORT_DISABLED;if(s.processedByTerminalHandler_=!0,s.terminalRow=parseInt((s.clientY-this.scrollPort_.visibleRowTopMargin)/this.scrollPort_.characterSize.height)+1,s.terminalColumn=parseInt(s.clientX/this.scrollPort_.characterSize.width)+1,!('mousedown'==s.type&&s.terminalColumn>this.screenSize.width)){if(this.options_.cursorVisible&&!l&&(s.terminalRow-1==this.screen_.cursorPosition.row&&s.terminalColumn-1==this.screen_.cursorPosition.column?this.cursorNode_.style.display='none':'none'==this.cursorNode_.style.display&&(this.cursorNode_.style.display='')),'mousedown'==s.type&&(s.altKey||!l?(this.defeatMouseReports_=!0,this.setSelectionEnabled(!0)):(this.defeatMouseReports_=!1,this.document_.getSelection().collapseToEnd(),this.setSelectionEnabled(!1),s.preventDefault())),!l){if('dblclick'==s.type&&this.copyOnSelect&&(this.screen_.expandSelection(this.document_.getSelection()),this.copySelectionToClipboard(this.document_)),'click'==s.type&&!s.shiftKey&&(s.ctrlKey||s.metaKey))return clearTimeout(this.timeouts_.openUrl),void(this.timeouts_.openUrl=setTimeout(this.openSelectedUrl_.bind(this),500));if('mousedown'==s.type&&(this.mouseRightClickPaste&&2==s.button||s.button==this.mousePasteButton)&&!this.paste()&&console.warn('Could not paste manually due to web restrictions'),'mouseup'==s.type&&0==s.button&&this.copyOnSelect&&!this.document_.getSelection().isCollapsed&&this.copySelectionToClipboard(this.document_),('mousemove'==s.type||'mouseup'==s.type)&&this.scrollBlockerNode_.engaged&&(this.scrollBlockerNode_.engaged=!1,this.scrollBlockerNode_.style.top='-99px'),this.scrollWheelArrowKeys_&&!s.shiftKey&&this.keyboard.applicationCursor&&!this.isPrimaryScreen()&&'wheel'==s.type){var u=this.scrollPort_.scrollWheelDelta(s),A=lib.f.smartFloorDivide(Math.abs(u),this.scrollPort_.characterSize.height),C='\x1BO'+(0>u?'B':'A');this.io.sendString(C.repeat(A)),s.preventDefault()}}else this.scrollBlockerNode_.engaged||('mousedown'==s.type?(this.scrollBlockerNode_.engaged=!0,this.scrollBlockerNode_.style.top=s.clientY-5+'px',this.scrollBlockerNode_.style.left=s.clientX-5+'px'):'mousemove'==s.type&&(this.document_.getSelection().collapseToEnd(),s.preventDefault())),this.onMouse(s);'mouseup'==s.type&&this.document_.getSelection().isCollapsed&&(this.defeatMouseReports_=!1)}}},hterm.Terminal.prototype.onMouse=function(){},hterm.Terminal.prototype.onFocusChange_=function(s){this.cursorNode_.setAttribute('focus',s),this.restyleCursor_(),!0===s&&this.closeBellNotifications_()},hterm.Terminal.prototype.onScroll_=function(){this.scheduleSyncCursorPosition_()},hterm.Terminal.prototype.onPaste_=function(s){var l=s.text.replace(/\n/mg,'\r');l=this.keyboard.encode(l),this.options_.bracketedPaste&&(l='\x1B[200~'+l+'\x1B[201~'),this.io.sendString(l)},hterm.Terminal.prototype.onCopy_=function(s){this.useDefaultWindowCopy||(s.preventDefault(),setTimeout(this.copySelectionToClipboard.bind(this),0))},hterm.Terminal.prototype.onResize_=function(){var s=Math.floor(this.scrollPort_.getScreenWidth()/this.scrollPort_.characterSize.width)||0,l=lib.f.smartFloorDivide(this.scrollPort_.getScreenHeight(),this.scrollPort_.characterSize.height)||0;if(!(0>=s||0>=l)){var u=s!=this.screenSize.width||l!=this.screenSize.height;this.realizeSize_(s,l),this.showZoomWarning_(1!=this.scrollPort_.characterSize.zoomFactor),u&&this.overlaySize(),this.restyleCursor_(),this.scheduleSyncCursorPosition_()}},hterm.Terminal.prototype.onCursorBlink_=function(){return this.options_.cursorBlink?void('false'==this.cursorNode_.getAttribute('focus')||'0'==this.cursorNode_.style.opacity?(this.cursorNode_.style.opacity='1',this.timeouts_.cursorBlink=setTimeout(this.myOnCursorBlink_,this.cursorBlinkCycle_[0])):(this.cursorNode_.style.opacity='0',this.timeouts_.cursorBlink=setTimeout(this.myOnCursorBlink_,this.cursorBlinkCycle_[1]))):void delete this.timeouts_.cursorBlink},hterm.Terminal.prototype.setScrollbarVisible=function(s){this.scrollPort_.setScrollbarVisible(s)},hterm.Terminal.prototype.setScrollWheelMoveMultipler=function(s){this.scrollPort_.setScrollWheelMoveMultipler(s)},hterm.Terminal.prototype.closeBellNotifications_=function(){this.bellNotificationList_.forEach(function(s){s.close()}),this.bellNotificationList_.length=0},'use strict',lib.rtdep('lib.encodeUTF8'),hterm.Terminal.IO=function(s){this.terminal_=s,this.previousIO_=null,this.buffered_=''},hterm.Terminal.IO.prototype.showOverlay=function(s,l){this.terminal_.showOverlay(s,l)},hterm.Terminal.IO.prototype.hideOverlay=function(){this.terminal_.hideOverlay()},hterm.Terminal.IO.prototype.createFrame=function(s,l){return new hterm.Frame(this.terminal_,s,l)},hterm.Terminal.IO.prototype.setTerminalProfile=function(s){this.terminal_.setProfile(s)},hterm.Terminal.IO.prototype.push=function(){var s=new hterm.Terminal.IO(this.terminal_);return s.keyboardCaptured_=this.keyboardCaptured_,s.columnCount=this.columnCount,s.rowCount=this.rowCount,s.previousIO_=this.terminal_.io,this.terminal_.io=s,s},hterm.Terminal.IO.prototype.pop=function(){this.terminal_.io=this.previousIO_,this.previousIO_.flush()},hterm.Terminal.IO.prototype.flush=function(){this.buffered_&&(this.terminal_.interpret(this.buffered_),this.buffered_='')},hterm.Terminal.IO.prototype.sendString=function(s){console.log('Unhandled sendString: '+s)},hterm.Terminal.IO.prototype.onVTKeystroke=function(s){console.log('Unobserverd VT keystroke: '+JSON.stringify(s))},hterm.Terminal.IO.prototype.onTerminalResize_=function(s,l){for(var u=this;u;)u.columnCount=s,u.rowCount=l,u=u.previousIO_;this.onTerminalResize(s,l)},hterm.Terminal.IO.prototype.onTerminalResize=function(){},hterm.Terminal.IO.prototype.writeUTF8=function(s){return this.terminal_.io==this?void this.terminal_.interpret(s):void(this.buffered_+=s)},hterm.Terminal.IO.prototype.writelnUTF8=function(s){this.writeUTF8(s+'\r\n')},hterm.Terminal.IO.prototype.print=hterm.Terminal.IO.prototype.writeUTF16=function(s){this.writeUTF8(lib.encodeUTF8(s))},hterm.Terminal.IO.prototype.println=hterm.Terminal.IO.prototype.writelnUTF16=function(s){this.writelnUTF8(lib.encodeUTF8(s))},'use strict',lib.rtdep('lib.colors'),hterm.TextAttributes=function(s){this.document_=s,this.foregroundSource=this.SRC_DEFAULT,this.backgroundSource=this.SRC_DEFAULT,this.foreground=this.DEFAULT_COLOR,this.background=this.DEFAULT_COLOR,this.defaultForeground='rgb(255, 255, 255)',this.defaultBackground='rgb(0, 0, 0)',this.bold=!1,this.faint=!1,this.italic=!1,this.blink=!1,this.underline=!1,this.strikethrough=!1,this.inverse=!1,this.invisible=!1,this.wcNode=!1,this.asciiNode=!0,this.tileData=null,this.colorPalette=null,this.resetColorPalette()},hterm.TextAttributes.prototype.enableBold=!0,hterm.TextAttributes.prototype.enableBoldAsBright=!0,hterm.TextAttributes.prototype.DEFAULT_COLOR=lib.f.createEnum(''),hterm.TextAttributes.prototype.SRC_DEFAULT='default',hterm.TextAttributes.prototype.SRC_RGB='rgb',hterm.TextAttributes.prototype.setDocument=function(s){this.document_=s},hterm.TextAttributes.prototype.clone=function(){var s=new hterm.TextAttributes(null);for(var l in this)s[l]=this[l];return s.colorPalette=this.colorPalette.concat(),s},hterm.TextAttributes.prototype.reset=function(){this.foregroundSource=this.SRC_DEFAULT,this.backgroundSource=this.SRC_DEFAULT,this.foreground=this.DEFAULT_COLOR,this.background=this.DEFAULT_COLOR,this.bold=!1,this.faint=!1,this.italic=!1,this.blink=!1,this.underline=!1,this.strikethrough=!1,this.inverse=!1,this.invisible=!1,this.wcNode=!1,this.asciiNode=!0},hterm.TextAttributes.prototype.resetColorPalette=function(){this.colorPalette=lib.colors.colorPalette.concat(),this.syncColors()},hterm.TextAttributes.prototype.isDefault=function(){return this.foregroundSource==this.SRC_DEFAULT&&this.backgroundSource==this.SRC_DEFAULT&&!this.bold&&!this.faint&&!this.italic&&!this.blink&&!this.underline&&!this.strikethrough&&!this.inverse&&!this.invisible&&!this.wcNode&&this.asciiNode&&null==this.tileData},hterm.TextAttributes.prototype.createContainer=function(s){if(this.isDefault()){const S=this.document_.createTextNode(s);return S.asciiNode=!0,S}var l=this.document_.createElement('span'),u=l.style,A=[];this.foreground!=this.DEFAULT_COLOR&&(u.color=this.foreground),this.background!=this.DEFAULT_COLOR&&(u.backgroundColor=this.background),this.enableBold&&this.bold&&(u.fontWeight='bold'),this.faint&&(l.faint=!0),this.italic&&(u.fontStyle='italic'),this.blink&&(A.push('blink-node'),l.blinkNode=!0);var C='';return this.underline&&(C+=' underline',l.underline=!0),this.strikethrough&&(C+=' line-through',l.strikethrough=!0),C&&(u.textDecoration=C),this.wcNode&&(A.push('wc-node'),l.wcNode=!0),l.asciiNode=this.asciiNode,null!=this.tileData&&(A.push('tile'),A.push('tile_'+this.tileData),l.tileNode=!0),s&&(l.textContent=s),A.length&&(l.className=A.join(' ')),l},hterm.TextAttributes.prototype.matchesContainer=function(s){if('string'==typeof s||s.nodeType==Node.TEXT_NODE)return this.isDefault();var l=s.style;return!(this.wcNode||s.wcNode)&&this.asciiNode==s.asciiNode&&!(null!=this.tileData||s.tileNode)&&this.foreground==l.color&&this.background==l.backgroundColor&&(this.enableBold&&this.bold)==!!l.fontWeight&&this.blink==!!s.blinkNode&&this.italic==!!l.fontStyle&&!!this.underline==!!s.underline&&!!this.strikethrough==!!s.strikethrough},hterm.TextAttributes.prototype.setDefaults=function(s,l){this.defaultForeground=s,this.defaultBackground=l,this.syncColors()},hterm.TextAttributes.prototype.syncColors=function(){var l=this.foregroundSource,u=this.backgroundSource,A=this.DEFAULT_COLOR,C=this.DEFAULT_COLOR;if(this.inverse&&(l=this.backgroundSource,u=this.foregroundSource,A=this.defaultBackground,C=this.defaultForeground),this.enableBoldAsBright&&this.bold&&l!=this.SRC_DEFAULT&&l!=this.SRC_RGB&&(l=function(_){return 8>_?_+8:_}(l)),this.invisible&&(l=u,A=this.defaultBackground),l!=this.SRC_RGB&&(this.foreground=l==this.SRC_DEFAULT?A:this.colorPalette[l]),this.faint&&!this.invisible){var S=this.foreground==this.DEFAULT_COLOR?this.defaultForeground:this.foreground;this.foreground=lib.colors.mix(S,'rgb(0, 0, 0)',0.3333)}u!=this.SRC_RGB&&(this.background=u==this.SRC_DEFAULT?C:this.colorPalette[u])},hterm.TextAttributes.containersMatch=function(s,l){if('string'==typeof s)return hterm.TextAttributes.containerIsDefault(l);if(s.nodeType!=l.nodeType)return!1;if(s.nodeType==Node.TEXT_NODE)return!0;var u=s.style,A=l.style;return u.color==A.color&&u.backgroundColor==A.backgroundColor&&u.fontWeight==A.fontWeight&&u.fontStyle==A.fontStyle&&u.textDecoration==A.textDecoration},hterm.TextAttributes.containerIsDefault=function(s){return'string'==typeof s||s.nodeType==Node.TEXT_NODE},hterm.TextAttributes.nodeWidth=function(s){return s.asciiNode?s.textContent.length:lib.wc.strWidth(s.textContent)},hterm.TextAttributes.nodeSubstr=function(s,l,u){return s.asciiNode?s.textContent.substr(l,u):lib.wc.substr(s.textContent,l,u)},hterm.TextAttributes.nodeSubstring=function(s,l,u){return s.asciiNode?s.textContent.substring(l,u):lib.wc.substring(s.textContent,l,u)},hterm.TextAttributes.splitWidecharString=function(s){for(var l=[],u=0,A=0,C=0,_=!0,T=0,S;T<s.length;){var F=s.codePointAt(T),V;128>F?(C+=1,A+=1,V=1):(V=65535>=F?1:2,S=lib.wc.charWidth(F),1>=S?(C+=S,A+=V,_=!1):(A&&(l.push({str:s.substr(u,A),asciiNode:_,wcStrWidth:C}),_=!0,C=0),l.push({str:s.substr(T,V),wcNode:!0,asciiNode:!1,wcStrWidth:2}),u=T+V,A=0)),T+=V}return A&&l.push({str:s.substr(u,A),asciiNode:_,wcStrWidth:C}),l},'use strict',lib.rtdep('lib.colors','lib.f','lib.UTF8Decoder','hterm.VT.CharacterMap'),hterm.VT=function(s){this.terminal=s,s.onMouse=this.onTerminalMouse_.bind(this),this.mouseReport=this.MOUSE_REPORT_DISABLED,this.parseState_=new hterm.VT.ParseState(this.parseUnknown_),this.leadingModifier_='',this.trailingModifier_='',this.allowColumnWidthChanges_=!1,this.oscTimeLimit_=2e4,this.utf8Decoder_=new lib.UTF8Decoder,this.enable8BitControl=!1,this.enableClipboardWrite=!0,this.enableDec12=!1,this.characterEncoding='utf-8',this.maxStringSequence=1024,this.warnUnimplemented=!1,this.characterMaps=new hterm.VT.CharacterMaps,this.G0=this.G1=this.G2=this.G3=this.characterMaps.getMap('B'),this.GL='G0',this.GR='G0',this.codingSystemUtf8_=!1,this.codingSystemLocked_=!1,this.cc1Pattern_=null,this.updateEncodingState_(),this.savedState_=new hterm.VT.CursorState(this)},hterm.VT.prototype.MOUSE_REPORT_DISABLED=0,hterm.VT.prototype.MOUSE_REPORT_CLICK=1,hterm.VT.prototype.MOUSE_REPORT_DRAG=3,hterm.VT.ParseState=function(s,l){this.defaultFunction=s,this.buf=l||null,this.pos=0,this.func=s,this.args=[]},hterm.VT.ParseState.prototype.reset=function(s){this.resetParseFunction(),this.resetBuf(s||''),this.resetArguments()},hterm.VT.ParseState.prototype.resetParseFunction=function(){this.func=this.defaultFunction},hterm.VT.ParseState.prototype.resetBuf=function(s){this.buf='string'==typeof s?s:null,this.pos=0},hterm.VT.ParseState.prototype.resetArguments=function(s){this.args.length=0,'undefined'!=typeof s&&(this.args[0]=s)},hterm.VT.ParseState.prototype.iarg=function(s,l){var u=this.args[s];if(u){var A=parseInt(u,10);return 0==A&&(A=l),A}return l},hterm.VT.ParseState.prototype.advance=function(s){this.pos+=s},hterm.VT.ParseState.prototype.peekRemainingBuf=function(){return this.buf.substr(this.pos)},hterm.VT.ParseState.prototype.peekChar=function(){return this.buf.substr(this.pos,1)},hterm.VT.ParseState.prototype.consumeChar=function(){return this.buf.substr(this.pos++,1)},hterm.VT.ParseState.prototype.isComplete=function(){return null==this.buf||this.buf.length<=this.pos},hterm.VT.CursorState=function(s){this.vt_=s,this.save()},hterm.VT.CursorState.prototype.save=function(){this.cursor=this.vt_.terminal.saveCursor(),this.textAttributes=this.vt_.terminal.getTextAttributes().clone(),this.GL=this.vt_.GL,this.GR=this.vt_.GR,this.G0=this.vt_.G0,this.G1=this.vt_.G1,this.G2=this.vt_.G2,this.G3=this.vt_.G3},hterm.VT.CursorState.prototype.restore=function(){this.vt_.terminal.restoreCursor(this.cursor),this.vt_.terminal.setTextAttributes(this.textAttributes.clone()),this.vt_.GL=this.GL,this.vt_.GR=this.GR,this.vt_.G0=this.G0,this.vt_.G1=this.G1,this.vt_.G2=this.G2,this.vt_.G3=this.G3},hterm.VT.prototype.reset=function(){this.G0=this.characterMaps.getMap('B'),this.G1=this.characterMaps.getMap('0'),this.G2=this.characterMaps.getMap('B'),this.G3=this.characterMaps.getMap('B'),this.GL='G0',this.GR='G0',this.savedState_=new hterm.VT.CursorState(this),this.mouseReport=this.MOUSE_REPORT_DISABLED},hterm.VT.prototype.onTerminalMouse_=function(s){if(this.mouseReport!=this.MOUSE_REPORT_DISABLED){var u=0,l;s.shiftKey&&(u|=4),(s.metaKey||this.terminal.keyboard.altIsMeta&&s.altKey)&&(u|=8),s.ctrlKey&&(u|=16);var A=String.fromCharCode(lib.f.clamp(s.terminalColumn+32,32,255)),C=String.fromCharCode(lib.f.clamp(s.terminalRow+32,32,255));switch(s.type){case'wheel':S=(0<-1*s.deltaY?0:1)+96,S|=u,l='\x1B[M'+String.fromCharCode(S)+A+C,s.preventDefault();break;case'mousedown':var S=Math.min(s.button,2)+32;S|=u,l='\x1B[M'+String.fromCharCode(S)+A+C;break;case'mouseup':l='\x1B[M#'+A+C;break;case'mousemove':this.mouseReport==this.MOUSE_REPORT_DRAG&&s.buttons&&(S=32,S+=1&s.buttons?0:4&s.buttons?1:2&s.buttons?2:3,S+=32,S|=u,l='\x1B[M'+String.fromCharCode(S)+A+C);break;case'click':case'dblclick':break;default:console.error('Unknown mouse event: '+s.type,s);}l&&this.terminal.io.sendString(l)}},hterm.VT.prototype.interpret=function(s){for(this.parseState_.resetBuf(this.decode(s));!this.parseState_.isComplete();){var l=this.parseState_.func,u=this.parseState_.pos,s=this.parseState_.buf;if(this.parseState_.func.call(this,this.parseState_),this.parseState_.func==l&&this.parseState_.pos==u&&this.parseState_.buf==s)throw'Parser did not alter the state!'}},hterm.VT.prototype.decode=function(s){return'utf-8'==this.characterEncoding?this.decodeUTF8(s):s},hterm.VT.prototype.encodeUTF8=function(s){return lib.encodeUTF8(s)},hterm.VT.prototype.decodeUTF8=function(s){return this.utf8Decoder_.decode(s)},hterm.VT.prototype.setEncoding=function(s){'iso-2022'===s?(this.codingSystemUtf8_=!1,this.codingSystemLocked_=!1):'utf-8-locked'===s?(this.codingSystemUtf8_=!0,this.codingSystemLocked_=!0):'utf-8'===s?(this.codingSystemUtf8_=!0,this.codingSystemLocked_=!1):console.warn('Invalid value for "terminal-encoding": '+s);this.updateEncodingState_()},hterm.VT.prototype.updateEncodingState_=function(){var s=Object.keys(hterm.VT.CC1).filter(l=>!this.codingSystemUtf8_||128>l.charCodeAt()).map(l=>'\\x'+lib.f.zpad(l.charCodeAt().toString(16),2)).join('');this.cc1Pattern_=new RegExp(`[${s}]`)},hterm.VT.prototype.parseUnknown_=function(s){function l(S){!u.codingSystemUtf8_&&u[u.GL].GL&&(S=u[u.GL].GL(S)),u.terminal.print(S)}var u=this;var A=s.peekRemainingBuf(),C=A.search(this.cc1Pattern_);return 0==C?(this.dispatch('CC1',A.substr(0,1),s),void s.advance(1)):-1==C?(l(A),void s.reset()):void(l(A.substr(0,C)),this.dispatch('CC1',A.substr(C,1),s),s.advance(C+1))},hterm.VT.prototype.parseCSI_=function(s){var l=s.peekChar(),u=s.args;'@'<=l&&'~'>=l?(this.dispatch('CSI',this.leadingModifier_+this.trailingModifier_+l,s),s.resetParseFunction()):';'==l?this.trailingModifier_?s.resetParseFunction():(!u.length&&u.push(''),u.push('')):'0'<=l&&'9'>=l?this.trailingModifier_?s.resetParseFunction():u.length?u[u.length-1]+=l:u[0]=l:' '<=l&&'?'>=l&&':'!=l?u.length?this.trailingModifier_+=l:this.leadingModifier_+=l:this.cc1Pattern_.test(l)?this.dispatch('CC1',l,s):s.resetParseFunction(),s.advance(1)},hterm.VT.prototype.parseUntilStringTerminator_=function(s){var l=s.peekRemainingBuf(),u=s.args;let A=0;u.length?'\x1B'==u[0].slice(-1)&&(u[0]=u[0].slice(0,-1),l='\x1B'+l,A=1):(u[0]='',u[1]=new Date);const C=l.search(/[\x1b\x07]/),S=l[C];let _;if(_='\x1B'==S&&'\\'!=l[C+1]?!1:-1!=C,!_){u[0]+=l;var T;return(u[0].length>this.maxStringSequence&&(T='too long: '+u[0].length),'\x1B'==S&&C!=l.length-1&&(T='embedded escape: '+C),new Date-u[1]>this.oscTimeLimit_&&(T='timeout expired: '+(new Date-u[1])),T)?(this.warnUnimplemented&&console.log('parseUntilStringTerminator_: aborting: '+T,u[0]),s.reset(u[0]),!1):(s.advance(l.length-A),!0)}return u[0].length+C>this.maxStringSequence?(s.reset(u[0]+l),!1):(u[0]+=l.substr(0,C),s.resetParseFunction(),s.advance(C+('\x1B'==S?2:1)-A),!0)},hterm.VT.prototype.dispatch=function(s,l,u){var A=hterm.VT[s][l];return A?A==hterm.VT.ignore?void(this.warnUnimplemented&&console.warn('Ignored '+s+' code: '+JSON.stringify(l))):'CC1'==s&&'\x7F'<l&&!this.enable8BitControl?void console.warn('Ignoring 8-bit control code: 0x'+l.charCodeAt(0).toString(16)):void A.apply(this,[u,l]):void(this.warnUnimplemented&&console.warn('Unknown '+s+' code: '+JSON.stringify(l)))},hterm.VT.prototype.setANSIMode=function(s,l){4==s?this.terminal.setInsertMode(l):20==s?this.terminal.setAutoCarriageReturn(l):this.warnUnimplemented&&console.warn('Unimplemented ANSI Mode: '+s)},hterm.VT.prototype.setDECMode=function(s,l){switch(parseInt(s,10)){case 1:this.terminal.keyboard.applicationCursor=l;break;case 3:this.allowColumnWidthChanges_&&(this.terminal.setWidth(l?132:80),this.terminal.clearHome(),this.terminal.setVTScrollRegion(null,null));break;case 5:this.terminal.setReverseVideo(l);break;case 6:this.terminal.setOriginMode(l);break;case 7:this.terminal.setWraparound(l);break;case 12:this.enableDec12&&this.terminal.setCursorBlink(l);break;case 25:this.terminal.setCursorVisible(l);break;case 30:this.terminal.setScrollbarVisible(l);break;case 40:this.terminal.allowColumnWidthChanges_=l;break;case 45:this.terminal.setReverseWraparound(l);break;case 67:this.terminal.keyboard.backspaceSendsBackspace=l;break;case 1e3:this.mouseReport=l?this.MOUSE_REPORT_CLICK:this.MOUSE_REPORT_DISABLED,this.terminal.syncMouseStyle();break;case 1002:this.mouseReport=l?this.MOUSE_REPORT_DRAG:this.MOUSE_REPORT_DISABLED,this.terminal.syncMouseStyle();break;case 1010:this.terminal.scrollOnOutput=l;break;case 1011:this.terminal.scrollOnKeystroke=l;break;case 1036:this.terminal.keyboard.metaSendsEscape=l;break;case 1039:l?!this.terminal.keyboard.previousAltSendsWhat_&&(this.terminal.keyboard.previousAltSendsWhat_=this.terminal.keyboard.altSendsWhat,this.terminal.keyboard.altSendsWhat='escape'):this.terminal.keyboard.previousAltSendsWhat_&&(this.terminal.keyboard.altSendsWhat=this.terminal.keyboard.previousAltSendsWhat_,this.terminal.keyboard.previousAltSendsWhat_=null);break;case 47:case 1047:this.terminal.setAlternateMode(l);break;case 1048:this.savedState_.save();case 1049:l?(this.savedState_.save(),this.terminal.setAlternateMode(l),this.terminal.clear()):(this.terminal.setAlternateMode(l),this.savedState_.restore());break;case 2004:this.terminal.setBracketedPaste(l);break;default:this.warnUnimplemented&&console.warn('Unimplemented DEC Private Mode: '+s);}},hterm.VT.ignore=function(){},hterm.VT.CC1={},hterm.VT.ESC={},hterm.VT.CSI={},hterm.VT.OSC={},hterm.VT.VT52={},hterm.VT.CC1['\0']=hterm.VT.ignore,hterm.VT.CC1['\x05']=hterm.VT.ignore,hterm.VT.CC1['\x07']=function(){this.terminal.ringBell()},hterm.VT.CC1['\b']=function(){this.terminal.cursorLeft(1)},hterm.VT.CC1['\t']=function(){this.terminal.forwardTabStop()},hterm.VT.CC1['\n']=function(){this.terminal.formFeed()},hterm.VT.CC1['\x0B']=hterm.VT.CC1['\n'],hterm.VT.CC1['\f']=hterm.VT.CC1['\n'],hterm.VT.CC1['\r']=function(){this.terminal.setCursorColumn(0)},hterm.VT.CC1['\x0E']=function(){this.GL='G1'},hterm.VT.CC1['\x0F']=function(){this.GL='G0'},hterm.VT.CC1['\x11']=hterm.VT.ignore,hterm.VT.CC1['\x13']=hterm.VT.ignore,hterm.VT.CC1['\x18']=function(s){'G1'==this.GL&&(this.GL='G0'),s.resetParseFunction(),this.terminal.print('?')},hterm.VT.CC1['\x1A']=hterm.VT.CC1['\x18'],hterm.VT.CC1['\x1B']=function(s){function l(u){var A=u.consumeChar();'\x1B'==A||(this.dispatch('ESC',A,u),u.func==l&&u.resetParseFunction())}s.func=l},hterm.VT.CC1['\x7F']=hterm.VT.ignore,hterm.VT.CC1['\x84']=hterm.VT.ESC.D=function(){this.terminal.lineFeed()},hterm.VT.CC1['\x85']=hterm.VT.ESC.E=function(){this.terminal.setCursorColumn(0),this.terminal.cursorDown(1)},hterm.VT.CC1['\x88']=hterm.VT.ESC.H=function(){this.terminal.setTabStop(this.terminal.getCursorColumn())},hterm.VT.CC1['\x8D']=hterm.VT.ESC.M=function(){this.terminal.reverseLineFeed()},hterm.VT.CC1['\x8E']=hterm.VT.ESC.N=hterm.VT.ignore,hterm.VT.CC1['\x8F']=hterm.VT.ESC.O=hterm.VT.ignore,hterm.VT.CC1['\x90']=hterm.VT.ESC.P=function(s){s.resetArguments(),s.func=this.parseUntilStringTerminator_},hterm.VT.CC1['\x96']=hterm.VT.ESC.V=hterm.VT.ignore,hterm.VT.CC1['\x97']=hterm.VT.ESC.W=hterm.VT.ignore,hterm.VT.CC1['\x98']=hterm.VT.ESC.X=hterm.VT.ignore,hterm.VT.CC1['\x9A']=hterm.VT.ESC.Z=function(){this.terminal.io.sendString('\x1B[?1;2c')},hterm.VT.CC1['\x9B']=hterm.VT.ESC['[']=function(s){s.resetArguments(),this.leadingModifier_='',this.trailingModifier_='',s.func=this.parseCSI_},hterm.VT.CC1['\x9C']=hterm.VT.ESC['\\']=hterm.VT.ignore,hterm.VT.CC1['\x9D']=hterm.VT.ESC[']']=function(s){function l(u){if(this.parseUntilStringTerminator_(u)&&u.func!=l){var A=u.args[0].match(/^(\d+);(.*)$/);A?(u.args[0]=A[2],this.dispatch('OSC',A[1],u)):console.warn('Invalid OSC: '+JSON.stringify(u.args[0]))}}s.resetArguments();s.func=l},hterm.VT.CC1['\x9E']=hterm.VT.ESC['^']=function(s){s.resetArguments(),s.func=this.parseUntilStringTerminator_},hterm.VT.CC1['\x9F']=hterm.VT.ESC._=function(s){s.resetArguments(),s.func=this.parseUntilStringTerminator_},hterm.VT.ESC[' ']=function(s){s.func=function(l){var u=l.consumeChar();this.warnUnimplemented&&console.warn('Unimplemented sequence: ESC 0x20 '+u),l.resetParseFunction()}},hterm.VT.ESC['#']=function(s){s.func=function(l){var u=l.consumeChar();'8'==u&&this.terminal.fill('E'),l.resetParseFunction()}},hterm.VT.ESC['%']=function(s){s.func=function(l){var u=l.consumeChar();if(this.codingSystemLocked_)return'/'==u&&l.consumeChar(),void l.resetParseFunction();switch(u){case'@':this.setEncoding('iso-2022');break;case'G':this.setEncoding('utf-8');break;case'/':switch(u=l.consumeChar(),u){case'G':case'H':case'I':this.setEncoding('utf-8-locked');break;default:this.warnUnimplemented&&console.warn('Unknown ESC % / argument: '+JSON.stringify(u));}break;default:this.warnUnimplemented&&console.warn('Unknown ESC % argument: '+JSON.stringify(u));}l.resetParseFunction()}},hterm.VT.ESC['(']=hterm.VT.ESC[')']=hterm.VT.ESC['*']=hterm.VT.ESC['+']=hterm.VT.ESC['-']=hterm.VT.ESC['.']=hterm.VT.ESC['/']=function(s,l){s.func=function(u){var A=u.consumeChar();if('\x1B'==A)return u.resetParseFunction(),void u.func();var C=this.characterMaps.getMap(A);C===void 0?this.warnUnimplemented&&console.log('Invalid character set for "'+l+'": '+A):'('==l?this.G0=C:')'==l||'-'==l?this.G1=C:'*'==l||'.'==l?this.G2=C:('+'==l||'/'==l)&&(this.G3=C),u.resetParseFunction()}},hterm.VT.ESC[6]=hterm.VT.ignore,hterm.VT.ESC[7]=function(){this.savedState_.save()},hterm.VT.ESC[8]=function(){this.savedState_.restore()},hterm.VT.ESC[9]=hterm.VT.ignore,hterm.VT.ESC['=']=function(){this.terminal.keyboard.applicationKeypad=!0},hterm.VT.ESC['>']=function(){this.terminal.keyboard.applicationKeypad=!1},hterm.VT.ESC.F=hterm.VT.ignore,hterm.VT.ESC.c=function(){this.reset(),this.terminal.reset()},hterm.VT.ESC.l=hterm.VT.ESC.m=hterm.VT.ignore,hterm.VT.ESC.n=function(){this.GL='G2'},hterm.VT.ESC.o=function(){this.GL='G3'},hterm.VT.ESC['|']=function(){this.GR='G3'},hterm.VT.ESC['}']=function(){this.GR='G2'},hterm.VT.ESC['~']=function(){this.GR='G1'},hterm.VT.OSC[0]=function(s){this.terminal.setWindowTitle(s.args[0])},hterm.VT.OSC[2]=hterm.VT.OSC[0],hterm.VT.OSC[4]=function(s){for(var l=s.args[0].split(';'),u=parseInt(l.length/2),A=this.terminal.getTextAttributes().colorPalette,C=[],S=0;S<u;++S){var _=parseInt(l[2*S]),T=l[2*S+1];if(!(_>=A.length)){if('?'==T){T=lib.colors.rgbToX11(A[_]),T&&C.push(_+';'+T);continue}T=lib.colors.x11ToCSS(T),T&&(A[_]=T)}}C.length&&this.terminal.io.sendString('\x1B]4;'+C.join(';')+'\x07')},hterm.VT.OSC[9]=function(s){hterm.notify({body:s.args[0]})},hterm.VT.OSC[10]=function(s){var l=s.args[0].split(';');if(l){var A=lib.colors.x11ToCSS(l.shift());A&&this.terminal.setForegroundColor(A),0<l.length&&(s.args[0]=l.join(';'),hterm.VT.OSC[11].apply(this,[s]))}},hterm.VT.OSC[11]=function(s){var l=s.args[0].split(';');if(l){var A=lib.colors.x11ToCSS(l.shift());A&&this.terminal.setBackgroundColor(A),0<l.length&&(s.args[0]=l.join(';'),hterm.VT.OSC[12].apply(this,[s]))}},hterm.VT.OSC[12]=function(s){var l=s.args[0].split(';');if(l){var A=lib.colors.x11ToCSS(l.shift());A&&this.terminal.setCursorColor(A)}},hterm.VT.OSC[50]=function(s){var l=s.args[0].match(/CursorShape=(.)/i);if(!l)return void console.warn('Could not parse OSC 50 args: '+s.args[0]);switch(l[1]){case'1':this.terminal.setCursorShape(hterm.Terminal.cursorShape.BEAM);break;case'2':this.terminal.setCursorShape(hterm.Terminal.cursorShape.UNDERLINE);break;default:this.terminal.setCursorShape(hterm.Terminal.cursorShape.BLOCK);}},hterm.VT.OSC[52]=function(s){var l=s.args[0].match(/^[cps01234567]*;(.*)/);if(l){var u=window.atob(l[1]);u&&this.terminal.copyStringToClipboard(this.decode(u))}},hterm.VT.OSC[777]=function(s){var l,u=s.args[0].split(';',1)[0];switch(u){case'notify':var A,C;l=s.args[0].match(/^[^;]+;([^;]*)(;([\s\S]*))?$/),l&&(A=l[1],C=l[3]),hterm.notify({title:A,body:C});break;default:console.warn('Unknown urxvt module: '+s.args[0]);}},hterm.VT.CSI['@']=function(s){this.terminal.insertSpace(s.iarg(0,1))},hterm.VT.CSI.A=function(s){this.terminal.cursorUp(s.iarg(0,1))},hterm.VT.CSI.B=function(s){this.terminal.cursorDown(s.iarg(0,1))},hterm.VT.CSI.C=function(s){this.terminal.cursorRight(s.iarg(0,1))},hterm.VT.CSI.D=function(s){this.terminal.cursorLeft(s.iarg(0,1))},hterm.VT.CSI.E=function(s){this.terminal.cursorDown(s.iarg(0,1)),this.terminal.setCursorColumn(0)},hterm.VT.CSI.F=function(s){this.terminal.cursorUp(s.iarg(0,1)),this.terminal.setCursorColumn(0)},hterm.VT.CSI.G=function(s){this.terminal.setCursorColumn(s.iarg(0,1)-1)},hterm.VT.CSI.H=function(s){this.terminal.setCursorPosition(s.iarg(0,1)-1,s.iarg(1,1)-1)},hterm.VT.CSI.I=function(s){var l=s.iarg(0,1);l=lib.f.clamp(l,1,this.terminal.screenSize.width);for(var u=0;u<l;u++)this.terminal.forwardTabStop()},hterm.VT.CSI.J=hterm.VT.CSI['?J']=function(s){var u=s.args[0];u&&0!=u?1==u?this.terminal.eraseAbove():2==u?this.terminal.clear():3==u&&this.terminal.clear():this.terminal.eraseBelow()},hterm.VT.CSI.K=hterm.VT.CSI['?K']=function(s){var u=s.args[0];u&&0!=u?1==u?this.terminal.eraseToLeft():2==u&&this.terminal.eraseLine():this.terminal.eraseToRight()},hterm.VT.CSI.L=function(s){this.terminal.insertLines(s.iarg(0,1))},hterm.VT.CSI.M=function(s){this.terminal.deleteLines(s.iarg(0,1))},hterm.VT.CSI.P=function(s){this.terminal.deleteChars(s.iarg(0,1))},hterm.VT.CSI.S=function(s){this.terminal.vtScrollUp(s.iarg(0,1))},hterm.VT.CSI.T=function(s){1>=s.args.length&&this.terminal.vtScrollDown(s.iarg(0,1))},hterm.VT.CSI['>T']=hterm.VT.ignore,hterm.VT.CSI.X=function(s){this.terminal.eraseToRight(s.iarg(0,1))},hterm.VT.CSI.Z=function(s){var l=s.iarg(0,1);l=lib.f.clamp(l,1,this.terminal.screenSize.width);for(var u=0;u<l;u++)this.terminal.backwardTabStop()},hterm.VT.CSI['`']=hterm.VT.CSI.G,hterm.VT.CSI.a=function(s){this.terminal.setCursorColumn(this.terminal.getCursorColumn()+s.iarg(0,1))},hterm.VT.CSI.b=hterm.VT.ignore,hterm.VT.CSI.c=function(s){s.args[0]&&0!=s.args[0]||this.terminal.io.sendString('\x1B[?1;2c')},hterm.VT.CSI['>c']=function(){this.terminal.io.sendString('\x1B[>0;256;0c')},hterm.VT.CSI.d=function(s){this.terminal.setAbsoluteCursorRow(s.iarg(0,1)-1)},hterm.VT.CSI.f=hterm.VT.CSI.H,hterm.VT.CSI.g=function(s){s.args[0]&&0!=s.args[0]?3==s.args[0]&&this.terminal.clearAllTabStops():this.terminal.clearTabStopAtCursor(!1)},hterm.VT.CSI.h=function(s){for(var l=0;l<s.args.length;l++)this.setANSIMode(s.args[l],!0)},hterm.VT.CSI['?h']=function(s){for(var l=0;l<s.args.length;l++)this.setDECMode(s.args[l],!0)},hterm.VT.CSI.i=hterm.VT.CSI['?i']=hterm.VT.ignore,hterm.VT.CSI.l=function(s){for(var l=0;l<s.args.length;l++)this.setANSIMode(s.args[l],!1)},hterm.VT.CSI['?l']=function(s){for(var l=0;l<s.args.length;l++)this.setDECMode(s.args[l],!1)},hterm.VT.CSI.m=function(s){function l(F){return s.args.length<F+2||5!=s.args[F+1]?null:s.iarg(F+2,0)}function u(F){if(s.args.length<F+5||2!=s.args[F+1])return null;var V=s.iarg(F+2,0),P=s.iarg(F+3,0),R=s.iarg(F+4,0);return'rgb('+V+' ,'+P+' ,'+R+')'}var A=this.terminal.getTextAttributes();if(!s.args.length)return void A.reset();for(var C=0,S;C<s.args.length;C++)if(S=s.iarg(C,0),30>S)0==S?A.reset():1==S?A.bold=!0:2==S?A.faint=!0:3==S?A.italic=!0:4==S?A.underline=!0:5==S?A.blink=!0:7==S?A.inverse=!0:8==S?A.invisible=!0:9==S?A.strikethrough=!0:22==S?(A.bold=!1,A.faint=!1):23==S?A.italic=!1:24==S?A.underline=!1:25==S?A.blink=!1:27==S?A.inverse=!1:28==S?A.invisible=!1:29==S&&(A.strikethrough=!1);else if(!(50>S))90<=S&&97>=S?A.foregroundSource=S-90+8:100<=S&&107>=S&&(A.backgroundSource=S-100+8);else if(38>S)A.foregroundSource=S-30;else if(38==S){var _=u(C);if(null!=_)A.foregroundSource=A.SRC_RGB,A.foreground=_,C+=5;else{var T=l(C);if(null==T)break;if(C+=2,T>=A.colorPalette.length)continue;A.foregroundSource=T}}else if(39==S)A.foregroundSource=A.SRC_DEFAULT;else if(48>S)A.backgroundSource=S-40;else if(48==S){var _=u(C);if(null!=_)A.backgroundSource=A.SRC_RGB,A.background=_,C+=5;else{var T=l(C);if(null==T)break;if(C+=2,T>=A.colorPalette.length)continue;A.backgroundSource=T}}else A.backgroundSource=A.SRC_DEFAULT;A.setDefaults(this.terminal.getForegroundColor(),this.terminal.getBackgroundColor())},hterm.VT.CSI['>m']=hterm.VT.ignore,hterm.VT.CSI.n=function(s){if(5==s.args[0])this.terminal.io.sendString('\x1B0n');else if(6==s.args[0]){var l=this.terminal.getCursorRow()+1,u=this.terminal.getCursorColumn()+1;this.terminal.io.sendString('\x1B['+l+';'+u+'R')}},hterm.VT.CSI['>n']=hterm.VT.ignore,hterm.VT.CSI['?n']=function(s){if(6==s.args[0]){var l=this.terminal.getCursorRow()+1,u=this.terminal.getCursorColumn()+1;this.terminal.io.sendString('\x1B['+l+';'+u+'R')}else 15==s.args[0]?this.terminal.io.sendString('\x1B[?11n'):25==s.args[0]?this.terminal.io.sendString('\x1B[?21n'):26==s.args[0]?this.terminal.io.sendString('\x1B[?12;1;0;0n'):53==s.args[0]&&this.terminal.io.sendString('\x1B[?50n')},hterm.VT.CSI['>p']=hterm.VT.ignore,hterm.VT.CSI['!p']=function(){this.reset(),this.terminal.softReset()},hterm.VT.CSI.$p=hterm.VT.ignore,hterm.VT.CSI['?$p']=hterm.VT.ignore,hterm.VT.CSI['"p']=hterm.VT.ignore,hterm.VT.CSI.q=hterm.VT.ignore,hterm.VT.CSI[' q']=function(s){var l=s.args[0];0==l||1==l?(this.terminal.setCursorShape(hterm.Terminal.cursorShape.BLOCK),this.terminal.setCursorBlink(!0)):2==l?(this.terminal.setCursorShape(hterm.Terminal.cursorShape.BLOCK),this.terminal.setCursorBlink(!1)):3==l?(this.terminal.setCursorShape(hterm.Terminal.cursorShape.UNDERLINE),this.terminal.setCursorBlink(!0)):4==l?(this.terminal.setCursorShape(hterm.Terminal.cursorShape.UNDERLINE),this.terminal.setCursorBlink(!1)):5==l?(this.terminal.setCursorShape(hterm.Terminal.cursorShape.BEAM),this.terminal.setCursorBlink(!0)):6==l?(this.terminal.setCursorShape(hterm.Terminal.cursorShape.BEAM),this.terminal.setCursorBlink(!1)):console.warn('Unknown cursor style: '+l)},hterm.VT.CSI['"q']=hterm.VT.ignore,hterm.VT.CSI.r=function(s){var l=s.args,u=l[0]?parseInt(l[0],10)-1:null,A=l[1]?parseInt(l[1],10)-1:null;this.terminal.setVTScrollRegion(u,A),this.terminal.setCursorPosition(0,0)},hterm.VT.CSI['?r']=hterm.VT.ignore,hterm.VT.CSI.$r=hterm.VT.ignore,hterm.VT.CSI.s=function(){this.savedState_.save()},hterm.VT.CSI['?s']=hterm.VT.ignore,hterm.VT.CSI.t=hterm.VT.ignore,hterm.VT.CSI.$t=hterm.VT.ignore,hterm.VT.CSI['>t']=hterm.VT.ignore,hterm.VT.CSI[' t']=hterm.VT.ignore,hterm.VT.CSI.u=function(){this.savedState_.restore()},hterm.VT.CSI[' u']=hterm.VT.ignore,hterm.VT.CSI.$v=hterm.VT.ignore,hterm.VT.CSI['\'w']=hterm.VT.ignore,hterm.VT.CSI.x=hterm.VT.ignore,hterm.VT.CSI['*x']=hterm.VT.ignore,hterm.VT.CSI.$x=hterm.VT.ignore,hterm.VT.CSI.z=function(s){if(!(1>s.args.length)){var l=s.args[0];if(0==l){if(2>s.args.length)return;this.terminal.getTextAttributes().tileData=s.args[1]}else 1==l&&(this.terminal.getTextAttributes().tileData=null)}},hterm.VT.CSI['\'z']=hterm.VT.ignore,hterm.VT.CSI.$z=hterm.VT.ignore,hterm.VT.CSI['\'{']=hterm.VT.ignore,hterm.VT.CSI['\'|']=hterm.VT.ignore,hterm.VT.CSI['\'}']=hterm.VT.ignore,hterm.VT.CSI['\'~']=hterm.VT.ignore,'use strict',lib.rtdep('lib.f'),hterm.VT.CharacterMap=function(s,l){this.description=s,this.GL=null,this.glmapBase_=l,this.sync_()},hterm.VT.CharacterMap.prototype.sync_=function(s){if(!this.glmapBase_&&!s)return this.GL=null,delete this.glmap_,void delete this.glre_;this.glmap_=s?Object.assign({},this.glmapBase_,s):this.glmapBase_;var l=Object.keys(this.glmap_).map(u=>'\\x'+lib.f.zpad(u.charCodeAt(0).toString(16)));this.glre_=new RegExp('['+l.join('')+']','g'),this.GL=u=>u.replace(this.glre_,A=>this.glmap_[A])},hterm.VT.CharacterMap.prototype.reset=function(){this.glmap_!==this.glmapBase_&&this.sync_()},hterm.VT.CharacterMap.prototype.setOverrides=function(s){this.sync_(s)},hterm.VT.CharacterMap.prototype.clone=function(){var s=new hterm.VT.CharacterMap(this.description,this.glmapBase_);return this.glmap_!==this.glmapBase_&&s.setOverrides(this.glmap_),s},hterm.VT.CharacterMaps=function(){this.maps_=hterm.VT.CharacterMaps.DefaultMaps,this.mapsBase_=this.maps_},hterm.VT.CharacterMaps.prototype.getMap=function(s){return this.maps_.hasOwnProperty(s)?this.maps_[s]:void 0},hterm.VT.CharacterMaps.prototype.addMap=function(s,l){this.maps_===this.mapsBase_&&(this.maps_=Object.assign({},this.mapsBase_)),this.maps_[s]=l},hterm.VT.CharacterMaps.prototype.reset=function(){this.maps_!==hterm.VT.CharacterMaps.DefaultMaps&&(this.maps_=hterm.VT.CharacterMaps.DefaultMaps)},hterm.VT.CharacterMaps.prototype.setOverrides=function(s){for(var l in this.maps_===this.mapsBase_&&(this.maps_=Object.assign({},this.mapsBase_)),s){var u=this.getMap(l);void 0===u?this.addMap(l,new hterm.VT.CharacterMap('user '+l,s[l])):(this.maps_[l]=u.clone(),this.maps_[l].setOverrides(s[l]))}},hterm.VT.CharacterMaps.DefaultMaps={},hterm.VT.CharacterMaps.DefaultMaps[0]=new hterm.VT.CharacterMap('graphic',{'`':'\u25C6',a:'\u2592',b:'\u2409',c:'\u240C',d:'\u240D',e:'\u240A',f:'\xB0',g:'\xB1',h:'\u2424',i:'\u240B',j:'\u2518',k:'\u2510',l:'\u250C',m:'\u2514',n:'\u253C',o:'\u23BA',p:'\u23BB',q:'\u2500',r:'\u23BC',s:'\u23BD',t:'\u251C',u:'\u2524',v:'\u2534',w:'\u252C',x:'\u2502',y:'\u2264',z:'\u2265','{':'\u03C0','|':'\u2260','}':'\xA3','~':'\xB7'}),hterm.VT.CharacterMaps.DefaultMaps.A=new hterm.VT.CharacterMap('british',{'#':'\xA3'}),hterm.VT.CharacterMaps.DefaultMaps.B=new hterm.VT.CharacterMap('us',null),hterm.VT.CharacterMaps.DefaultMaps[4]=new hterm.VT.CharacterMap('dutch',{'#':'\xA3','@':'\xBE','[':'\u0132','\\':'\xBD',']':'|','{':'\xA8','|':'f','}':'\xBC','~':'\xB4'}),hterm.VT.CharacterMaps.DefaultMaps.C=hterm.VT.CharacterMaps.DefaultMaps[5]=new hterm.VT.CharacterMap('finnish',{'[':'\xC4','\\':'\xD6',']':'\xC5','^':'\xDC','`':'\xE9','{':'\xE4','|':'\xF6','}':'\xE5','~':'\xFC'}),hterm.VT.CharacterMaps.DefaultMaps.R=new hterm.VT.CharacterMap('french',{'#':'\xA3','@':'\xE0','[':'\xB0','\\':'\xE7',']':'\xA7','{':'\xE9','|':'\xF9','}':'\xE8','~':'\xA8'}),hterm.VT.CharacterMaps.DefaultMaps.Q=new hterm.VT.CharacterMap('french canadian',{'@':'\xE0','[':'\xE2','\\':'\xE7',']':'\xEA','^':'\xEE','`':'\xF4','{':'\xE9','|':'\xF9','}':'\xE8','~':'\xFB'}),hterm.VT.CharacterMaps.DefaultMaps.K=new hterm.VT.CharacterMap('german',{'@':'\xA7','[':'\xC4','\\':'\xD6',']':'\xDC','{':'\xE4','|':'\xF6','}':'\xFC','~':'\xDF'}),hterm.VT.CharacterMaps.DefaultMaps.Y=new hterm.VT.CharacterMap('italian',{'#':'\xA3','@':'\xA7','[':'\xB0','\\':'\xE7',']':'\xE9','`':'\xF9','{':'\xE0','|':'\xF2','}':'\xE8','~':'\xEC'}),hterm.VT.CharacterMaps.DefaultMaps.E=hterm.VT.CharacterMaps.DefaultMaps[6]=new hterm.VT.CharacterMap('norwegian/danish',{'@':'\xC4','[':'\xC6','\\':'\xD8',']':'\xC5','^':'\xDC','`':'\xE4','{':'\xE6','|':'\xF8','}':'\xE5','~':'\xFC'}),hterm.VT.CharacterMaps.DefaultMaps.Z=new hterm.VT.CharacterMap('spanish',{'#':'\xA3','@':'\xA7','[':'\xA1','\\':'\xD1',']':'\xBF','{':'\xB0','|':'\xF1','}':'\xE7'}),hterm.VT.CharacterMaps.DefaultMaps[7]=hterm.VT.CharacterMaps.DefaultMaps.H=new hterm.VT.CharacterMap('swedish',{'@':'\xC9','[':'\xC4','\\':'\xD6',']':'\xC5','^':'\xDC','`':'\xE9','{':'\xE4','|':'\xF6','}':'\xE5','~':'\xFC'}),hterm.VT.CharacterMaps.DefaultMaps['=']=new hterm.VT.CharacterMap('swiss',{'#':'\xF9','@':'\xE0','[':'\xE9','\\':'\xE7',']':'\xEA','^':'\xEE',_:'\xE8','`':'\xF4','{':'\xE4','|':'\xF6','}':'\xFC','~':'\xFB'}),lib.resource.add('hterm/audio/bell','audio/ogg;base64','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'),lib.resource.add('hterm/images/icon-96','image/png;base64','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'),lib.resource.add('hterm/concat/date','text/plain','Sun, 01 Oct 2017 10:25:22 +0000'),lib.resource.add('hterm/changelog/version','text/plain','1.72'),lib.resource.add('hterm/changelog/date','text/plain','2017-09-12'),lib.resource.add('hterm/git/HEAD','text/plain','git rev-parse HEAD');